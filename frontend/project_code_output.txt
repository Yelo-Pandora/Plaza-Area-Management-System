
================================================================================
文件路径: frontend\eslint.config.js
--------------------------------------------------------------------------------

import { defineConfig, globalIgnores } from 'eslint/config'
import globals from 'globals'
import js from '@eslint/js'
import pluginVue from 'eslint-plugin-vue'

export default defineConfig([
  {
    name: 'app/files-to-lint',
    files: ['**/*.{js,mjs,jsx,vue}'],
  },

  globalIgnores(['**/dist/**', '**/dist-ssr/**', '**/coverage/**']),

  {
    languageOptions: {
      globals: {
        ...globals.browser,
      },
    },
  },

  js.configs.recommended,
  ...pluginVue.configs['flat/essential'],
])



================================================================================
文件路径: frontend\index.html
--------------------------------------------------------------------------------

<!DOCTYPE html>
<html lang="">
  <head>
    <meta charset="UTF-8">
    <link rel="icon" href="/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vite App</title>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>



================================================================================
文件路径: frontend\jsconfig.json
--------------------------------------------------------------------------------

{
  "compilerOptions": {
    "paths": {
      "@/*": ["./src/*"]
    }
  },
  "exclude": ["node_modules", "dist"]
}



================================================================================
文件路径: frontend\package-lock.json
--------------------------------------------------------------------------------

{
  "name": "frontend",
  "version": "0.0.0",
  "lockfileVersion": 3,
  "requires": true,
  "packages": {
    "": {
      "name": "frontend",
      "version": "0.0.0",
      "dependencies": {
        "konva": "^9.3.14",
        "vue": "^3.5.22",
        "vue-konva": "^3.0.2",
        "vue-router": "^4.4.5"
      },
      "devDependencies": {
        "@eslint/js": "^9.37.0",
        "@vitejs/plugin-vue": "^6.0.1",
        "eslint": "^9.37.0",
        "eslint-plugin-vue": "~10.5.0",
        "globals": "^16.4.0",
        "vite": "^7.1.11",
        "vite-plugin-vue-devtools": "^8.0.3"
      },
      "engines": {
        "node": "^20.19.0 || >=22.12.0"
      }
    },
    "node_modules/@babel/code-frame": {
      "version": "7.27.1",
      "resolved": "https://registry.npmjs.org/@babel/code-frame/-/code-frame-7.27.1.tgz",
      "integrity": "sha512-cjQ7ZlQ0Mv3b47hABuTevyTuYN4i+loJKGeV9flcCgIK37cCXRh+L1bd3iBHlynerhQ7BhCkn2BPbQUL+rGqFg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-validator-identifier": "^7.27.1",
        "js-tokens": "^4.0.0",
        "picocolors": "^1.1.1"
      },
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/compat-data": {
      "version": "7.28.5",
      "resolved": "https://registry.npmjs.org/@babel/compat-data/-/compat-data-7.28.5.tgz",
      "integrity": "sha512-6uFXyCayocRbqhZOB+6XcuZbkMNimwfVGFji8CTZnCzOHVGvDqzvitu1re2AU5LROliz7eQPhB8CpAMvnx9EjA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/core": {
      "version": "7.28.5",
      "resolved": "https://registry.npmjs.org/@babel/core/-/core-7.28.5.tgz",
      "integrity": "sha512-e7jT4DxYvIDLk1ZHmU/m/mB19rex9sv0c2ftBtjSBv+kVM/902eh0fINUzD7UwLLNR+jU585GxUJ8/EBfAM5fw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/code-frame": "^7.27.1",
        "@babel/generator": "^7.28.5",
        "@babel/helper-compilation-targets": "^7.27.2",
        "@babel/helper-module-transforms": "^7.28.3",
        "@babel/helpers": "^7.28.4",
        "@babel/parser": "^7.28.5",
        "@babel/template": "^7.27.2",
        "@babel/traverse": "^7.28.5",
        "@babel/types": "^7.28.5",
        "@jridgewell/remapping": "^2.3.5",
        "convert-source-map": "^2.0.0",
        "debug": "^4.1.0",
        "gensync": "^1.0.0-beta.2",
        "json5": "^2.2.3",
        "semver": "^6.3.1"
      },
      "engines": {
        "node": ">=6.9.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/babel"
      }
    },
    "node_modules/@babel/core/node_modules/semver": {
      "version": "6.3.1",
      "resolved": "https://registry.npmjs.org/semver/-/semver-6.3.1.tgz",
      "integrity": "sha512-BR7VvDCVHO+q2xBEWskxS6DJE1qRnb7DxzUrogb71CWoSficBxYsiAGd+Kl0mmq/MprG9yArRkyrQxTO6XjMzA==",
      "dev": true,
      "license": "ISC",
      "bin": {
        "semver": "bin/semver.js"
      }
    },
    "node_modules/@babel/generator": {
      "version": "7.28.5",
      "resolved": "https://registry.npmjs.org/@babel/generator/-/generator-7.28.5.tgz",
      "integrity": "sha512-3EwLFhZ38J4VyIP6WNtt2kUdW9dokXA9Cr4IVIFHuCpZ3H8/YFOl5JjZHisrn1fATPBmKKqXzDFvh9fUwHz6CQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/parser": "^7.28.5",
        "@babel/types": "^7.28.5",
        "@jridgewell/gen-mapping": "^0.3.12",
        "@jridgewell/trace-mapping": "^0.3.28",
        "jsesc": "^3.0.2"
      },
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/helper-annotate-as-pure": {
      "version": "7.27.3",
      "resolved": "https://registry.npmjs.org/@babel/helper-annotate-as-pure/-/helper-annotate-as-pure-7.27.3.tgz",
      "integrity": "sha512-fXSwMQqitTGeHLBC08Eq5yXz2m37E4pJX1qAU1+2cNedz/ifv/bVXft90VeSav5nFO61EcNgwr0aJxbyPaWBPg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/types": "^7.27.3"
      },
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/helper-compilation-targets": {
      "version": "7.27.2",
      "resolved": "https://registry.npmjs.org/@babel/helper-compilation-targets/-/helper-compilation-targets-7.27.2.tgz",
      "integrity": "sha512-2+1thGUUWWjLTYTHZWK1n8Yga0ijBz1XAhUXcKy81rd5g6yh7hGqMp45v7cadSbEHc9G3OTv45SyneRN3ps4DQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/compat-data": "^7.27.2",
        "@babel/helper-validator-option": "^7.27.1",
        "browserslist": "^4.24.0",
        "lru-cache": "^5.1.1",
        "semver": "^6.3.1"
      },
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/helper-compilation-targets/node_modules/semver": {
      "version": "6.3.1",
      "resolved": "https://registry.npmjs.org/semver/-/semver-6.3.1.tgz",
      "integrity": "sha512-BR7VvDCVHO+q2xBEWskxS6DJE1qRnb7DxzUrogb71CWoSficBxYsiAGd+Kl0mmq/MprG9yArRkyrQxTO6XjMzA==",
      "dev": true,
      "license": "ISC",
      "bin": {
        "semver": "bin/semver.js"
      }
    },
    "node_modules/@babel/helper-create-class-features-plugin": {
      "version": "7.28.5",
      "resolved": "https://registry.npmjs.org/@babel/helper-create-class-features-plugin/-/helper-create-class-features-plugin-7.28.5.tgz",
      "integrity": "sha512-q3WC4JfdODypvxArsJQROfupPBq9+lMwjKq7C33GhbFYJsufD0yd/ziwD+hJucLeWsnFPWZjsU2DNFqBPE7jwQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-annotate-as-pure": "^7.27.3",
        "@babel/helper-member-expression-to-functions": "^7.28.5",
        "@babel/helper-optimise-call-expression": "^7.27.1",
        "@babel/helper-replace-supers": "^7.27.1",
        "@babel/helper-skip-transparent-expression-wrappers": "^7.27.1",
        "@babel/traverse": "^7.28.5",
        "semver": "^6.3.1"
      },
      "engines": {
        "node": ">=6.9.0"
      },
      "peerDependencies": {
        "@babel/core": "^7.0.0"
      }
    },
    "node_modules/@babel/helper-create-class-features-plugin/node_modules/semver": {
      "version": "6.3.1",
      "resolved": "https://registry.npmjs.org/semver/-/semver-6.3.1.tgz",
      "integrity": "sha512-BR7VvDCVHO+q2xBEWskxS6DJE1qRnb7DxzUrogb71CWoSficBxYsiAGd+Kl0mmq/MprG9yArRkyrQxTO6XjMzA==",
      "dev": true,
      "license": "ISC",
      "bin": {
        "semver": "bin/semver.js"
      }
    },
    "node_modules/@babel/helper-globals": {
      "version": "7.28.0",
      "resolved": "https://registry.npmjs.org/@babel/helper-globals/-/helper-globals-7.28.0.tgz",
      "integrity": "sha512-+W6cISkXFa1jXsDEdYA8HeevQT/FULhxzR99pxphltZcVaugps53THCeiWA8SguxxpSp3gKPiuYfSWopkLQ4hw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/helper-member-expression-to-functions": {
      "version": "7.28.5",
      "resolved": "https://registry.npmjs.org/@babel/helper-member-expression-to-functions/-/helper-member-expression-to-functions-7.28.5.tgz",
      "integrity": "sha512-cwM7SBRZcPCLgl8a7cY0soT1SptSzAlMH39vwiRpOQkJlh53r5hdHwLSCZpQdVLT39sZt+CRpNwYG4Y2v77atg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/traverse": "^7.28.5",
        "@babel/types": "^7.28.5"
      },
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/helper-module-imports": {
      "version": "7.27.1",
      "resolved": "https://registry.npmjs.org/@babel/helper-module-imports/-/helper-module-imports-7.27.1.tgz",
      "integrity": "sha512-0gSFWUPNXNopqtIPQvlD5WgXYI5GY2kP2cCvoT8kczjbfcfuIljTbcWrulD1CIPIX2gt1wghbDy08yE1p+/r3w==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/traverse": "^7.27.1",
        "@babel/types": "^7.27.1"
      },
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/helper-module-transforms": {
      "version": "7.28.3",
      "resolved": "https://registry.npmjs.org/@babel/helper-module-transforms/-/helper-module-transforms-7.28.3.tgz",
      "integrity": "sha512-gytXUbs8k2sXS9PnQptz5o0QnpLL51SwASIORY6XaBKF88nsOT0Zw9szLqlSGQDP/4TljBAD5y98p2U1fqkdsw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-module-imports": "^7.27.1",
        "@babel/helper-validator-identifier": "^7.27.1",
        "@babel/traverse": "^7.28.3"
      },
      "engines": {
        "node": ">=6.9.0"
      },
      "peerDependencies": {
        "@babel/core": "^7.0.0"
      }
    },
    "node_modules/@babel/helper-optimise-call-expression": {
      "version": "7.27.1",
      "resolved": "https://registry.npmjs.org/@babel/helper-optimise-call-expression/-/helper-optimise-call-expression-7.27.1.tgz",
      "integrity": "sha512-URMGH08NzYFhubNSGJrpUEphGKQwMQYBySzat5cAByY1/YgIRkULnIy3tAMeszlL/so2HbeilYloUmSpd7GdVw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/types": "^7.27.1"
      },
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/helper-plugin-utils": {
      "version": "7.27.1",
      "resolved": "https://registry.npmjs.org/@babel/helper-plugin-utils/-/helper-plugin-utils-7.27.1.tgz",
      "integrity": "sha512-1gn1Up5YXka3YYAHGKpbideQ5Yjf1tDa9qYcgysz+cNCXukyLl6DjPXhD3VRwSb8c0J9tA4b2+rHEZtc6R0tlw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/helper-replace-supers": {
      "version": "7.27.1",
      "resolved": "https://registry.npmjs.org/@babel/helper-replace-supers/-/helper-replace-supers-7.27.1.tgz",
      "integrity": "sha512-7EHz6qDZc8RYS5ElPoShMheWvEgERonFCs7IAonWLLUTXW59DP14bCZt89/GKyreYn8g3S83m21FelHKbeDCKA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-member-expression-to-functions": "^7.27.1",
        "@babel/helper-optimise-call-expression": "^7.27.1",
        "@babel/traverse": "^7.27.1"
      },
      "engines": {
        "node": ">=6.9.0"
      },
      "peerDependencies": {
        "@babel/core": "^7.0.0"
      }
    },
    "node_modules/@babel/helper-skip-transparent-expression-wrappers": {
      "version": "7.27.1",
      "resolved": "https://registry.npmjs.org/@babel/helper-skip-transparent-expression-wrappers/-/helper-skip-transparent-expression-wrappers-7.27.1.tgz",
      "integrity": "sha512-Tub4ZKEXqbPjXgWLl2+3JpQAYBJ8+ikpQ2Ocj/q/r0LwE3UhENh7EUabyHjz2kCEsrRY83ew2DQdHluuiDQFzg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/traverse": "^7.27.1",
        "@babel/types": "^7.27.1"
      },
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/helper-string-parser": {
      "version": "7.27.1",
      "resolved": "https://registry.npmjs.org/@babel/helper-string-parser/-/helper-string-parser-7.27.1.tgz",
      "integrity": "sha512-qMlSxKbpRlAridDExk92nSobyDdpPijUq2DW6oDnUqd0iOGxmQjyqhMIihI9+zv4LPyZdRje2cavWPbCbWm3eA==",
      "license": "MIT",
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/helper-validator-identifier": {
      "version": "7.28.5",
      "resolved": "https://registry.npmjs.org/@babel/helper-validator-identifier/-/helper-validator-identifier-7.28.5.tgz",
      "integrity": "sha512-qSs4ifwzKJSV39ucNjsvc6WVHs6b7S03sOh2OcHF9UHfVPqWWALUsNUVzhSBiItjRZoLHx7nIarVjqKVusUZ1Q==",
      "license": "MIT",
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/helper-validator-option": {
      "version": "7.27.1",
      "resolved": "https://registry.npmjs.org/@babel/helper-validator-option/-/helper-validator-option-7.27.1.tgz",
      "integrity": "sha512-YvjJow9FxbhFFKDSuFnVCe2WxXk1zWc22fFePVNEaWJEu8IrZVlda6N0uHwzZrUM1il7NC9Mlp4MaJYbYd9JSg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/helpers": {
      "version": "7.28.4",
      "resolved": "https://registry.npmjs.org/@babel/helpers/-/helpers-7.28.4.tgz",
      "integrity": "sha512-HFN59MmQXGHVyYadKLVumYsA9dBFun/ldYxipEjzA4196jpLZd8UjEEBLkbEkvfYreDqJhZxYAWFPtrfhNpj4w==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/template": "^7.27.2",
        "@babel/types": "^7.28.4"
      },
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/parser": {
      "version": "7.28.5",
      "resolved": "https://registry.npmjs.org/@babel/parser/-/parser-7.28.5.tgz",
      "integrity": "sha512-KKBU1VGYR7ORr3At5HAtUQ+TV3SzRCXmA/8OdDZiLDBIZxVyzXuztPjfLd3BV1PRAQGCMWWSHYhL0F8d5uHBDQ==",
      "license": "MIT",
      "dependencies": {
        "@babel/types": "^7.28.5"
      },
      "bin": {
        "parser": "bin/babel-parser.js"
      },
      "engines": {
        "node": ">=6.0.0"
      }
    },
    "node_modules/@babel/plugin-proposal-decorators": {
      "version": "7.28.0",
      "resolved": "https://registry.npmjs.org/@babel/plugin-proposal-decorators/-/plugin-proposal-decorators-7.28.0.tgz",
      "integrity": "sha512-zOiZqvANjWDUaUS9xMxbMcK/Zccztbe/6ikvUXaG9nsPH3w6qh5UaPGAnirI/WhIbZ8m3OHU0ReyPrknG+ZKeg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-create-class-features-plugin": "^7.27.1",
        "@babel/helper-plugin-utils": "^7.27.1",
        "@babel/plugin-syntax-decorators": "^7.27.1"
      },
      "engines": {
        "node": ">=6.9.0"
      },
      "peerDependencies": {
        "@babel/core": "^7.0.0-0"
      }
    },
    "node_modules/@babel/plugin-syntax-decorators": {
      "version": "7.27.1",
      "resolved": "https://registry.npmjs.org/@babel/plugin-syntax-decorators/-/plugin-syntax-decorators-7.27.1.tgz",
      "integrity": "sha512-YMq8Z87Lhl8EGkmb0MwYkt36QnxC+fzCgrl66ereamPlYToRpIk5nUjKUY3QKLWq8mwUB1BgbeXcTJhZOCDg5A==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-plugin-utils": "^7.27.1"
      },
      "engines": {
        "node": ">=6.9.0"
      },
      "peerDependencies": {
        "@babel/core": "^7.0.0-0"
      }
    },
    "node_modules/@babel/plugin-syntax-import-attributes": {
      "version": "7.27.1",
      "resolved": "https://registry.npmjs.org/@babel/plugin-syntax-import-attributes/-/plugin-syntax-import-attributes-7.27.1.tgz",
      "integrity": "sha512-oFT0FrKHgF53f4vOsZGi2Hh3I35PfSmVs4IBFLFj4dnafP+hIWDLg3VyKmUHfLoLHlyxY4C7DGtmHuJgn+IGww==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-plugin-utils": "^7.27.1"
      },
      "engines": {
        "node": ">=6.9.0"
      },
      "peerDependencies": {
        "@babel/core": "^7.0.0-0"
      }
    },
    "node_modules/@babel/plugin-syntax-import-meta": {
      "version": "7.10.4",
      "resolved": "https://registry.npmjs.org/@babel/plugin-syntax-import-meta/-/plugin-syntax-import-meta-7.10.4.tgz",
      "integrity": "sha512-Yqfm+XDx0+Prh3VSeEQCPU81yC+JWZ2pDPFSS4ZdpfZhp4MkFMaDC1UqseovEKwSUpnIL7+vK+Clp7bfh0iD7g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-plugin-utils": "^7.10.4"
      },
      "peerDependencies": {
        "@babel/core": "^7.0.0-0"
      }
    },
    "node_modules/@babel/plugin-syntax-jsx": {
      "version": "7.27.1",
      "resolved": "https://registry.npmjs.org/@babel/plugin-syntax-jsx/-/plugin-syntax-jsx-7.27.1.tgz",
      "integrity": "sha512-y8YTNIeKoyhGd9O0Jiyzyyqk8gdjnumGTQPsz0xOZOQ2RmkVJeZ1vmmfIvFEKqucBG6axJGBZDE/7iI5suUI/w==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-plugin-utils": "^7.27.1"
      },
      "engines": {
        "node": ">=6.9.0"
      },
      "peerDependencies": {
        "@babel/core": "^7.0.0-0"
      }
    },
    "node_modules/@babel/plugin-syntax-typescript": {
      "version": "7.27.1",
      "resolved": "https://registry.npmjs.org/@babel/plugin-syntax-typescript/-/plugin-syntax-typescript-7.27.1.tgz",
      "integrity": "sha512-xfYCBMxveHrRMnAWl1ZlPXOZjzkN82THFvLhQhFXFt81Z5HnN+EtUkZhv/zcKpmT3fzmWZB0ywiBrbC3vogbwQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-plugin-utils": "^7.27.1"
      },
      "engines": {
        "node": ">=6.9.0"
      },
      "peerDependencies": {
        "@babel/core": "^7.0.0-0"
      }
    },
    "node_modules/@babel/plugin-transform-typescript": {
      "version": "7.28.5",
      "resolved": "https://registry.npmjs.org/@babel/plugin-transform-typescript/-/plugin-transform-typescript-7.28.5.tgz",
      "integrity": "sha512-x2Qa+v/CuEoX7Dr31iAfr0IhInrVOWZU/2vJMJ00FOR/2nM0BcBEclpaf9sWCDc+v5e9dMrhSH8/atq/kX7+bA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-annotate-as-pure": "^7.27.3",
        "@babel/helper-create-class-features-plugin": "^7.28.5",
        "@babel/helper-plugin-utils": "^7.27.1",
        "@babel/helper-skip-transparent-expression-wrappers": "^7.27.1",
        "@babel/plugin-syntax-typescript": "^7.27.1"
      },
      "engines": {
        "node": ">=6.9.0"
      },
      "peerDependencies": {
        "@babel/core": "^7.0.0-0"
      }
    },
    "node_modules/@babel/template": {
      "version": "7.27.2",
      "resolved": "https://registry.npmjs.org/@babel/template/-/template-7.27.2.tgz",
      "integrity": "sha512-LPDZ85aEJyYSd18/DkjNh4/y1ntkE5KwUHWTiqgRxruuZL2F1yuHligVHLvcHY2vMHXttKFpJn6LwfI7cw7ODw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/code-frame": "^7.27.1",
        "@babel/parser": "^7.27.2",
        "@babel/types": "^7.27.1"
      },
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/traverse": {
      "version": "7.28.5",
      "resolved": "https://registry.npmjs.org/@babel/traverse/-/traverse-7.28.5.tgz",
      "integrity": "sha512-TCCj4t55U90khlYkVV/0TfkJkAkUg3jZFA3Neb7unZT8CPok7iiRfaX0F+WnqWqt7OxhOn0uBKXCw4lbL8W0aQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/code-frame": "^7.27.1",
        "@babel/generator": "^7.28.5",
        "@babel/helper-globals": "^7.28.0",
        "@babel/parser": "^7.28.5",
        "@babel/template": "^7.27.2",
        "@babel/types": "^7.28.5",
        "debug": "^4.3.1"
      },
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/types": {
      "version": "7.28.5",
      "resolved": "https://registry.npmjs.org/@babel/types/-/types-7.28.5.tgz",
      "integrity": "sha512-qQ5m48eI/MFLQ5PxQj4PFaprjyCTLI37ElWMmNs0K8Lk3dVeOdNpB3ks8jc7yM5CDmVC73eMVk/trk3fgmrUpA==",
      "license": "MIT",
      "dependencies": {
        "@babel/helper-string-parser": "^7.27.1",
        "@babel/helper-validator-identifier": "^7.28.5"
      },
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@esbuild/aix-ppc64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/aix-ppc64/-/aix-ppc64-0.25.12.tgz",
      "integrity": "sha512-Hhmwd6CInZ3dwpuGTF8fJG6yoWmsToE+vYgD4nytZVxcu1ulHpUQRAB1UJ8+N1Am3Mz4+xOByoQoSZf4D+CpkA==",
      "cpu": [
        "ppc64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "aix"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/android-arm": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/android-arm/-/android-arm-0.25.12.tgz",
      "integrity": "sha512-VJ+sKvNA/GE7Ccacc9Cha7bpS8nyzVv0jdVgwNDaR4gDMC/2TTRc33Ip8qrNYUcpkOHUT5OZ0bUcNNVZQ9RLlg==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "android"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/android-arm64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/android-arm64/-/android-arm64-0.25.12.tgz",
      "integrity": "sha512-6AAmLG7zwD1Z159jCKPvAxZd4y/VTO0VkprYy+3N2FtJ8+BQWFXU+OxARIwA46c5tdD9SsKGZ/1ocqBS/gAKHg==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "android"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/android-x64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/android-x64/-/android-x64-0.25.12.tgz",
      "integrity": "sha512-5jbb+2hhDHx5phYR2By8GTWEzn6I9UqR11Kwf22iKbNpYrsmRB18aX/9ivc5cabcUiAT/wM+YIZ6SG9QO6a8kg==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "android"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/darwin-arm64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/darwin-arm64/-/darwin-arm64-0.25.12.tgz",
      "integrity": "sha512-N3zl+lxHCifgIlcMUP5016ESkeQjLj/959RxxNYIthIg+CQHInujFuXeWbWMgnTo4cp5XVHqFPmpyu9J65C1Yg==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/darwin-x64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/darwin-x64/-/darwin-x64-0.25.12.tgz",
      "integrity": "sha512-HQ9ka4Kx21qHXwtlTUVbKJOAnmG1ipXhdWTmNXiPzPfWKpXqASVcWdnf2bnL73wgjNrFXAa3yYvBSd9pzfEIpA==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/freebsd-arm64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/freebsd-arm64/-/freebsd-arm64-0.25.12.tgz",
      "integrity": "sha512-gA0Bx759+7Jve03K1S0vkOu5Lg/85dou3EseOGUes8flVOGxbhDDh/iZaoek11Y8mtyKPGF3vP8XhnkDEAmzeg==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "freebsd"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/freebsd-x64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/freebsd-x64/-/freebsd-x64-0.25.12.tgz",
      "integrity": "sha512-TGbO26Yw2xsHzxtbVFGEXBFH0FRAP7gtcPE7P5yP7wGy7cXK2oO7RyOhL5NLiqTlBh47XhmIUXuGciXEqYFfBQ==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "freebsd"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-arm": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-arm/-/linux-arm-0.25.12.tgz",
      "integrity": "sha512-lPDGyC1JPDou8kGcywY0YILzWlhhnRjdof3UlcoqYmS9El818LLfJJc3PXXgZHrHCAKs/Z2SeZtDJr5MrkxtOw==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-arm64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-arm64/-/linux-arm64-0.25.12.tgz",
      "integrity": "sha512-8bwX7a8FghIgrupcxb4aUmYDLp8pX06rGh5HqDT7bB+8Rdells6mHvrFHHW2JAOPZUbnjUpKTLg6ECyzvas2AQ==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-ia32": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-ia32/-/linux-ia32-0.25.12.tgz",
      "integrity": "sha512-0y9KrdVnbMM2/vG8KfU0byhUN+EFCny9+8g202gYqSSVMonbsCfLjUO+rCci7pM0WBEtz+oK/PIwHkzxkyharA==",
      "cpu": [
        "ia32"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-loong64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-loong64/-/linux-loong64-0.25.12.tgz",
      "integrity": "sha512-h///Lr5a9rib/v1GGqXVGzjL4TMvVTv+s1DPoxQdz7l/AYv6LDSxdIwzxkrPW438oUXiDtwM10o9PmwS/6Z0Ng==",
      "cpu": [
        "loong64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-mips64el": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-mips64el/-/linux-mips64el-0.25.12.tgz",
      "integrity": "sha512-iyRrM1Pzy9GFMDLsXn1iHUm18nhKnNMWscjmp4+hpafcZjrr2WbT//d20xaGljXDBYHqRcl8HnxbX6uaA/eGVw==",
      "cpu": [
        "mips64el"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-ppc64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-ppc64/-/linux-ppc64-0.25.12.tgz",
      "integrity": "sha512-9meM/lRXxMi5PSUqEXRCtVjEZBGwB7P/D4yT8UG/mwIdze2aV4Vo6U5gD3+RsoHXKkHCfSxZKzmDssVlRj1QQA==",
      "cpu": [
        "ppc64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-riscv64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-riscv64/-/linux-riscv64-0.25.12.tgz",
      "integrity": "sha512-Zr7KR4hgKUpWAwb1f3o5ygT04MzqVrGEGXGLnj15YQDJErYu/BGg+wmFlIDOdJp0PmB0lLvxFIOXZgFRrdjR0w==",
      "cpu": [
        "riscv64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-s390x": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-s390x/-/linux-s390x-0.25.12.tgz",
      "integrity": "sha512-MsKncOcgTNvdtiISc/jZs/Zf8d0cl/t3gYWX8J9ubBnVOwlk65UIEEvgBORTiljloIWnBzLs4qhzPkJcitIzIg==",
      "cpu": [
        "s390x"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-x64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-x64/-/linux-x64-0.25.12.tgz",
      "integrity": "sha512-uqZMTLr/zR/ed4jIGnwSLkaHmPjOjJvnm6TVVitAa08SLS9Z0VM8wIRx7gWbJB5/J54YuIMInDquWyYvQLZkgw==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/netbsd-arm64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/netbsd-arm64/-/netbsd-arm64-0.25.12.tgz",
      "integrity": "sha512-xXwcTq4GhRM7J9A8Gv5boanHhRa/Q9KLVmcyXHCTaM4wKfIpWkdXiMog/KsnxzJ0A1+nD+zoecuzqPmCRyBGjg==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "netbsd"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/netbsd-x64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/netbsd-x64/-/netbsd-x64-0.25.12.tgz",
      "integrity": "sha512-Ld5pTlzPy3YwGec4OuHh1aCVCRvOXdH8DgRjfDy/oumVovmuSzWfnSJg+VtakB9Cm0gxNO9BzWkj6mtO1FMXkQ==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "netbsd"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/openbsd-arm64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/openbsd-arm64/-/openbsd-arm64-0.25.12.tgz",
      "integrity": "sha512-fF96T6KsBo/pkQI950FARU9apGNTSlZGsv1jZBAlcLL1MLjLNIWPBkj5NlSz8aAzYKg+eNqknrUJ24QBybeR5A==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "openbsd"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/openbsd-x64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/openbsd-x64/-/openbsd-x64-0.25.12.tgz",
      "integrity": "sha512-MZyXUkZHjQxUvzK7rN8DJ3SRmrVrke8ZyRusHlP+kuwqTcfWLyqMOE3sScPPyeIXN/mDJIfGXvcMqCgYKekoQw==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "openbsd"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/openharmony-arm64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/openharmony-arm64/-/openharmony-arm64-0.25.12.tgz",
      "integrity": "sha512-rm0YWsqUSRrjncSXGA7Zv78Nbnw4XL6/dzr20cyrQf7ZmRcsovpcRBdhD43Nuk3y7XIoW2OxMVvwuRvk9XdASg==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "openharmony"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/sunos-x64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/sunos-x64/-/sunos-x64-0.25.12.tgz",
      "integrity": "sha512-3wGSCDyuTHQUzt0nV7bocDy72r2lI33QL3gkDNGkod22EsYl04sMf0qLb8luNKTOmgF/eDEDP5BFNwoBKH441w==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "sunos"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/win32-arm64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/win32-arm64/-/win32-arm64-0.25.12.tgz",
      "integrity": "sha512-rMmLrur64A7+DKlnSuwqUdRKyd3UE7oPJZmnljqEptesKM8wx9J8gx5u0+9Pq0fQQW8vqeKebwNXdfOyP+8Bsg==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/win32-ia32": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/win32-ia32/-/win32-ia32-0.25.12.tgz",
      "integrity": "sha512-HkqnmmBoCbCwxUKKNPBixiWDGCpQGVsrQfJoVGYLPT41XWF8lHuE5N6WhVia2n4o5QK5M4tYr21827fNhi4byQ==",
      "cpu": [
        "ia32"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/win32-x64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/win32-x64/-/win32-x64-0.25.12.tgz",
      "integrity": "sha512-alJC0uCZpTFrSL0CCDjcgleBXPnCrEAhTBILpeAp7M/OFgoqtAetfBzX0xM00MUsVVPpVjlPuMbREqnZCXaTnA==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@eslint-community/eslint-utils": {
      "version": "4.9.0",
      "resolved": "https://registry.npmjs.org/@eslint-community/eslint-utils/-/eslint-utils-4.9.0.tgz",
      "integrity": "sha512-ayVFHdtZ+hsq1t2Dy24wCmGXGe4q9Gu3smhLYALJrr473ZH27MsnSL+LKUlimp4BWJqMDMLmPpx/Q9R3OAlL4g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "eslint-visitor-keys": "^3.4.3"
      },
      "engines": {
        "node": "^12.22.0 || ^14.17.0 || >=16.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/eslint"
      },
      "peerDependencies": {
        "eslint": "^6.0.0 || ^7.0.0 || >=8.0.0"
      }
    },
    "node_modules/@eslint-community/eslint-utils/node_modules/eslint-visitor-keys": {
      "version": "3.4.3",
      "resolved": "https://registry.npmjs.org/eslint-visitor-keys/-/eslint-visitor-keys-3.4.3.tgz",
      "integrity": "sha512-wpc+LXeiyiisxPlEkUzU6svyS1frIO3Mgxj1fdy7Pm8Ygzguax2N3Fa/D/ag1WqbOprdI+uY6wMUl8/a2G+iag==",
      "dev": true,
      "license": "Apache-2.0",
      "engines": {
        "node": "^12.22.0 || ^14.17.0 || >=16.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/eslint"
      }
    },
    "node_modules/@eslint-community/regexpp": {
      "version": "4.12.2",
      "resolved": "https://registry.npmjs.org/@eslint-community/regexpp/-/regexpp-4.12.2.tgz",
      "integrity": "sha512-EriSTlt5OC9/7SXkRSCAhfSxxoSUgBm33OH+IkwbdpgoqsSsUg7y3uh+IICI/Qg4BBWr3U2i39RpmycbxMq4ew==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": "^12.0.0 || ^14.0.0 || >=16.0.0"
      }
    },
    "node_modules/@eslint/config-array": {
      "version": "0.21.1",
      "resolved": "https://registry.npmjs.org/@eslint/config-array/-/config-array-0.21.1.tgz",
      "integrity": "sha512-aw1gNayWpdI/jSYVgzN5pL0cfzU02GT3NBpeT/DXbx1/1x7ZKxFPd9bwrzygx/qiwIQiJ1sw/zD8qY/kRvlGHA==",
      "dev": true,
      "license": "Apache-2.0",
      "dependencies": {
        "@eslint/object-schema": "^2.1.7",
        "debug": "^4.3.1",
        "minimatch": "^3.1.2"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      }
    },
    "node_modules/@eslint/config-helpers": {
      "version": "0.4.2",
      "resolved": "https://registry.npmjs.org/@eslint/config-helpers/-/config-helpers-0.4.2.tgz",
      "integrity": "sha512-gBrxN88gOIf3R7ja5K9slwNayVcZgK6SOUORm2uBzTeIEfeVaIhOpCtTox3P6R7o2jLFwLFTLnC7kU/RGcYEgw==",
      "dev": true,
      "license": "Apache-2.0",
      "dependencies": {
        "@eslint/core": "^0.17.0"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      }
    },
    "node_modules/@eslint/core": {
      "version": "0.17.0",
      "resolved": "https://registry.npmjs.org/@eslint/core/-/core-0.17.0.tgz",
      "integrity": "sha512-yL/sLrpmtDaFEiUj1osRP4TI2MDz1AddJL+jZ7KSqvBuliN4xqYY54IfdN8qD8Toa6g1iloph1fxQNkjOxrrpQ==",
      "dev": true,
      "license": "Apache-2.0",
      "dependencies": {
        "@types/json-schema": "^7.0.15"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      }
    },
    "node_modules/@eslint/eslintrc": {
      "version": "3.3.1",
      "resolved": "https://registry.npmjs.org/@eslint/eslintrc/-/eslintrc-3.3.1.tgz",
      "integrity": "sha512-gtF186CXhIl1p4pJNGZw8Yc6RlshoePRvE0X91oPGb3vZ8pM3qOS9W9NGPat9LziaBV7XrJWGylNQXkGcnM3IQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "ajv": "^6.12.4",
        "debug": "^4.3.2",
        "espree": "^10.0.1",
        "globals": "^14.0.0",
        "ignore": "^5.2.0",
        "import-fresh": "^3.2.1",
        "js-yaml": "^4.1.0",
        "minimatch": "^3.1.2",
        "strip-json-comments": "^3.1.1"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "url": "https://opencollective.com/eslint"
      }
    },
    "node_modules/@eslint/eslintrc/node_modules/globals": {
      "version": "14.0.0",
      "resolved": "https://registry.npmjs.org/globals/-/globals-14.0.0.tgz",
      "integrity": "sha512-oahGvuMGQlPw/ivIYBjVSrWAfWLBeku5tpPE2fOPLi+WHffIWbuh2tCjhyQhTBPMf5E9jDEH4FOmTYgYwbKwtQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=18"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/@eslint/js": {
      "version": "9.39.1",
      "resolved": "https://registry.npmjs.org/@eslint/js/-/js-9.39.1.tgz",
      "integrity": "sha512-S26Stp4zCy88tH94QbBv3XCuzRQiZ9yXofEILmglYTh/Ug/a9/umqvgFtYBAo3Lp0nsI/5/qH1CCrbdK3AP1Tw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "url": "https://eslint.org/donate"
      }
    },
    "node_modules/@eslint/object-schema": {
      "version": "2.1.7",
      "resolved": "https://registry.npmjs.org/@eslint/object-schema/-/object-schema-2.1.7.tgz",
      "integrity": "sha512-VtAOaymWVfZcmZbp6E2mympDIHvyjXs/12LqWYjVw6qjrfF+VK+fyG33kChz3nnK+SU5/NeHOqrTEHS8sXO3OA==",
      "dev": true,
      "license": "Apache-2.0",
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      }
    },
    "node_modules/@eslint/plugin-kit": {
      "version": "0.4.1",
      "resolved": "https://registry.npmjs.org/@eslint/plugin-kit/-/plugin-kit-0.4.1.tgz",
      "integrity": "sha512-43/qtrDUokr7LJqoF2c3+RInu/t4zfrpYdoSDfYyhg52rwLV6TnOvdG4fXm7IkSB3wErkcmJS9iEhjVtOSEjjA==",
      "dev": true,
      "license": "Apache-2.0",
      "dependencies": {
        "@eslint/core": "^0.17.0",
        "levn": "^0.4.1"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      }
    },
    "node_modules/@humanfs/core": {
      "version": "0.19.1",
      "resolved": "https://registry.npmjs.org/@humanfs/core/-/core-0.19.1.tgz",
      "integrity": "sha512-5DyQ4+1JEUzejeK1JGICcideyfUbGixgS9jNgex5nqkW+cY7WZhxBigmieN5Qnw9ZosSNVC9KQKyb+GUaGyKUA==",
      "dev": true,
      "license": "Apache-2.0",
      "engines": {
        "node": ">=18.18.0"
      }
    },
    "node_modules/@humanfs/node": {
      "version": "0.16.7",
      "resolved": "https://registry.npmjs.org/@humanfs/node/-/node-0.16.7.tgz",
      "integrity": "sha512-/zUx+yOsIrG4Y43Eh2peDeKCxlRt/gET6aHfaKpuq267qXdYDFViVHfMaLyygZOnl0kGWxFIgsBy8QFuTLUXEQ==",
      "dev": true,
      "license": "Apache-2.0",
      "dependencies": {
        "@humanfs/core": "^0.19.1",
        "@humanwhocodes/retry": "^0.4.0"
      },
      "engines": {
        "node": ">=18.18.0"
      }
    },
    "node_modules/@humanwhocodes/module-importer": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/@humanwhocodes/module-importer/-/module-importer-1.0.1.tgz",
      "integrity": "sha512-bxveV4V8v5Yb4ncFTT3rPSgZBOpCkjfK0y4oVVVJwIuDVBRMDXrPyXRL988i5ap9m9bnyEEjWfm5WkBmtffLfA==",
      "dev": true,
      "license": "Apache-2.0",
      "engines": {
        "node": ">=12.22"
      },
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/nzakas"
      }
    },
    "node_modules/@humanwhocodes/retry": {
      "version": "0.4.3",
      "resolved": "https://registry.npmjs.org/@humanwhocodes/retry/-/retry-0.4.3.tgz",
      "integrity": "sha512-bV0Tgo9K4hfPCek+aMAn81RppFKv2ySDQeMoSZuvTASywNTnVJCArCZE2FWqpvIatKu7VMRLWlR1EazvVhDyhQ==",
      "dev": true,
      "license": "Apache-2.0",
      "engines": {
        "node": ">=18.18"
      },
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/nzakas"
      }
    },
    "node_modules/@jridgewell/gen-mapping": {
      "version": "0.3.13",
      "resolved": "https://registry.npmjs.org/@jridgewell/gen-mapping/-/gen-mapping-0.3.13.tgz",
      "integrity": "sha512-2kkt/7niJ6MgEPxF0bYdQ6etZaA+fQvDcLKckhy1yIQOzaoKjBBjSj63/aLVjYE3qhRt5dvM+uUyfCg6UKCBbA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jridgewell/sourcemap-codec": "^1.5.0",
        "@jridgewell/trace-mapping": "^0.3.24"
      }
    },
    "node_modules/@jridgewell/remapping": {
      "version": "2.3.5",
      "resolved": "https://registry.npmjs.org/@jridgewell/remapping/-/remapping-2.3.5.tgz",
      "integrity": "sha512-LI9u/+laYG4Ds1TDKSJW2YPrIlcVYOwi2fUC6xB43lueCjgxV4lffOCZCtYFiH6TNOX+tQKXx97T4IKHbhyHEQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jridgewell/gen-mapping": "^0.3.5",
        "@jridgewell/trace-mapping": "^0.3.24"
      }
    },
    "node_modules/@jridgewell/resolve-uri": {
      "version": "3.1.2",
      "resolved": "https://registry.npmjs.org/@jridgewell/resolve-uri/-/resolve-uri-3.1.2.tgz",
      "integrity": "sha512-bRISgCIjP20/tbWSPWMEi54QVPRZExkuD9lJL+UIxUKtwVJA8wW1Trb1jMs1RFXo1CBTNZ/5hpC9QvmKWdopKw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6.0.0"
      }
    },
    "node_modules/@jridgewell/sourcemap-codec": {
      "version": "1.5.5",
      "resolved": "https://registry.npmjs.org/@jridgewell/sourcemap-codec/-/sourcemap-codec-1.5.5.tgz",
      "integrity": "sha512-cYQ9310grqxueWbl+WuIUIaiUaDcj7WOq5fVhEljNVgRfOUhY9fy2zTvfoqWsnebh8Sl70VScFbICvJnLKB0Og==",
      "license": "MIT"
    },
    "node_modules/@jridgewell/trace-mapping": {
      "version": "0.3.31",
      "resolved": "https://registry.npmjs.org/@jridgewell/trace-mapping/-/trace-mapping-0.3.31.tgz",
      "integrity": "sha512-zzNR+SdQSDJzc8joaeP8QQoCQr8NuYx2dIIytl1QeBEZHJ9uW6hebsrYgbz8hJwUQao3TWCMtmfV8Nu1twOLAw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jridgewell/resolve-uri": "^3.1.0",
        "@jridgewell/sourcemap-codec": "^1.4.14"
      }
    },
    "node_modules/@polka/url": {
      "version": "1.0.0-next.29",
      "resolved": "https://registry.npmjs.org/@polka/url/-/url-1.0.0-next.29.tgz",
      "integrity": "sha512-wwQAWhWSuHaag8c4q/KN/vCoeOJYshAIvMQwD4GpSb3OiZklFfvAgmj0VCBBImRpuF/aFgIRzllXlVX93Jevww==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/@rolldown/pluginutils": {
      "version": "1.0.0-beta.29",
      "resolved": "https://registry.npmjs.org/@rolldown/pluginutils/-/pluginutils-1.0.0-beta.29.tgz",
      "integrity": "sha512-NIJgOsMjbxAXvoGq/X0gD7VPMQ8j9g0BiDaNjVNVjvl+iKXxL3Jre0v31RmBYeLEmkbj2s02v8vFTbUXi5XS2Q==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/@rollup/rollup-android-arm-eabi": {
      "version": "4.53.2",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-android-arm-eabi/-/rollup-android-arm-eabi-4.53.2.tgz",
      "integrity": "sha512-yDPzwsgiFO26RJA4nZo8I+xqzh7sJTZIWQOxn+/XOdPE31lAvLIYCKqjV+lNH/vxE2L2iH3plKxDCRK6i+CwhA==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "android"
      ]
    },
    "node_modules/@rollup/rollup-android-arm64": {
      "version": "4.53.2",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-android-arm64/-/rollup-android-arm64-4.53.2.tgz",
      "integrity": "sha512-k8FontTxIE7b0/OGKeSN5B6j25EuppBcWM33Z19JoVT7UTXFSo3D9CdU39wGTeb29NO3XxpMNauh09B+Ibw+9g==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "android"
      ]
    },
    "node_modules/@rollup/rollup-darwin-arm64": {
      "version": "4.53.2",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-darwin-arm64/-/rollup-darwin-arm64-4.53.2.tgz",
      "integrity": "sha512-A6s4gJpomNBtJ2yioj8bflM2oogDwzUiMl2yNJ2v9E7++sHrSrsQ29fOfn5DM/iCzpWcebNYEdXpaK4tr2RhfQ==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ]
    },
    "node_modules/@rollup/rollup-darwin-x64": {
      "version": "4.53.2",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-darwin-x64/-/rollup-darwin-x64-4.53.2.tgz",
      "integrity": "sha512-e6XqVmXlHrBlG56obu9gDRPW3O3hLxpwHpLsBJvuI8qqnsrtSZ9ERoWUXtPOkY8c78WghyPHZdmPhHLWNdAGEw==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ]
    },
    "node_modules/@rollup/rollup-freebsd-arm64": {
      "version": "4.53.2",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-freebsd-arm64/-/rollup-freebsd-arm64-4.53.2.tgz",
      "integrity": "sha512-v0E9lJW8VsrwPux5Qe5CwmH/CF/2mQs6xU1MF3nmUxmZUCHazCjLgYvToOk+YuuUqLQBio1qkkREhxhc656ViA==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "freebsd"
      ]
    },
    "node_modules/@rollup/rollup-freebsd-x64": {
      "version": "4.53.2",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-freebsd-x64/-/rollup-freebsd-x64-4.53.2.tgz",
      "integrity": "sha512-ClAmAPx3ZCHtp6ysl4XEhWU69GUB1D+s7G9YjHGhIGCSrsg00nEGRRZHmINYxkdoJehde8VIsDC5t9C0gb6yqA==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "freebsd"
      ]
    },
    "node_modules/@rollup/rollup-linux-arm-gnueabihf": {
      "version": "4.53.2",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-arm-gnueabihf/-/rollup-linux-arm-gnueabihf-4.53.2.tgz",
      "integrity": "sha512-EPlb95nUsz6Dd9Qy13fI5kUPXNSljaG9FiJ4YUGU1O/Q77i5DYFW5KR8g1OzTcdZUqQQ1KdDqsTohdFVwCwjqg==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-arm-musleabihf": {
      "version": "4.53.2",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-arm-musleabihf/-/rollup-linux-arm-musleabihf-4.53.2.tgz",
      "integrity": "sha512-BOmnVW+khAUX+YZvNfa0tGTEMVVEerOxN0pDk2E6N6DsEIa2Ctj48FOMfNDdrwinocKaC7YXUZ1pHlKpnkja/Q==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-arm64-gnu": {
      "version": "4.53.2",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-arm64-gnu/-/rollup-linux-arm64-gnu-4.53.2.tgz",
      "integrity": "sha512-Xt2byDZ+6OVNuREgBXr4+CZDJtrVso5woFtpKdGPhpTPHcNG7D8YXeQzpNbFRxzTVqJf7kvPMCub/pcGUWgBjA==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-arm64-musl": {
      "version": "4.53.2",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-arm64-musl/-/rollup-linux-arm64-musl-4.53.2.tgz",
      "integrity": "sha512-+LdZSldy/I9N8+klim/Y1HsKbJ3BbInHav5qE9Iy77dtHC/pibw1SR/fXlWyAk0ThnpRKoODwnAuSjqxFRDHUQ==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-loong64-gnu": {
      "version": "4.53.2",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-loong64-gnu/-/rollup-linux-loong64-gnu-4.53.2.tgz",
      "integrity": "sha512-8ms8sjmyc1jWJS6WdNSA23rEfdjWB30LH8Wqj0Cqvv7qSHnvw6kgMMXRdop6hkmGPlyYBdRPkjJnj3KCUHV/uQ==",
      "cpu": [
        "loong64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-ppc64-gnu": {
      "version": "4.53.2",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-ppc64-gnu/-/rollup-linux-ppc64-gnu-4.53.2.tgz",
      "integrity": "sha512-3HRQLUQbpBDMmzoxPJYd3W6vrVHOo2cVW8RUo87Xz0JPJcBLBr5kZ1pGcQAhdZgX9VV7NbGNipah1omKKe23/g==",
      "cpu": [
        "ppc64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-riscv64-gnu": {
      "version": "4.53.2",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-riscv64-gnu/-/rollup-linux-riscv64-gnu-4.53.2.tgz",
      "integrity": "sha512-fMjKi+ojnmIvhk34gZP94vjogXNNUKMEYs+EDaB/5TG/wUkoeua7p7VCHnE6T2Tx+iaghAqQX8teQzcvrYpaQA==",
      "cpu": [
        "riscv64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-riscv64-musl": {
      "version": "4.53.2",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-riscv64-musl/-/rollup-linux-riscv64-musl-4.53.2.tgz",
      "integrity": "sha512-XuGFGU+VwUUV5kLvoAdi0Wz5Xbh2SrjIxCtZj6Wq8MDp4bflb/+ThZsVxokM7n0pcbkEr2h5/pzqzDYI7cCgLQ==",
      "cpu": [
        "riscv64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-s390x-gnu": {
      "version": "4.53.2",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-s390x-gnu/-/rollup-linux-s390x-gnu-4.53.2.tgz",
      "integrity": "sha512-w6yjZF0P+NGzWR3AXWX9zc0DNEGdtvykB03uhonSHMRa+oWA6novflo2WaJr6JZakG2ucsyb+rvhrKac6NIy+w==",
      "cpu": [
        "s390x"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-x64-gnu": {
      "version": "4.53.2",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-x64-gnu/-/rollup-linux-x64-gnu-4.53.2.tgz",
      "integrity": "sha512-yo8d6tdfdeBArzC7T/PnHd7OypfI9cbuZzPnzLJIyKYFhAQ8SvlkKtKBMbXDxe1h03Rcr7u++nFS7tqXz87Gtw==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-x64-musl": {
      "version": "4.53.2",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-x64-musl/-/rollup-linux-x64-musl-4.53.2.tgz",
      "integrity": "sha512-ah59c1YkCxKExPP8O9PwOvs+XRLKwh/mV+3YdKqQ5AMQ0r4M4ZDuOrpWkUaqO7fzAHdINzV9tEVu8vNw48z0lA==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-openharmony-arm64": {
      "version": "4.53.2",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-openharmony-arm64/-/rollup-openharmony-arm64-4.53.2.tgz",
      "integrity": "sha512-4VEd19Wmhr+Zy7hbUsFZ6YXEiP48hE//KPLCSVNY5RMGX2/7HZ+QkN55a3atM1C/BZCGIgqN+xrVgtdak2S9+A==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "openharmony"
      ]
    },
    "node_modules/@rollup/rollup-win32-arm64-msvc": {
      "version": "4.53.2",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-win32-arm64-msvc/-/rollup-win32-arm64-msvc-4.53.2.tgz",
      "integrity": "sha512-IlbHFYc/pQCgew/d5fslcy1KEaYVCJ44G8pajugd8VoOEI8ODhtb/j8XMhLpwHCMB3yk2J07ctup10gpw2nyMA==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ]
    },
    "node_modules/@rollup/rollup-win32-ia32-msvc": {
      "version": "4.53.2",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-win32-ia32-msvc/-/rollup-win32-ia32-msvc-4.53.2.tgz",
      "integrity": "sha512-lNlPEGgdUfSzdCWU176ku/dQRnA7W+Gp8d+cWv73jYrb8uT7HTVVxq62DUYxjbaByuf1Yk0RIIAbDzp+CnOTFg==",
      "cpu": [
        "ia32"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ]
    },
    "node_modules/@rollup/rollup-win32-x64-gnu": {
      "version": "4.53.2",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-win32-x64-gnu/-/rollup-win32-x64-gnu-4.53.2.tgz",
      "integrity": "sha512-S6YojNVrHybQis2lYov1sd+uj7K0Q05NxHcGktuMMdIQ2VixGwAfbJ23NnlvvVV1bdpR2m5MsNBViHJKcA4ADw==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ]
    },
    "node_modules/@rollup/rollup-win32-x64-msvc": {
      "version": "4.53.2",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-win32-x64-msvc/-/rollup-win32-x64-msvc-4.53.2.tgz",
      "integrity": "sha512-k+/Rkcyx//P6fetPoLMb8pBeqJBNGx81uuf7iljX9++yNBVRDQgD04L+SVXmXmh5ZP4/WOp4mWF0kmi06PW2tA==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ]
    },
    "node_modules/@types/estree": {
      "version": "1.0.8",
      "resolved": "https://registry.npmjs.org/@types/estree/-/estree-1.0.8.tgz",
      "integrity": "sha512-dWHzHa2WqEXI/O1E9OjrocMTKJl2mSrEolh1Iomrv6U+JuNwaHXsXx9bLu5gG7BUWFIN0skIQJQ/L1rIex4X6w==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/@types/json-schema": {
      "version": "7.0.15",
      "resolved": "https://registry.npmjs.org/@types/json-schema/-/json-schema-7.0.15.tgz",
      "integrity": "sha512-5+fP8P8MFNC+AyZCDxrB2pkZFPGzqQWUzpSeuuVLvm8VMcorNYavBqoFcxK8bQz4Qsbn4oUEEem4wDLfcysGHA==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/@vitejs/plugin-vue": {
      "version": "6.0.1",
      "resolved": "https://registry.npmjs.org/@vitejs/plugin-vue/-/plugin-vue-6.0.1.tgz",
      "integrity": "sha512-+MaE752hU0wfPFJEUAIxqw18+20euHHdxVtMvbFcOEpjEyfqXH/5DCoTHiVJ0J29EhTJdoTkjEv5YBKU9dnoTw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@rolldown/pluginutils": "1.0.0-beta.29"
      },
      "engines": {
        "node": "^20.19.0 || >=22.12.0"
      },
      "peerDependencies": {
        "vite": "^5.0.0 || ^6.0.0 || ^7.0.0",
        "vue": "^3.2.25"
      }
    },
    "node_modules/@vue/babel-helper-vue-transform-on": {
      "version": "1.5.0",
      "resolved": "https://registry.npmjs.org/@vue/babel-helper-vue-transform-on/-/babel-helper-vue-transform-on-1.5.0.tgz",
      "integrity": "sha512-0dAYkerNhhHutHZ34JtTl2czVQHUNWv6xEbkdF5W+Yrv5pCWsqjeORdOgbtW2I9gWlt+wBmVn+ttqN9ZxR5tzA==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/@vue/babel-plugin-jsx": {
      "version": "1.5.0",
      "resolved": "https://registry.npmjs.org/@vue/babel-plugin-jsx/-/babel-plugin-jsx-1.5.0.tgz",
      "integrity": "sha512-mneBhw1oOqCd2247O0Yw/mRwC9jIGACAJUlawkmMBiNmL4dGA2eMzuNZVNqOUfYTa6vqmND4CtOPzmEEEqLKFw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-module-imports": "^7.27.1",
        "@babel/helper-plugin-utils": "^7.27.1",
        "@babel/plugin-syntax-jsx": "^7.27.1",
        "@babel/template": "^7.27.2",
        "@babel/traverse": "^7.28.0",
        "@babel/types": "^7.28.2",
        "@vue/babel-helper-vue-transform-on": "1.5.0",
        "@vue/babel-plugin-resolve-type": "1.5.0",
        "@vue/shared": "^3.5.18"
      },
      "peerDependencies": {
        "@babel/core": "^7.0.0-0"
      },
      "peerDependenciesMeta": {
        "@babel/core": {
          "optional": true
        }
      }
    },
    "node_modules/@vue/babel-plugin-resolve-type": {
      "version": "1.5.0",
      "resolved": "https://registry.npmjs.org/@vue/babel-plugin-resolve-type/-/babel-plugin-resolve-type-1.5.0.tgz",
      "integrity": "sha512-Wm/60o+53JwJODm4Knz47dxJnLDJ9FnKnGZJbUUf8nQRAtt6P+undLUAVU3Ha33LxOJe6IPoifRQ6F/0RrU31w==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/code-frame": "^7.27.1",
        "@babel/helper-module-imports": "^7.27.1",
        "@babel/helper-plugin-utils": "^7.27.1",
        "@babel/parser": "^7.28.0",
        "@vue/compiler-sfc": "^3.5.18"
      },
      "funding": {
        "url": "https://github.com/sponsors/sxzz"
      },
      "peerDependencies": {
        "@babel/core": "^7.0.0-0"
      }
    },
    "node_modules/@vue/compiler-core": {
      "version": "3.5.24",
      "resolved": "https://registry.npmjs.org/@vue/compiler-core/-/compiler-core-3.5.24.tgz",
      "integrity": "sha512-eDl5H57AOpNakGNAkFDH+y7kTqrQpJkZFXhWZQGyx/5Wh7B1uQYvcWkvZi11BDhscPgj8N7XV3oRwiPnx1Vrig==",
      "license": "MIT",
      "dependencies": {
        "@babel/parser": "^7.28.5",
        "@vue/shared": "3.5.24",
        "entities": "^4.5.0",
        "estree-walker": "^2.0.2",
        "source-map-js": "^1.2.1"
      }
    },
    "node_modules/@vue/compiler-dom": {
      "version": "3.5.24",
      "resolved": "https://registry.npmjs.org/@vue/compiler-dom/-/compiler-dom-3.5.24.tgz",
      "integrity": "sha512-1QHGAvs53gXkWdd3ZMGYuvQFXHW4ksKWPG8HP8/2BscrbZ0brw183q2oNWjMrSWImYLHxHrx1ItBQr50I/q2zw==",
      "license": "MIT",
      "dependencies": {
        "@vue/compiler-core": "3.5.24",
        "@vue/shared": "3.5.24"
      }
    },
    "node_modules/@vue/compiler-sfc": {
      "version": "3.5.24",
      "resolved": "https://registry.npmjs.org/@vue/compiler-sfc/-/compiler-sfc-3.5.24.tgz",
      "integrity": "sha512-8EG5YPRgmTB+YxYBM3VXy8zHD9SWHUJLIGPhDovo3Z8VOgvP+O7UP5vl0J4BBPWYD9vxtBabzW1EuEZ+Cqs14g==",
      "license": "MIT",
      "dependencies": {
        "@babel/parser": "^7.28.5",
        "@vue/compiler-core": "3.5.24",
        "@vue/compiler-dom": "3.5.24",
        "@vue/compiler-ssr": "3.5.24",
        "@vue/shared": "3.5.24",
        "estree-walker": "^2.0.2",
        "magic-string": "^0.30.21",
        "postcss": "^8.5.6",
        "source-map-js": "^1.2.1"
      }
    },
    "node_modules/@vue/compiler-ssr": {
      "version": "3.5.24",
      "resolved": "https://registry.npmjs.org/@vue/compiler-ssr/-/compiler-ssr-3.5.24.tgz",
      "integrity": "sha512-trOvMWNBMQ/odMRHW7Ae1CdfYx+7MuiQu62Jtu36gMLXcaoqKvAyh+P73sYG9ll+6jLB6QPovqoKGGZROzkFFg==",
      "license": "MIT",
      "dependencies": {
        "@vue/compiler-dom": "3.5.24",
        "@vue/shared": "3.5.24"
      }
    },
    "node_modules/@vue/devtools-api": {
      "version": "6.6.4",
      "resolved": "https://registry.npmjs.org/@vue/devtools-api/-/devtools-api-6.6.4.tgz",
      "integrity": "sha512-sGhTPMuXqZ1rVOk32RylztWkfXTRhuS7vgAKv0zjqk8gbsHkJ7xfFf+jbySxt7tWObEJwyKaHMikV/WGDiQm8g==",
      "license": "MIT"
    },
    "node_modules/@vue/devtools-core": {
      "version": "8.0.3",
      "resolved": "https://registry.npmjs.org/@vue/devtools-core/-/devtools-core-8.0.3.tgz",
      "integrity": "sha512-gCEQN7aMmeaigEWJQ2Z2o3g7/CMqGTPvNS1U3n/kzpLoAZ1hkAHNgi4ml/POn/9uqGILBk65GGOUdrraHXRj5Q==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@vue/devtools-kit": "^8.0.3",
        "@vue/devtools-shared": "^8.0.3",
        "mitt": "^3.0.1",
        "nanoid": "^5.1.5",
        "pathe": "^2.0.3",
        "vite-hot-client": "^2.1.0"
      },
      "peerDependencies": {
        "vue": "^3.0.0"
      }
    },
    "node_modules/@vue/devtools-core/node_modules/nanoid": {
      "version": "5.1.6",
      "resolved": "https://registry.npmjs.org/nanoid/-/nanoid-5.1.6.tgz",
      "integrity": "sha512-c7+7RQ+dMB5dPwwCp4ee1/iV/q2P6aK1mTZcfr1BTuVlyW9hJYiMPybJCcnBlQtuSmTIWNeazm/zqNoZSSElBg==",
      "dev": true,
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "bin": {
        "nanoid": "bin/nanoid.js"
      },
      "engines": {
        "node": "^18 || >=20"
      }
    },
    "node_modules/@vue/devtools-kit": {
      "version": "8.0.3",
      "resolved": "https://registry.npmjs.org/@vue/devtools-kit/-/devtools-kit-8.0.3.tgz",
      "integrity": "sha512-UF4YUOVGdfzXLCv5pMg2DxocB8dvXz278fpgEE+nJ/DRALQGAva7sj9ton0VWZ9hmXw+SV8yKMrxP2MpMhq9Wg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@vue/devtools-shared": "^8.0.3",
        "birpc": "^2.6.1",
        "hookable": "^5.5.3",
        "mitt": "^3.0.1",
        "perfect-debounce": "^2.0.0",
        "speakingurl": "^14.0.1",
        "superjson": "^2.2.2"
      }
    },
    "node_modules/@vue/devtools-shared": {
      "version": "8.0.3",
      "resolved": "https://registry.npmjs.org/@vue/devtools-shared/-/devtools-shared-8.0.3.tgz",
      "integrity": "sha512-s/QNll7TlpbADFZrPVsaUNPCOF8NvQgtgmmB7Tip6pLf/HcOvBTly0lfLQ0Eylu9FQ4OqBhFpLyBgwykiSf8zw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "rfdc": "^1.4.1"
      }
    },
    "node_modules/@vue/reactivity": {
      "version": "3.5.24",
      "resolved": "https://registry.npmjs.org/@vue/reactivity/-/reactivity-3.5.24.tgz",
      "integrity": "sha512-BM8kBhtlkkbnyl4q+HiF5R5BL0ycDPfihowulm02q3WYp2vxgPcJuZO866qa/0u3idbMntKEtVNuAUp5bw4teg==",
      "license": "MIT",
      "dependencies": {
        "@vue/shared": "3.5.24"
      }
    },
    "node_modules/@vue/runtime-core": {
      "version": "3.5.24",
      "resolved": "https://registry.npmjs.org/@vue/runtime-core/-/runtime-core-3.5.24.tgz",
      "integrity": "sha512-RYP/byyKDgNIqfX/gNb2PB55dJmM97jc9wyF3jK7QUInYKypK2exmZMNwnjueWwGceEkP6NChd3D2ZVEp9undQ==",
      "license": "MIT",
      "dependencies": {
        "@vue/reactivity": "3.5.24",
        "@vue/shared": "3.5.24"
      }
    },
    "node_modules/@vue/runtime-dom": {
      "version": "3.5.24",
      "resolved": "https://registry.npmjs.org/@vue/runtime-dom/-/runtime-dom-3.5.24.tgz",
      "integrity": "sha512-Z8ANhr/i0XIluonHVjbUkjvn+CyrxbXRIxR7wn7+X7xlcb7dJsfITZbkVOeJZdP8VZwfrWRsWdShH6pngMxRjw==",
      "license": "MIT",
      "dependencies": {
        "@vue/reactivity": "3.5.24",
        "@vue/runtime-core": "3.5.24",
        "@vue/shared": "3.5.24",
        "csstype": "^3.1.3"
      }
    },
    "node_modules/@vue/server-renderer": {
      "version": "3.5.24",
      "resolved": "https://registry.npmjs.org/@vue/server-renderer/-/server-renderer-3.5.24.tgz",
      "integrity": "sha512-Yh2j2Y4G/0/4z/xJ1Bad4mxaAk++C2v4kaa8oSYTMJBJ00/ndPuxCnWeot0/7/qafQFLh5pr6xeV6SdMcE/G1w==",
      "license": "MIT",
      "dependencies": {
        "@vue/compiler-ssr": "3.5.24",
        "@vue/shared": "3.5.24"
      },
      "peerDependencies": {
        "vue": "3.5.24"
      }
    },
    "node_modules/@vue/shared": {
      "version": "3.5.24",
      "resolved": "https://registry.npmjs.org/@vue/shared/-/shared-3.5.24.tgz",
      "integrity": "sha512-9cwHL2EsJBdi8NY22pngYYWzkTDhld6fAD6jlaeloNGciNSJL6bLpbxVgXl96X00Jtc6YWQv96YA/0sxex/k1A==",
      "license": "MIT"
    },
    "node_modules/acorn": {
      "version": "8.15.0",
      "resolved": "https://registry.npmjs.org/acorn/-/acorn-8.15.0.tgz",
      "integrity": "sha512-NZyJarBfL7nWwIq+FDL6Zp/yHEhePMNnnJ0y3qfieCrmNvYct8uvtiV41UvlSe6apAfk0fY1FbWx+NwfmpvtTg==",
      "dev": true,
      "license": "MIT",
      "bin": {
        "acorn": "bin/acorn"
      },
      "engines": {
        "node": ">=0.4.0"
      }
    },
    "node_modules/acorn-jsx": {
      "version": "5.3.2",
      "resolved": "https://registry.npmjs.org/acorn-jsx/-/acorn-jsx-5.3.2.tgz",
      "integrity": "sha512-rq9s+JNhf0IChjtDXxllJ7g41oZk5SlXtp0LHwyA5cejwn7vKmKp4pPri6YEePv2PU65sAsegbXtIinmDFDXgQ==",
      "dev": true,
      "license": "MIT",
      "peerDependencies": {
        "acorn": "^6.0.0 || ^7.0.0 || ^8.0.0"
      }
    },
    "node_modules/ajv": {
      "version": "6.12.6",
      "resolved": "https://registry.npmjs.org/ajv/-/ajv-6.12.6.tgz",
      "integrity": "sha512-j3fVLgvTo527anyYyJOGTYJbG+vnnQYvE0m5mmkc1TK+nxAppkCLMIL0aZ4dblVCNoGShhm+kzE4ZUykBoMg4g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "fast-deep-equal": "^3.1.1",
        "fast-json-stable-stringify": "^2.0.0",
        "json-schema-traverse": "^0.4.1",
        "uri-js": "^4.2.2"
      },
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/epoberezkin"
      }
    },
    "node_modules/ansi-styles": {
      "version": "4.3.0",
      "resolved": "https://registry.npmjs.org/ansi-styles/-/ansi-styles-4.3.0.tgz",
      "integrity": "sha512-zbB9rCJAT1rbjiVDb2hqKFHNYLxgtk8NURxZ3IZwD3F6NtxbXZQCnnSi1Lkx+IDohdPlFp222wVALIheZJQSEg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "color-convert": "^2.0.1"
      },
      "engines": {
        "node": ">=8"
      },
      "funding": {
        "url": "https://github.com/chalk/ansi-styles?sponsor=1"
      }
    },
    "node_modules/ansis": {
      "version": "4.2.0",
      "resolved": "https://registry.npmjs.org/ansis/-/ansis-4.2.0.tgz",
      "integrity": "sha512-HqZ5rWlFjGiV0tDm3UxxgNRqsOTniqoKZu0pIAfh7TZQMGuZK+hH0drySty0si0QXj1ieop4+SkSfPZBPPkHig==",
      "dev": true,
      "license": "ISC",
      "engines": {
        "node": ">=14"
      }
    },
    "node_modules/argparse": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/argparse/-/argparse-2.0.1.tgz",
      "integrity": "sha512-8+9WqebbFzpX9OR+Wa6O29asIogeRMzcGtAINdpMHHyAg10f05aSFVBbcEqGf/PXw1EjAZ+q2/bEBg3DvurK3Q==",
      "dev": true,
      "license": "Python-2.0"
    },
    "node_modules/balanced-match": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/balanced-match/-/balanced-match-1.0.2.tgz",
      "integrity": "sha512-3oSeUO0TMV67hN1AmbXsK4yaqU7tjiHlbxRDZOpH0KW9+CeX4bRAaX0Anxt0tx2MrpRpWwQaPwIlISEJhYU5Pw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/baseline-browser-mapping": {
      "version": "2.8.26",
      "resolved": "https://registry.npmjs.org/baseline-browser-mapping/-/baseline-browser-mapping-2.8.26.tgz",
      "integrity": "sha512-73lC1ugzwoaWCLJ1LvOgrR5xsMLTqSKIEoMHVtL9E/HNk0PXtTM76ZIm84856/SF7Nv8mPZxKoBsgpm0tR1u1Q==",
      "dev": true,
      "license": "Apache-2.0",
      "bin": {
        "baseline-browser-mapping": "dist/cli.js"
      }
    },
    "node_modules/birpc": {
      "version": "2.8.0",
      "resolved": "https://registry.npmjs.org/birpc/-/birpc-2.8.0.tgz",
      "integrity": "sha512-Bz2a4qD/5GRhiHSwj30c/8kC8QGj12nNDwz3D4ErQ4Xhy35dsSDvF+RA/tWpjyU0pdGtSDiEk6B5fBGE1qNVhw==",
      "dev": true,
      "license": "MIT",
      "funding": {
        "url": "https://github.com/sponsors/antfu"
      }
    },
    "node_modules/boolbase": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/boolbase/-/boolbase-1.0.0.tgz",
      "integrity": "sha512-JZOSA7Mo9sNGB8+UjSgzdLtokWAky1zbztM3WRLCbZ70/3cTANmQmOdR7y2g+J0e2WXywy1yS468tY+IruqEww==",
      "dev": true,
      "license": "ISC"
    },
    "node_modules/brace-expansion": {
      "version": "1.1.12",
      "resolved": "https://registry.npmjs.org/brace-expansion/-/brace-expansion-1.1.12.tgz",
      "integrity": "sha512-9T9UjW3r0UW5c1Q7GTwllptXwhvYmEzFhzMfZ9H7FQWt+uZePjZPjBP/W1ZEyZ1twGWom5/56TF4lPcqjnDHcg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "balanced-match": "^1.0.0",
        "concat-map": "0.0.1"
      }
    },
    "node_modules/browserslist": {
      "version": "4.28.0",
      "resolved": "https://registry.npmjs.org/browserslist/-/browserslist-4.28.0.tgz",
      "integrity": "sha512-tbydkR/CxfMwelN0vwdP/pLkDwyAASZ+VfWm4EOwlB6SWhx1sYnWLqo8N5j0rAzPfzfRaxt0mM/4wPU/Su84RQ==",
      "dev": true,
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/browserslist"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/browserslist"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "baseline-browser-mapping": "^2.8.25",
        "caniuse-lite": "^1.0.30001754",
        "electron-to-chromium": "^1.5.249",
        "node-releases": "^2.0.27",
        "update-browserslist-db": "^1.1.4"
      },
      "bin": {
        "browserslist": "cli.js"
      },
      "engines": {
        "node": "^6 || ^7 || ^8 || ^9 || ^10 || ^11 || ^12 || >=13.7"
      }
    },
    "node_modules/bundle-name": {
      "version": "4.1.0",
      "resolved": "https://registry.npmjs.org/bundle-name/-/bundle-name-4.1.0.tgz",
      "integrity": "sha512-tjwM5exMg6BGRI+kNmTntNsvdZS1X8BFYS6tnJ2hdH0kVxM6/eVZ2xy+FqStSWvYmtfFMDLIxurorHwDKfDz5Q==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "run-applescript": "^7.0.0"
      },
      "engines": {
        "node": ">=18"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/callsites": {
      "version": "3.1.0",
      "resolved": "https://registry.npmjs.org/callsites/-/callsites-3.1.0.tgz",
      "integrity": "sha512-P8BjAsXvZS+VIDUI11hHCQEv74YT67YUi5JJFNWIqL235sBmjX4+qx9Muvls5ivyNENctx46xQLQ3aTuE7ssaQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/caniuse-lite": {
      "version": "1.0.30001754",
      "resolved": "https://registry.npmjs.org/caniuse-lite/-/caniuse-lite-1.0.30001754.tgz",
      "integrity": "sha512-x6OeBXueoAceOmotzx3PO4Zpt4rzpeIFsSr6AAePTZxSkXiYDUmpypEl7e2+8NCd9bD7bXjqyef8CJYPC1jfxg==",
      "dev": true,
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/browserslist"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/caniuse-lite"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "CC-BY-4.0"
    },
    "node_modules/chalk": {
      "version": "4.1.2",
      "resolved": "https://registry.npmjs.org/chalk/-/chalk-4.1.2.tgz",
      "integrity": "sha512-oKnbhFyRIXpUuez8iBMmyEa4nbj4IOQyuhc/wy9kY7/WVPcwIO9VA668Pu8RkO7+0G76SLROeyw9CpQ061i4mA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "ansi-styles": "^4.1.0",
        "supports-color": "^7.1.0"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/chalk/chalk?sponsor=1"
      }
    },
    "node_modules/color-convert": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/color-convert/-/color-convert-2.0.1.tgz",
      "integrity": "sha512-RRECPsj7iu/xb5oKYcsFHSppFNnsj/52OVTRKb4zP5onXwVF3zVmmToNcOfGC+CRDpfK/U584fMg38ZHCaElKQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "color-name": "~1.1.4"
      },
      "engines": {
        "node": ">=7.0.0"
      }
    },
    "node_modules/color-name": {
      "version": "1.1.4",
      "resolved": "https://registry.npmjs.org/color-name/-/color-name-1.1.4.tgz",
      "integrity": "sha512-dOy+3AuW3a2wNbZHIuMZpTcgjGuLU/uBL/ubcZF9OXbDo8ff4O8yVp5Bf0efS8uEoYo5q4Fx7dY9OgQGXgAsQA==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/concat-map": {
      "version": "0.0.1",
      "resolved": "https://registry.npmjs.org/concat-map/-/concat-map-0.0.1.tgz",
      "integrity": "sha512-/Srv4dswyQNBfohGpz9o6Yb3Gz3SrUDqBH5rTuhGR7ahtlbYKnVxw2bCFMRljaA7EXHaXZ8wsHdodFvbkhKmqg==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/convert-source-map": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/convert-source-map/-/convert-source-map-2.0.0.tgz",
      "integrity": "sha512-Kvp459HrV2FEJ1CAsi1Ku+MY3kasH19TFykTz2xWmMeq6bk2NU3XXvfJ+Q61m0xktWwt+1HSYf3JZsTms3aRJg==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/copy-anything": {
      "version": "4.0.5",
      "resolved": "https://registry.npmjs.org/copy-anything/-/copy-anything-4.0.5.tgz",
      "integrity": "sha512-7Vv6asjS4gMOuILabD3l739tsaxFQmC+a7pLZm02zyvs8p977bL3zEgq3yDk5rn9B0PbYgIv++jmHcuUab4RhA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "is-what": "^5.2.0"
      },
      "engines": {
        "node": ">=18"
      },
      "funding": {
        "url": "https://github.com/sponsors/mesqueeb"
      }
    },
    "node_modules/cross-spawn": {
      "version": "7.0.6",
      "resolved": "https://registry.npmjs.org/cross-spawn/-/cross-spawn-7.0.6.tgz",
      "integrity": "sha512-uV2QOWP2nWzsy2aMp8aRibhi9dlzF5Hgh5SHaB9OiTGEyDTiJJyx0uy51QXdyWbtAHNua4XJzUKca3OzKUd3vA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "path-key": "^3.1.0",
        "shebang-command": "^2.0.0",
        "which": "^2.0.1"
      },
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/cssesc": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/cssesc/-/cssesc-3.0.0.tgz",
      "integrity": "sha512-/Tb/JcjK111nNScGob5MNtsntNM1aCNUDipB/TkwZFhyDrrE47SOx/18wF2bbjgc3ZzCSKW1T5nt5EbFoAz/Vg==",
      "dev": true,
      "license": "MIT",
      "bin": {
        "cssesc": "bin/cssesc"
      },
      "engines": {
        "node": ">=4"
      }
    },
    "node_modules/csstype": {
      "version": "3.1.3",
      "resolved": "https://registry.npmjs.org/csstype/-/csstype-3.1.3.tgz",
      "integrity": "sha512-M1uQkMl8rQK/szD0LNhtqxIPLpimGm8sOBwU7lLnCpSbTyY3yeU1Vc7l4KT5zT4s/yOxHH5O7tIuuLOCnLADRw==",
      "license": "MIT"
    },
    "node_modules/debug": {
      "version": "4.4.3",
      "resolved": "https://registry.npmjs.org/debug/-/debug-4.4.3.tgz",
      "integrity": "sha512-RGwwWnwQvkVfavKVt22FGLw+xYSdzARwm0ru6DhTVA3umU5hZc28V3kO4stgYryrTlLpuvgI9GiijltAjNbcqA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "ms": "^2.1.3"
      },
      "engines": {
        "node": ">=6.0"
      },
      "peerDependenciesMeta": {
        "supports-color": {
          "optional": true
        }
      }
    },
    "node_modules/deep-is": {
      "version": "0.1.4",
      "resolved": "https://registry.npmjs.org/deep-is/-/deep-is-0.1.4.tgz",
      "integrity": "sha512-oIPzksmTg4/MriiaYGO+okXDT7ztn/w3Eptv/+gSIdMdKsJo0u4CfYNFJPy+4SKMuCqGw2wxnA+URMg3t8a/bQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/default-browser": {
      "version": "5.2.1",
      "resolved": "https://registry.npmjs.org/default-browser/-/default-browser-5.2.1.tgz",
      "integrity": "sha512-WY/3TUME0x3KPYdRRxEJJvXRHV4PyPoUsxtZa78lwItwRQRHhd2U9xOscaT/YTf8uCXIAjeJOFBVEh/7FtD8Xg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "bundle-name": "^4.1.0",
        "default-browser-id": "^5.0.0"
      },
      "engines": {
        "node": ">=18"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/default-browser-id": {
      "version": "5.0.0",
      "resolved": "https://registry.npmjs.org/default-browser-id/-/default-browser-id-5.0.0.tgz",
      "integrity": "sha512-A6p/pu/6fyBcA1TRz/GqWYPViplrftcW2gZC9q79ngNCKAeR/X3gcEdXQHl4KNXV+3wgIJ1CPkJQ3IHM6lcsyA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=18"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/define-lazy-prop": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/define-lazy-prop/-/define-lazy-prop-3.0.0.tgz",
      "integrity": "sha512-N+MeXYoqr3pOgn8xfyRPREN7gHakLYjhsHhWGT3fWAiL4IkAt0iDw14QiiEm2bE30c5XX5q0FtAA3CK5f9/BUg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/electron-to-chromium": {
      "version": "1.5.250",
      "resolved": "https://registry.npmjs.org/electron-to-chromium/-/electron-to-chromium-1.5.250.tgz",
      "integrity": "sha512-/5UMj9IiGDMOFBnN4i7/Ry5onJrAGSbOGo3s9FEKmwobGq6xw832ccET0CE3CkkMBZ8GJSlUIesZofpyurqDXw==",
      "dev": true,
      "license": "ISC"
    },
    "node_modules/entities": {
      "version": "4.5.0",
      "resolved": "https://registry.npmjs.org/entities/-/entities-4.5.0.tgz",
      "integrity": "sha512-V0hjH4dGPh9Ao5p0MoRY6BVqtwCjhz6vI5LT8AJ55H+4g9/4vbHx1I54fS0XuclLhDHArPQCiMjDxjaL8fPxhw==",
      "license": "BSD-2-Clause",
      "engines": {
        "node": ">=0.12"
      },
      "funding": {
        "url": "https://github.com/fb55/entities?sponsor=1"
      }
    },
    "node_modules/error-stack-parser-es": {
      "version": "1.0.5",
      "resolved": "https://registry.npmjs.org/error-stack-parser-es/-/error-stack-parser-es-1.0.5.tgz",
      "integrity": "sha512-5qucVt2XcuGMcEGgWI7i+yZpmpByQ8J1lHhcL7PwqCwu9FPP3VUXzT4ltHe5i2z9dePwEHcDVOAfSnHsOlCXRA==",
      "dev": true,
      "license": "MIT",
      "funding": {
        "url": "https://github.com/sponsors/antfu"
      }
    },
    "node_modules/esbuild": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/esbuild/-/esbuild-0.25.12.tgz",
      "integrity": "sha512-bbPBYYrtZbkt6Os6FiTLCTFxvq4tt3JKall1vRwshA3fdVztsLAatFaZobhkBC8/BrPetoa0oksYoKXoG4ryJg==",
      "dev": true,
      "hasInstallScript": true,
      "license": "MIT",
      "bin": {
        "esbuild": "bin/esbuild"
      },
      "engines": {
        "node": ">=18"
      },
      "optionalDependencies": {
        "@esbuild/aix-ppc64": "0.25.12",
        "@esbuild/android-arm": "0.25.12",
        "@esbuild/android-arm64": "0.25.12",
        "@esbuild/android-x64": "0.25.12",
        "@esbuild/darwin-arm64": "0.25.12",
        "@esbuild/darwin-x64": "0.25.12",
        "@esbuild/freebsd-arm64": "0.25.12",
        "@esbuild/freebsd-x64": "0.25.12",
        "@esbuild/linux-arm": "0.25.12",
        "@esbuild/linux-arm64": "0.25.12",
        "@esbuild/linux-ia32": "0.25.12",
        "@esbuild/linux-loong64": "0.25.12",
        "@esbuild/linux-mips64el": "0.25.12",
        "@esbuild/linux-ppc64": "0.25.12",
        "@esbuild/linux-riscv64": "0.25.12",
        "@esbuild/linux-s390x": "0.25.12",
        "@esbuild/linux-x64": "0.25.12",
        "@esbuild/netbsd-arm64": "0.25.12",
        "@esbuild/netbsd-x64": "0.25.12",
        "@esbuild/openbsd-arm64": "0.25.12",
        "@esbuild/openbsd-x64": "0.25.12",
        "@esbuild/openharmony-arm64": "0.25.12",
        "@esbuild/sunos-x64": "0.25.12",
        "@esbuild/win32-arm64": "0.25.12",
        "@esbuild/win32-ia32": "0.25.12",
        "@esbuild/win32-x64": "0.25.12"
      }
    },
    "node_modules/escalade": {
      "version": "3.2.0",
      "resolved": "https://registry.npmjs.org/escalade/-/escalade-3.2.0.tgz",
      "integrity": "sha512-WUj2qlxaQtO4g6Pq5c29GTcWGDyd8itL8zTlipgECz3JesAiiOKotd8JU6otB3PACgG6xkJUyVhboMS+bje/jA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/escape-string-regexp": {
      "version": "4.0.0",
      "resolved": "https://registry.npmjs.org/escape-string-regexp/-/escape-string-regexp-4.0.0.tgz",
      "integrity": "sha512-TtpcNJ3XAzx3Gq8sWRzJaVajRs0uVxA2YAkdb1jm2YkPz4G6egUFAyA3n5vtEIZefPk5Wa4UXbKuS5fKkJWdgA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/eslint": {
      "version": "9.39.1",
      "resolved": "https://registry.npmjs.org/eslint/-/eslint-9.39.1.tgz",
      "integrity": "sha512-BhHmn2yNOFA9H9JmmIVKJmd288g9hrVRDkdoIgRCRuSySRUHH7r/DI6aAXW9T1WwUuY3DFgrcaqB+deURBLR5g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@eslint-community/eslint-utils": "^4.8.0",
        "@eslint-community/regexpp": "^4.12.1",
        "@eslint/config-array": "^0.21.1",
        "@eslint/config-helpers": "^0.4.2",
        "@eslint/core": "^0.17.0",
        "@eslint/eslintrc": "^3.3.1",
        "@eslint/js": "9.39.1",
        "@eslint/plugin-kit": "^0.4.1",
        "@humanfs/node": "^0.16.6",
        "@humanwhocodes/module-importer": "^1.0.1",
        "@humanwhocodes/retry": "^0.4.2",
        "@types/estree": "^1.0.6",
        "ajv": "^6.12.4",
        "chalk": "^4.0.0",
        "cross-spawn": "^7.0.6",
        "debug": "^4.3.2",
        "escape-string-regexp": "^4.0.0",
        "eslint-scope": "^8.4.0",
        "eslint-visitor-keys": "^4.2.1",
        "espree": "^10.4.0",
        "esquery": "^1.5.0",
        "esutils": "^2.0.2",
        "fast-deep-equal": "^3.1.3",
        "file-entry-cache": "^8.0.0",
        "find-up": "^5.0.0",
        "glob-parent": "^6.0.2",
        "ignore": "^5.2.0",
        "imurmurhash": "^0.1.4",
        "is-glob": "^4.0.0",
        "json-stable-stringify-without-jsonify": "^1.0.1",
        "lodash.merge": "^4.6.2",
        "minimatch": "^3.1.2",
        "natural-compare": "^1.4.0",
        "optionator": "^0.9.3"
      },
      "bin": {
        "eslint": "bin/eslint.js"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "url": "https://eslint.org/donate"
      },
      "peerDependencies": {
        "jiti": "*"
      },
      "peerDependenciesMeta": {
        "jiti": {
          "optional": true
        }
      }
    },
    "node_modules/eslint-plugin-vue": {
      "version": "10.5.1",
      "resolved": "https://registry.npmjs.org/eslint-plugin-vue/-/eslint-plugin-vue-10.5.1.tgz",
      "integrity": "sha512-SbR9ZBUFKgvWAbq3RrdCtWaW0IKm6wwUiApxf3BVTNfqUIo4IQQmreMg2iHFJJ6C/0wss3LXURBJ1OwS/MhFcQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@eslint-community/eslint-utils": "^4.4.0",
        "natural-compare": "^1.4.0",
        "nth-check": "^2.1.1",
        "postcss-selector-parser": "^6.0.15",
        "semver": "^7.6.3",
        "xml-name-validator": "^4.0.0"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "peerDependencies": {
        "@stylistic/eslint-plugin": "^2.0.0 || ^3.0.0 || ^4.0.0 || ^5.0.0",
        "@typescript-eslint/parser": "^7.0.0 || ^8.0.0",
        "eslint": "^8.57.0 || ^9.0.0",
        "vue-eslint-parser": "^10.0.0"
      },
      "peerDependenciesMeta": {
        "@stylistic/eslint-plugin": {
          "optional": true
        },
        "@typescript-eslint/parser": {
          "optional": true
        }
      }
    },
    "node_modules/eslint-scope": {
      "version": "8.4.0",
      "resolved": "https://registry.npmjs.org/eslint-scope/-/eslint-scope-8.4.0.tgz",
      "integrity": "sha512-sNXOfKCn74rt8RICKMvJS7XKV/Xk9kA7DyJr8mJik3S7Cwgy3qlkkmyS2uQB3jiJg6VNdZd/pDBJu0nvG2NlTg==",
      "dev": true,
      "license": "BSD-2-Clause",
      "dependencies": {
        "esrecurse": "^4.3.0",
        "estraverse": "^5.2.0"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "url": "https://opencollective.com/eslint"
      }
    },
    "node_modules/eslint-visitor-keys": {
      "version": "4.2.1",
      "resolved": "https://registry.npmjs.org/eslint-visitor-keys/-/eslint-visitor-keys-4.2.1.tgz",
      "integrity": "sha512-Uhdk5sfqcee/9H/rCOJikYz67o0a2Tw2hGRPOG2Y1R2dg7brRe1uG0yaNQDHu+TO/uQPF/5eCapvYSmHUjt7JQ==",
      "dev": true,
      "license": "Apache-2.0",
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "url": "https://opencollective.com/eslint"
      }
    },
    "node_modules/espree": {
      "version": "10.4.0",
      "resolved": "https://registry.npmjs.org/espree/-/espree-10.4.0.tgz",
      "integrity": "sha512-j6PAQ2uUr79PZhBjP5C5fhl8e39FmRnOjsD5lGnWrFU8i2G776tBK7+nP8KuQUTTyAZUwfQqXAgrVH5MbH9CYQ==",
      "dev": true,
      "license": "BSD-2-Clause",
      "dependencies": {
        "acorn": "^8.15.0",
        "acorn-jsx": "^5.3.2",
        "eslint-visitor-keys": "^4.2.1"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "url": "https://opencollective.com/eslint"
      }
    },
    "node_modules/esquery": {
      "version": "1.6.0",
      "resolved": "https://registry.npmjs.org/esquery/-/esquery-1.6.0.tgz",
      "integrity": "sha512-ca9pw9fomFcKPvFLXhBKUK90ZvGibiGOvRJNbjljY7s7uq/5YO4BOzcYtJqExdx99rF6aAcnRxHmcUHcz6sQsg==",
      "dev": true,
      "license": "BSD-3-Clause",
      "dependencies": {
        "estraverse": "^5.1.0"
      },
      "engines": {
        "node": ">=0.10"
      }
    },
    "node_modules/esrecurse": {
      "version": "4.3.0",
      "resolved": "https://registry.npmjs.org/esrecurse/-/esrecurse-4.3.0.tgz",
      "integrity": "sha512-KmfKL3b6G+RXvP8N1vr3Tq1kL/oCFgn2NYXEtqP8/L3pKapUA4G8cFVaoF3SU323CD4XypR/ffioHmkti6/Tag==",
      "dev": true,
      "license": "BSD-2-Clause",
      "dependencies": {
        "estraverse": "^5.2.0"
      },
      "engines": {
        "node": ">=4.0"
      }
    },
    "node_modules/estraverse": {
      "version": "5.3.0",
      "resolved": "https://registry.npmjs.org/estraverse/-/estraverse-5.3.0.tgz",
      "integrity": "sha512-MMdARuVEQziNTeJD8DgMqmhwR11BRQ/cBP+pLtYdSTnf3MIO8fFeiINEbX36ZdNlfU/7A9f3gUw49B3oQsvwBA==",
      "dev": true,
      "license": "BSD-2-Clause",
      "engines": {
        "node": ">=4.0"
      }
    },
    "node_modules/estree-walker": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/estree-walker/-/estree-walker-2.0.2.tgz",
      "integrity": "sha512-Rfkk/Mp/DL7JVje3u18FxFujQlTNR2q6QfMSMB7AvCBx91NGj/ba3kCfza0f6dVDbw7YlRf/nDrn7pQrCCyQ/w==",
      "license": "MIT"
    },
    "node_modules/esutils": {
      "version": "2.0.3",
      "resolved": "https://registry.npmjs.org/esutils/-/esutils-2.0.3.tgz",
      "integrity": "sha512-kVscqXk4OCp68SZ0dkgEKVi6/8ij300KBWTJq32P/dYeWTSwK41WyTxalN1eRmA5Z9UU/LX9D7FWSmV9SAYx6g==",
      "dev": true,
      "license": "BSD-2-Clause",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/fast-deep-equal": {
      "version": "3.1.3",
      "resolved": "https://registry.npmjs.org/fast-deep-equal/-/fast-deep-equal-3.1.3.tgz",
      "integrity": "sha512-f3qQ9oQy9j2AhBe/H9VC91wLmKBCCU/gDOnKNAYG5hswO7BLKj09Hc5HYNz9cGI++xlpDCIgDaitVs03ATR84Q==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/fast-json-stable-stringify": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/fast-json-stable-stringify/-/fast-json-stable-stringify-2.1.0.tgz",
      "integrity": "sha512-lhd/wF+Lk98HZoTCtlVraHtfh5XYijIjalXck7saUtuanSDyLMxnHhSXEDJqHxD7msR8D0uCmqlkwjCV8xvwHw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/fast-levenshtein": {
      "version": "2.0.6",
      "resolved": "https://registry.npmjs.org/fast-levenshtein/-/fast-levenshtein-2.0.6.tgz",
      "integrity": "sha512-DCXu6Ifhqcks7TZKY3Hxp3y6qphY5SJZmrWMDrKcERSOXWQdMhU9Ig/PYrzyw/ul9jOIyh0N4M0tbC5hodg8dw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/fdir": {
      "version": "6.5.0",
      "resolved": "https://registry.npmjs.org/fdir/-/fdir-6.5.0.tgz",
      "integrity": "sha512-tIbYtZbucOs0BRGqPJkshJUYdL+SDH7dVM8gjy+ERp3WAUjLEFJE+02kanyHtwjWOnwrKYBiwAmM0p4kLJAnXg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=12.0.0"
      },
      "peerDependencies": {
        "picomatch": "^3 || ^4"
      },
      "peerDependenciesMeta": {
        "picomatch": {
          "optional": true
        }
      }
    },
    "node_modules/file-entry-cache": {
      "version": "8.0.0",
      "resolved": "https://registry.npmjs.org/file-entry-cache/-/file-entry-cache-8.0.0.tgz",
      "integrity": "sha512-XXTUwCvisa5oacNGRP9SfNtYBNAMi+RPwBFmblZEF7N7swHYQS6/Zfk7SRwx4D5j3CH211YNRco1DEMNVfZCnQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "flat-cache": "^4.0.0"
      },
      "engines": {
        "node": ">=16.0.0"
      }
    },
    "node_modules/find-up": {
      "version": "5.0.0",
      "resolved": "https://registry.npmjs.org/find-up/-/find-up-5.0.0.tgz",
      "integrity": "sha512-78/PXT1wlLLDgTzDs7sjq9hzz0vXD+zn+7wypEe4fXQxCmdmqfGsEPQxmiCSQI3ajFV91bVSsvNtrJRiW6nGng==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "locate-path": "^6.0.0",
        "path-exists": "^4.0.0"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/flat-cache": {
      "version": "4.0.1",
      "resolved": "https://registry.npmjs.org/flat-cache/-/flat-cache-4.0.1.tgz",
      "integrity": "sha512-f7ccFPK3SXFHpx15UIGyRJ/FJQctuKZ0zVuN3frBo4HnK3cay9VEW0R6yPYFHC0AgqhukPzKjq22t5DmAyqGyw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "flatted": "^3.2.9",
        "keyv": "^4.5.4"
      },
      "engines": {
        "node": ">=16"
      }
    },
    "node_modules/flatted": {
      "version": "3.3.3",
      "resolved": "https://registry.npmjs.org/flatted/-/flatted-3.3.3.tgz",
      "integrity": "sha512-GX+ysw4PBCz0PzosHDepZGANEuFCMLrnRTiEy9McGjmkCQYwRq4A/X786G/fjM/+OjsWSU1ZrY5qyARZmO/uwg==",
      "dev": true,
      "license": "ISC"
    },
    "node_modules/fsevents": {
      "version": "2.3.3",
      "resolved": "https://registry.npmjs.org/fsevents/-/fsevents-2.3.3.tgz",
      "integrity": "sha512-5xoDfX+fL7faATnagmWPpbFtwh/R77WmMMqqHGS65C3vvB0YHrgF+B1YmZ3441tMj5n63k0212XNoJwzlhffQw==",
      "dev": true,
      "hasInstallScript": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": "^8.16.0 || ^10.6.0 || >=11.0.0"
      }
    },
    "node_modules/gensync": {
      "version": "1.0.0-beta.2",
      "resolved": "https://registry.npmjs.org/gensync/-/gensync-1.0.0-beta.2.tgz",
      "integrity": "sha512-3hN7NaskYvMDLQY55gnW3NQ+mesEAepTqlg+VEbj7zzqEMBVNhzcGYYeqFo/TlYz6eQiFcp1HcsCZO+nGgS8zg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/glob-parent": {
      "version": "6.0.2",
      "resolved": "https://registry.npmjs.org/glob-parent/-/glob-parent-6.0.2.tgz",
      "integrity": "sha512-XxwI8EOhVQgWp6iDL+3b0r86f4d6AX6zSU55HfB4ydCEuXLXc5FcYeOu+nnGftS4TEju/11rt4KJPTMgbfmv4A==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "is-glob": "^4.0.3"
      },
      "engines": {
        "node": ">=10.13.0"
      }
    },
    "node_modules/globals": {
      "version": "16.5.0",
      "resolved": "https://registry.npmjs.org/globals/-/globals-16.5.0.tgz",
      "integrity": "sha512-c/c15i26VrJ4IRt5Z89DnIzCGDn9EcebibhAOjw5ibqEHsE1wLUgkPn9RDmNcUKyU87GeaL633nyJ+pplFR2ZQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=18"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/has-flag": {
      "version": "4.0.0",
      "resolved": "https://registry.npmjs.org/has-flag/-/has-flag-4.0.0.tgz",
      "integrity": "sha512-EykJT/Q1KjTWctppgIAgfSO0tKVuZUjhgMr17kqTumMl6Afv3EISleU7qZUzoXDFTAHTDC4NOoG/ZxU3EvlMPQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/hookable": {
      "version": "5.5.3",
      "resolved": "https://registry.npmjs.org/hookable/-/hookable-5.5.3.tgz",
      "integrity": "sha512-Yc+BQe8SvoXH1643Qez1zqLRmbA5rCL+sSmk6TVos0LWVfNIB7PGncdlId77WzLGSIB5KaWgTaNTs2lNVEI6VQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/ignore": {
      "version": "5.3.2",
      "resolved": "https://registry.npmjs.org/ignore/-/ignore-5.3.2.tgz",
      "integrity": "sha512-hsBTNUqQTDwkWtcdYI2i06Y/nUBEsNEDJKjWdigLvegy8kDuJAS8uRlpkkcQpyEXL0Z/pjDy5HBmMjRCJ2gq+g==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 4"
      }
    },
    "node_modules/import-fresh": {
      "version": "3.3.1",
      "resolved": "https://registry.npmjs.org/import-fresh/-/import-fresh-3.3.1.tgz",
      "integrity": "sha512-TR3KfrTZTYLPB6jUjfx6MF9WcWrHL9su5TObK4ZkYgBdWKPOFoSoQIdEuTuR82pmtxH2spWG9h6etwfr1pLBqQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "parent-module": "^1.0.0",
        "resolve-from": "^4.0.0"
      },
      "engines": {
        "node": ">=6"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/imurmurhash": {
      "version": "0.1.4",
      "resolved": "https://registry.npmjs.org/imurmurhash/-/imurmurhash-0.1.4.tgz",
      "integrity": "sha512-JmXMZ6wuvDmLiHEml9ykzqO6lwFbof0GG4IkcGaENdCRDDmMVnny7s5HsIgHCbaq0w2MyPhDqkhTUgS2LU2PHA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=0.8.19"
      }
    },
    "node_modules/is-docker": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/is-docker/-/is-docker-3.0.0.tgz",
      "integrity": "sha512-eljcgEDlEns/7AXFosB5K/2nCM4P7FQPkGc/DWLy5rmFEWvZayGrik1d9/QIY5nJ4f9YsVvBkA6kJpHn9rISdQ==",
      "dev": true,
      "license": "MIT",
      "bin": {
        "is-docker": "cli.js"
      },
      "engines": {
        "node": "^12.20.0 || ^14.13.1 || >=16.0.0"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/is-extglob": {
      "version": "2.1.1",
      "resolved": "https://registry.npmjs.org/is-extglob/-/is-extglob-2.1.1.tgz",
      "integrity": "sha512-SbKbANkN603Vi4jEZv49LeVJMn4yGwsbzZworEoyEiutsN3nJYdbO36zfhGJ6QEDpOZIFkDtnq5JRxmvl3jsoQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/is-glob": {
      "version": "4.0.3",
      "resolved": "https://registry.npmjs.org/is-glob/-/is-glob-4.0.3.tgz",
      "integrity": "sha512-xelSayHH36ZgE7ZWhli7pW34hNbNl8Ojv5KVmkJD4hBdD3th8Tfk9vYasLM+mXWOZhFkgZfxhLSnrwRr4elSSg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "is-extglob": "^2.1.1"
      },
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/is-inside-container": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/is-inside-container/-/is-inside-container-1.0.0.tgz",
      "integrity": "sha512-KIYLCCJghfHZxqjYBE7rEy0OBuTd5xCHS7tHVgvCLkx7StIoaxwNW3hCALgEUjFfeRk+MG/Qxmp/vtETEF3tRA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "is-docker": "^3.0.0"
      },
      "bin": {
        "is-inside-container": "cli.js"
      },
      "engines": {
        "node": ">=14.16"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/is-what": {
      "version": "5.5.0",
      "resolved": "https://registry.npmjs.org/is-what/-/is-what-5.5.0.tgz",
      "integrity": "sha512-oG7cgbmg5kLYae2N5IVd3jm2s+vldjxJzK1pcu9LfpGuQ93MQSzo0okvRna+7y5ifrD+20FE8FvjusyGaz14fw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=18"
      },
      "funding": {
        "url": "https://github.com/sponsors/mesqueeb"
      }
    },
    "node_modules/is-wsl": {
      "version": "3.1.0",
      "resolved": "https://registry.npmjs.org/is-wsl/-/is-wsl-3.1.0.tgz",
      "integrity": "sha512-UcVfVfaK4Sc4m7X3dUSoHoozQGBEFeDC+zVo06t98xe8CzHSZZBekNXH+tu0NalHolcJ/QAGqS46Hef7QXBIMw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "is-inside-container": "^1.0.0"
      },
      "engines": {
        "node": ">=16"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/isexe": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/isexe/-/isexe-2.0.0.tgz",
      "integrity": "sha512-RHxMLp9lnKHGHRng9QFhRCMbYAcVpn69smSGcq3f36xjgVVWThj4qqLbTLlq7Ssj8B+fIQ1EuCEGI2lKsyQeIw==",
      "dev": true,
      "license": "ISC"
    },
    "node_modules/js-tokens": {
      "version": "4.0.0",
      "resolved": "https://registry.npmjs.org/js-tokens/-/js-tokens-4.0.0.tgz",
      "integrity": "sha512-RdJUflcE3cUzKiMqQgsCu06FPu9UdIJO0beYbPhHN4k6apgJtifcoCtT9bcxOpYBtpD2kCM6Sbzg4CausW/PKQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/js-yaml": {
      "version": "4.1.0",
      "resolved": "https://registry.npmjs.org/js-yaml/-/js-yaml-4.1.0.tgz",
      "integrity": "sha512-wpxZs9NoxZaJESJGIZTyDEaYpl0FKSA+FB9aJiyemKhMwkxQg63h4T1KJgUGHpTqPDNRcmmYLugrRjJlBtWvRA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "argparse": "^2.0.1"
      },
      "bin": {
        "js-yaml": "bin/js-yaml.js"
      }
    },
    "node_modules/jsesc": {
      "version": "3.1.0",
      "resolved": "https://registry.npmjs.org/jsesc/-/jsesc-3.1.0.tgz",
      "integrity": "sha512-/sM3dO2FOzXjKQhJuo0Q173wf2KOo8t4I8vHy6lF9poUp7bKT0/NHE8fPX23PwfhnykfqnC2xRxOnVw5XuGIaA==",
      "dev": true,
      "license": "MIT",
      "bin": {
        "jsesc": "bin/jsesc"
      },
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/json-buffer": {
      "version": "3.0.1",
      "resolved": "https://registry.npmjs.org/json-buffer/-/json-buffer-3.0.1.tgz",
      "integrity": "sha512-4bV5BfR2mqfQTJm+V5tPPdf+ZpuhiIvTuAB5g8kcrXOZpTT/QwwVRWBywX1ozr6lEuPdbHxwaJlm9G6mI2sfSQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/json-schema-traverse": {
      "version": "0.4.1",
      "resolved": "https://registry.npmjs.org/json-schema-traverse/-/json-schema-traverse-0.4.1.tgz",
      "integrity": "sha512-xbbCH5dCYU5T8LcEhhuh7HJ88HXuW3qsI3Y0zOZFKfZEHcpWiHU/Jxzk629Brsab/mMiHQti9wMP+845RPe3Vg==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/json-stable-stringify-without-jsonify": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/json-stable-stringify-without-jsonify/-/json-stable-stringify-without-jsonify-1.0.1.tgz",
      "integrity": "sha512-Bdboy+l7tA3OGW6FjyFHWkP5LuByj1Tk33Ljyq0axyzdk9//JSi2u3fP1QSmd1KNwq6VOKYGlAu87CisVir6Pw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/json5": {
      "version": "2.2.3",
      "resolved": "https://registry.npmjs.org/json5/-/json5-2.2.3.tgz",
      "integrity": "sha512-XmOWe7eyHYH14cLdVPoyg+GOH3rYX++KpzrylJwSW98t3Nk+U8XOl8FWKOgwtzdb8lXGf6zYwDUzeHMWfxasyg==",
      "dev": true,
      "license": "MIT",
      "bin": {
        "json5": "lib/cli.js"
      },
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/keyv": {
      "version": "4.5.4",
      "resolved": "https://registry.npmjs.org/keyv/-/keyv-4.5.4.tgz",
      "integrity": "sha512-oxVHkHR/EJf2CNXnWxRLW6mg7JyCCUcG0DtEGmL2ctUo1PNTin1PUil+r/+4r5MpVgC/fn1kjsx7mjSujKqIpw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "json-buffer": "3.0.1"
      }
    },
    "node_modules/kolorist": {
      "version": "1.8.0",
      "resolved": "https://registry.npmjs.org/kolorist/-/kolorist-1.8.0.tgz",
      "integrity": "sha512-Y+60/zizpJ3HRH8DCss+q95yr6145JXZo46OTpFvDZWLfRCE4qChOyk1b26nMaNpfHHgxagk9dXT5OP0Tfe+dQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/konva": {
      "version": "9.3.22",
      "resolved": "https://registry.npmjs.org/konva/-/konva-9.3.22.tgz",
      "integrity": "sha512-yQI5d1bmELlD/fowuyfOp9ff+oamg26WOCkyqUyc+nczD/lhRa3EvD2MZOoc4c1293TAubW9n34fSQLgSeEgSw==",
      "funding": [
        {
          "type": "patreon",
          "url": "https://www.patreon.com/lavrton"
        },
        {
          "type": "opencollective",
          "url": "https://opencollective.com/konva"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/lavrton"
        }
      ],
      "license": "MIT"
    },
    "node_modules/levn": {
      "version": "0.4.1",
      "resolved": "https://registry.npmjs.org/levn/-/levn-0.4.1.tgz",
      "integrity": "sha512-+bT2uH4E5LGE7h/n3evcS/sQlJXCpIp6ym8OWJ5eV6+67Dsql/LaaT7qJBAt2rzfoa/5QBGBhxDix1dMt2kQKQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "prelude-ls": "^1.2.1",
        "type-check": "~0.4.0"
      },
      "engines": {
        "node": ">= 0.8.0"
      }
    },
    "node_modules/locate-path": {
      "version": "6.0.0",
      "resolved": "https://registry.npmjs.org/locate-path/-/locate-path-6.0.0.tgz",
      "integrity": "sha512-iPZK6eYjbxRu3uB4/WZ3EsEIMJFMqAoopl3R+zuq0UjcAm/MO6KCweDgPfP3elTztoKP3KtnVHxTn2NHBSDVUw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "p-locate": "^5.0.0"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/lodash.merge": {
      "version": "4.6.2",
      "resolved": "https://registry.npmjs.org/lodash.merge/-/lodash.merge-4.6.2.tgz",
      "integrity": "sha512-0KpjqXRVvrYyCsX1swR/XTK0va6VQkQM6MNo7PqW77ByjAhoARA8EfrP1N4+KlKj8YS0ZUCtRT/YUuhyYDujIQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/lru-cache": {
      "version": "5.1.1",
      "resolved": "https://registry.npmjs.org/lru-cache/-/lru-cache-5.1.1.tgz",
      "integrity": "sha512-KpNARQA3Iwv+jTA0utUVVbrh+Jlrr1Fv0e56GGzAFOXN7dk/FviaDW8LHmK52DlcH4WP2n6gI8vN1aesBFgo9w==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "yallist": "^3.0.2"
      }
    },
    "node_modules/magic-string": {
      "version": "0.30.21",
      "resolved": "https://registry.npmjs.org/magic-string/-/magic-string-0.30.21.tgz",
      "integrity": "sha512-vd2F4YUyEXKGcLHoq+TEyCjxueSeHnFxyyjNp80yg0XV4vUhnDer/lvvlqM/arB5bXQN5K2/3oinyCRyx8T2CQ==",
      "license": "MIT",
      "dependencies": {
        "@jridgewell/sourcemap-codec": "^1.5.5"
      }
    },
    "node_modules/minimatch": {
      "version": "3.1.2",
      "resolved": "https://registry.npmjs.org/minimatch/-/minimatch-3.1.2.tgz",
      "integrity": "sha512-J7p63hRiAjw1NDEww1W7i37+ByIrOWO5XQQAzZ3VOcL0PNybwpfmV/N05zFAzwQ9USyEcX6t3UO+K5aqBQOIHw==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "brace-expansion": "^1.1.7"
      },
      "engines": {
        "node": "*"
      }
    },
    "node_modules/mitt": {
      "version": "3.0.1",
      "resolved": "https://registry.npmjs.org/mitt/-/mitt-3.0.1.tgz",
      "integrity": "sha512-vKivATfr97l2/QBCYAkXYDbrIWPM2IIKEl7YPhjCvKlG3kE2gm+uBo6nEXK3M5/Ffh/FLpKExzOQ3JJoJGFKBw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/mrmime": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/mrmime/-/mrmime-2.0.1.tgz",
      "integrity": "sha512-Y3wQdFg2Va6etvQ5I82yUhGdsKrcYox6p7FfL1LbK2J4V01F9TGlepTIhnK24t7koZibmg82KGglhA1XK5IsLQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=10"
      }
    },
    "node_modules/ms": {
      "version": "2.1.3",
      "resolved": "https://registry.npmjs.org/ms/-/ms-2.1.3.tgz",
      "integrity": "sha512-6FlzubTLZG3J2a/NVCAleEhjzq5oxgHyaCU9yYXvcLsvoVaHJq/s5xXI6/XXP6tz7R9xAOtHnSO/tXtF3WRTlA==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/nanoid": {
      "version": "3.3.11",
      "resolved": "https://registry.npmjs.org/nanoid/-/nanoid-3.3.11.tgz",
      "integrity": "sha512-N8SpfPUnUp1bK+PMYW8qSWdl9U+wwNWI4QKxOYDy9JAro3WMX7p2OeVRF9v+347pnakNevPmiHhNmZ2HbFA76w==",
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "bin": {
        "nanoid": "bin/nanoid.cjs"
      },
      "engines": {
        "node": "^10 || ^12 || ^13.7 || ^14 || >=15.0.1"
      }
    },
    "node_modules/natural-compare": {
      "version": "1.4.0",
      "resolved": "https://registry.npmjs.org/natural-compare/-/natural-compare-1.4.0.tgz",
      "integrity": "sha512-OWND8ei3VtNC9h7V60qff3SVobHr996CTwgxubgyQYEpg290h9J0buyECNNJexkFm5sOajh5G116RYA1c8ZMSw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/node-releases": {
      "version": "2.0.27",
      "resolved": "https://registry.npmjs.org/node-releases/-/node-releases-2.0.27.tgz",
      "integrity": "sha512-nmh3lCkYZ3grZvqcCH+fjmQ7X+H0OeZgP40OierEaAptX4XofMh5kwNbWh7lBduUzCcV/8kZ+NDLCwm2iorIlA==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/nth-check": {
      "version": "2.1.1",
      "resolved": "https://registry.npmjs.org/nth-check/-/nth-check-2.1.1.tgz",
      "integrity": "sha512-lqjrjmaOoAnWfMmBPL+XNnynZh2+swxiX3WUE0s4yEHI6m+AwrK2UZOimIRl3X/4QctVqS8AiZjFqyOGrMXb/w==",
      "dev": true,
      "license": "BSD-2-Clause",
      "dependencies": {
        "boolbase": "^1.0.0"
      },
      "funding": {
        "url": "https://github.com/fb55/nth-check?sponsor=1"
      }
    },
    "node_modules/ohash": {
      "version": "2.0.11",
      "resolved": "https://registry.npmjs.org/ohash/-/ohash-2.0.11.tgz",
      "integrity": "sha512-RdR9FQrFwNBNXAr4GixM8YaRZRJ5PUWbKYbE5eOsrwAjJW0q2REGcf79oYPsLyskQCZG1PLN+S/K1V00joZAoQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/open": {
      "version": "10.2.0",
      "resolved": "https://registry.npmjs.org/open/-/open-10.2.0.tgz",
      "integrity": "sha512-YgBpdJHPyQ2UE5x+hlSXcnejzAvD0b22U2OuAP+8OnlJT+PjWPxtgmGqKKc+RgTM63U9gN0YzrYc71R2WT/hTA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "default-browser": "^5.2.1",
        "define-lazy-prop": "^3.0.0",
        "is-inside-container": "^1.0.0",
        "wsl-utils": "^0.1.0"
      },
      "engines": {
        "node": ">=18"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/optionator": {
      "version": "0.9.4",
      "resolved": "https://registry.npmjs.org/optionator/-/optionator-0.9.4.tgz",
      "integrity": "sha512-6IpQ7mKUxRcZNLIObR0hz7lxsapSSIYNZJwXPGeF0mTVqGKFIXj1DQcMoT22S3ROcLyY/rz0PWaWZ9ayWmad9g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "deep-is": "^0.1.3",
        "fast-levenshtein": "^2.0.6",
        "levn": "^0.4.1",
        "prelude-ls": "^1.2.1",
        "type-check": "^0.4.0",
        "word-wrap": "^1.2.5"
      },
      "engines": {
        "node": ">= 0.8.0"
      }
    },
    "node_modules/p-limit": {
      "version": "3.1.0",
      "resolved": "https://registry.npmjs.org/p-limit/-/p-limit-3.1.0.tgz",
      "integrity": "sha512-TYOanM3wGwNGsZN2cVTYPArw454xnXj5qmWF1bEoAc4+cU/ol7GVh7odevjp1FNHduHc3KZMcFduxU5Xc6uJRQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "yocto-queue": "^0.1.0"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/p-locate": {
      "version": "5.0.0",
      "resolved": "https://registry.npmjs.org/p-locate/-/p-locate-5.0.0.tgz",
      "integrity": "sha512-LaNjtRWUBY++zB5nE/NwcaoMylSPk+S+ZHNB1TzdbMJMny6dynpAGt7X/tl/QYq3TIeE6nxHppbo2LGymrG5Pw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "p-limit": "^3.0.2"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/parent-module": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/parent-module/-/parent-module-1.0.1.tgz",
      "integrity": "sha512-GQ2EWRpQV8/o+Aw8YqtfZZPfNRWZYkbidE9k5rpl/hC3vtHHBfGm2Ifi6qWV+coDGkrUKZAxE3Lot5kcsRlh+g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "callsites": "^3.0.0"
      },
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/path-exists": {
      "version": "4.0.0",
      "resolved": "https://registry.npmjs.org/path-exists/-/path-exists-4.0.0.tgz",
      "integrity": "sha512-ak9Qy5Q7jYb2Wwcey5Fpvg2KoAc/ZIhLSLOSBmRmygPsGwkVVt0fZa0qrtMz+m6tJTAHfZQ8FnmB4MG4LWy7/w==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/path-key": {
      "version": "3.1.1",
      "resolved": "https://registry.npmjs.org/path-key/-/path-key-3.1.1.tgz",
      "integrity": "sha512-ojmeN0qd+y0jszEtoY48r0Peq5dwMEkIlCOu6Q5f41lfkswXuKtYrhgoTpLnyIcHm24Uhqx+5Tqm2InSwLhE6Q==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/pathe": {
      "version": "2.0.3",
      "resolved": "https://registry.npmjs.org/pathe/-/pathe-2.0.3.tgz",
      "integrity": "sha512-WUjGcAqP1gQacoQe+OBJsFA7Ld4DyXuUIjZ5cc75cLHvJ7dtNsTugphxIADwspS+AraAUePCKrSVtPLFj/F88w==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/perfect-debounce": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/perfect-debounce/-/perfect-debounce-2.0.0.tgz",
      "integrity": "sha512-fkEH/OBiKrqqI/yIgjR92lMfs2K8105zt/VT6+7eTjNwisrsh47CeIED9z58zI7DfKdH3uHAn25ziRZn3kgAow==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/picocolors": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/picocolors/-/picocolors-1.1.1.tgz",
      "integrity": "sha512-xceH2snhtb5M9liqDsmEw56le376mTZkEX/jEb/RxNFyegNul7eNslCXP9FDj/Lcu0X8KEyMceP2ntpaHrDEVA==",
      "license": "ISC"
    },
    "node_modules/picomatch": {
      "version": "4.0.3",
      "resolved": "https://registry.npmjs.org/picomatch/-/picomatch-4.0.3.tgz",
      "integrity": "sha512-5gTmgEY/sqK6gFXLIsQNH19lWb4ebPDLA4SdLP7dsWkIXHWlG66oPuVvXSGFPppYZz8ZDZq0dYYrbHfBCVUb1Q==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/sponsors/jonschlinkert"
      }
    },
    "node_modules/postcss": {
      "version": "8.5.6",
      "resolved": "https://registry.npmjs.org/postcss/-/postcss-8.5.6.tgz",
      "integrity": "sha512-3Ybi1tAuwAP9s0r1UQ2J4n5Y0G05bJkpUIO0/bI9MhwmD70S5aTWbXGBwxHrelT+XM1k6dM0pk+SwNkpTRN7Pg==",
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/postcss/"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/postcss"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "nanoid": "^3.3.11",
        "picocolors": "^1.1.1",
        "source-map-js": "^1.2.1"
      },
      "engines": {
        "node": "^10 || ^12 || >=14"
      }
    },
    "node_modules/postcss-selector-parser": {
      "version": "6.1.2",
      "resolved": "https://registry.npmjs.org/postcss-selector-parser/-/postcss-selector-parser-6.1.2.tgz",
      "integrity": "sha512-Q8qQfPiZ+THO/3ZrOrO0cJJKfpYCagtMUkXbnEfmgUjwXg6z/WBeOyS9APBBPCTSiDV+s4SwQGu8yFsiMRIudg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "cssesc": "^3.0.0",
        "util-deprecate": "^1.0.2"
      },
      "engines": {
        "node": ">=4"
      }
    },
    "node_modules/prelude-ls": {
      "version": "1.2.1",
      "resolved": "https://registry.npmjs.org/prelude-ls/-/prelude-ls-1.2.1.tgz",
      "integrity": "sha512-vkcDPrRZo1QZLbn5RLGPpg/WmIQ65qoWWhcGKf/b5eplkkarX0m9z8ppCat4mlOqUsWpyNuYgO3VRyrYHSzX5g==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 0.8.0"
      }
    },
    "node_modules/punycode": {
      "version": "2.3.1",
      "resolved": "https://registry.npmjs.org/punycode/-/punycode-2.3.1.tgz",
      "integrity": "sha512-vYt7UD1U9Wg6138shLtLOvdAu+8DsC/ilFtEVHcH+wydcSpNE20AfSOduf6MkRFahL5FY7X1oU7nKVZFtfq8Fg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/resolve-from": {
      "version": "4.0.0",
      "resolved": "https://registry.npmjs.org/resolve-from/-/resolve-from-4.0.0.tgz",
      "integrity": "sha512-pb/MYmXstAkysRFx8piNI1tGFNQIFA3vkE3Gq4EuA1dF6gHp/+vgZqsCGJapvy8N3Q+4o7FwvquPJcnZ7RYy4g==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=4"
      }
    },
    "node_modules/rfdc": {
      "version": "1.4.1",
      "resolved": "https://registry.npmjs.org/rfdc/-/rfdc-1.4.1.tgz",
      "integrity": "sha512-q1b3N5QkRUWUl7iyylaaj3kOpIT0N2i9MqIEQXP73GVsN9cw3fdx8X63cEmWhJGi2PPCF23Ijp7ktmd39rawIA==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/rollup": {
      "version": "4.53.2",
      "resolved": "https://registry.npmjs.org/rollup/-/rollup-4.53.2.tgz",
      "integrity": "sha512-MHngMYwGJVi6Fmnk6ISmnk7JAHRNF0UkuucA0CUW3N3a4KnONPEZz+vUanQP/ZC/iY1Qkf3bwPWzyY84wEks1g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@types/estree": "1.0.8"
      },
      "bin": {
        "rollup": "dist/bin/rollup"
      },
      "engines": {
        "node": ">=18.0.0",
        "npm": ">=8.0.0"
      },
      "optionalDependencies": {
        "@rollup/rollup-android-arm-eabi": "4.53.2",
        "@rollup/rollup-android-arm64": "4.53.2",
        "@rollup/rollup-darwin-arm64": "4.53.2",
        "@rollup/rollup-darwin-x64": "4.53.2",
        "@rollup/rollup-freebsd-arm64": "4.53.2",
        "@rollup/rollup-freebsd-x64": "4.53.2",
        "@rollup/rollup-linux-arm-gnueabihf": "4.53.2",
        "@rollup/rollup-linux-arm-musleabihf": "4.53.2",
        "@rollup/rollup-linux-arm64-gnu": "4.53.2",
        "@rollup/rollup-linux-arm64-musl": "4.53.2",
        "@rollup/rollup-linux-loong64-gnu": "4.53.2",
        "@rollup/rollup-linux-ppc64-gnu": "4.53.2",
        "@rollup/rollup-linux-riscv64-gnu": "4.53.2",
        "@rollup/rollup-linux-riscv64-musl": "4.53.2",
        "@rollup/rollup-linux-s390x-gnu": "4.53.2",
        "@rollup/rollup-linux-x64-gnu": "4.53.2",
        "@rollup/rollup-linux-x64-musl": "4.53.2",
        "@rollup/rollup-openharmony-arm64": "4.53.2",
        "@rollup/rollup-win32-arm64-msvc": "4.53.2",
        "@rollup/rollup-win32-ia32-msvc": "4.53.2",
        "@rollup/rollup-win32-x64-gnu": "4.53.2",
        "@rollup/rollup-win32-x64-msvc": "4.53.2",
        "fsevents": "~2.3.2"
      }
    },
    "node_modules/run-applescript": {
      "version": "7.1.0",
      "resolved": "https://registry.npmjs.org/run-applescript/-/run-applescript-7.1.0.tgz",
      "integrity": "sha512-DPe5pVFaAsinSaV6QjQ6gdiedWDcRCbUuiQfQa2wmWV7+xC9bGulGI8+TdRmoFkAPaBXk8CrAbnlY2ISniJ47Q==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=18"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/semver": {
      "version": "7.7.3",
      "resolved": "https://registry.npmjs.org/semver/-/semver-7.7.3.tgz",
      "integrity": "sha512-SdsKMrI9TdgjdweUSR9MweHA4EJ8YxHn8DFaDisvhVlUOe4BF1tLD7GAj0lIqWVl+dPb/rExr0Btby5loQm20Q==",
      "dev": true,
      "license": "ISC",
      "bin": {
        "semver": "bin/semver.js"
      },
      "engines": {
        "node": ">=10"
      }
    },
    "node_modules/shebang-command": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/shebang-command/-/shebang-command-2.0.0.tgz",
      "integrity": "sha512-kHxr2zZpYtdmrN1qDjrrX/Z1rR1kG8Dx+gkpK1G4eXmvXswmcE1hTWBWYUzlraYw1/yZp6YuDY77YtvbN0dmDA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "shebang-regex": "^3.0.0"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/shebang-regex": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/shebang-regex/-/shebang-regex-3.0.0.tgz",
      "integrity": "sha512-7++dFhtcx3353uBaq8DDR4NuxBetBzC7ZQOhmTQInHEd6bSrXdiEyzCvG07Z44UYdLShWUyXt5M/yhz8ekcb1A==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/sirv": {
      "version": "3.0.2",
      "resolved": "https://registry.npmjs.org/sirv/-/sirv-3.0.2.tgz",
      "integrity": "sha512-2wcC/oGxHis/BoHkkPwldgiPSYcpZK3JU28WoMVv55yHJgcZ8rlXvuG9iZggz+sU1d4bRgIGASwyWqjxu3FM0g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@polka/url": "^1.0.0-next.24",
        "mrmime": "^2.0.0",
        "totalist": "^3.0.0"
      },
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/source-map-js": {
      "version": "1.2.1",
      "resolved": "https://registry.npmjs.org/source-map-js/-/source-map-js-1.2.1.tgz",
      "integrity": "sha512-UXWMKhLOwVKb728IUtQPXxfYU+usdybtUrK/8uGE8CQMvrhOpwvzDBwj0QhSL7MQc7vIsISBG8VQ8+IDQxpfQA==",
      "license": "BSD-3-Clause",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/speakingurl": {
      "version": "14.0.1",
      "resolved": "https://registry.npmjs.org/speakingurl/-/speakingurl-14.0.1.tgz",
      "integrity": "sha512-1POYv7uv2gXoyGFpBCmpDVSNV74IfsWlDW216UPjbWufNf+bSU6GdbDsxdcxtfwb4xlI3yxzOTKClUosxARYrQ==",
      "dev": true,
      "license": "BSD-3-Clause",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/strip-json-comments": {
      "version": "3.1.1",
      "resolved": "https://registry.npmjs.org/strip-json-comments/-/strip-json-comments-3.1.1.tgz",
      "integrity": "sha512-6fPc+R4ihwqP6N/aIv2f1gMH8lOVtWQHoqC4yK6oSDVVocumAsfCqjkXnqiYMhmMwS/mEHLp7Vehlt3ql6lEig==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/superjson": {
      "version": "2.2.5",
      "resolved": "https://registry.npmjs.org/superjson/-/superjson-2.2.5.tgz",
      "integrity": "sha512-zWPTX96LVsA/eVYnqOM2+ofcdPqdS1dAF1LN4TS2/MWuUpfitd9ctTa87wt4xrYnZnkLtS69xpBdSxVBP5Rm6w==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "copy-anything": "^4"
      },
      "engines": {
        "node": ">=16"
      }
    },
    "node_modules/supports-color": {
      "version": "7.2.0",
      "resolved": "https://registry.npmjs.org/supports-color/-/supports-color-7.2.0.tgz",
      "integrity": "sha512-qpCAvRl9stuOHveKsn7HncJRvv501qIacKzQlO/+Lwxc9+0q2wLyv4Dfvt80/DPn2pqOBsJdDiogXGR9+OvwRw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "has-flag": "^4.0.0"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/tinyglobby": {
      "version": "0.2.15",
      "resolved": "https://registry.npmjs.org/tinyglobby/-/tinyglobby-0.2.15.tgz",
      "integrity": "sha512-j2Zq4NyQYG5XMST4cbs02Ak8iJUdxRM0XI5QyxXuZOzKOINmWurp3smXu3y5wDcJrptwpSjgXHzIQxR0omXljQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "fdir": "^6.5.0",
        "picomatch": "^4.0.3"
      },
      "engines": {
        "node": ">=12.0.0"
      },
      "funding": {
        "url": "https://github.com/sponsors/SuperchupuDev"
      }
    },
    "node_modules/totalist": {
      "version": "3.0.1",
      "resolved": "https://registry.npmjs.org/totalist/-/totalist-3.0.1.tgz",
      "integrity": "sha512-sf4i37nQ2LBx4m3wB74y+ubopq6W/dIzXg0FDGjsYnZHVa1Da8FH853wlL2gtUhg+xJXjfk3kUZS3BRoQeoQBQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/type-check": {
      "version": "0.4.0",
      "resolved": "https://registry.npmjs.org/type-check/-/type-check-0.4.0.tgz",
      "integrity": "sha512-XleUoc9uwGXqjWwXaUTZAmzMcFZ5858QA2vvx1Ur5xIcixXIP+8LnFDgRplU30us6teqdlskFfu+ae4K79Ooew==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "prelude-ls": "^1.2.1"
      },
      "engines": {
        "node": ">= 0.8.0"
      }
    },
    "node_modules/unplugin-utils": {
      "version": "0.3.1",
      "resolved": "https://registry.npmjs.org/unplugin-utils/-/unplugin-utils-0.3.1.tgz",
      "integrity": "sha512-5lWVjgi6vuHhJ526bI4nlCOmkCIF3nnfXkCMDeMJrtdvxTs6ZFCM8oNufGTsDbKv/tJ/xj8RpvXjRuPBZJuJog==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "pathe": "^2.0.3",
        "picomatch": "^4.0.3"
      },
      "engines": {
        "node": ">=20.19.0"
      },
      "funding": {
        "url": "https://github.com/sponsors/sxzz"
      }
    },
    "node_modules/update-browserslist-db": {
      "version": "1.1.4",
      "resolved": "https://registry.npmjs.org/update-browserslist-db/-/update-browserslist-db-1.1.4.tgz",
      "integrity": "sha512-q0SPT4xyU84saUX+tomz1WLkxUbuaJnR1xWt17M7fJtEJigJeWUNGUqrauFXsHnqev9y9JTRGwk13tFBuKby4A==",
      "dev": true,
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/browserslist"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/browserslist"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "escalade": "^3.2.0",
        "picocolors": "^1.1.1"
      },
      "bin": {
        "update-browserslist-db": "cli.js"
      },
      "peerDependencies": {
        "browserslist": ">= 4.21.0"
      }
    },
    "node_modules/uri-js": {
      "version": "4.4.1",
      "resolved": "https://registry.npmjs.org/uri-js/-/uri-js-4.4.1.tgz",
      "integrity": "sha512-7rKUyy33Q1yc98pQ1DAmLtwX109F7TIfWlW1Ydo8Wl1ii1SeHieeh0HHfPeL2fMXK6z0s8ecKs9frCuLJvndBg==",
      "dev": true,
      "license": "BSD-2-Clause",
      "dependencies": {
        "punycode": "^2.1.0"
      }
    },
    "node_modules/util-deprecate": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/util-deprecate/-/util-deprecate-1.0.2.tgz",
      "integrity": "sha512-EPD5q1uXyFxJpCrLnCc1nHnq3gOa6DZBocAIiI2TaSCA7VCJ1UJDMagCzIkXNsUYfD1daK//LTEQ8xiIbrHtcw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/vite": {
      "version": "7.2.2",
      "resolved": "https://registry.npmjs.org/vite/-/vite-7.2.2.tgz",
      "integrity": "sha512-BxAKBWmIbrDgrokdGZH1IgkIk/5mMHDreLDmCJ0qpyJaAteP8NvMhkwr/ZCQNqNH97bw/dANTE9PDzqwJghfMQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "esbuild": "^0.25.0",
        "fdir": "^6.5.0",
        "picomatch": "^4.0.3",
        "postcss": "^8.5.6",
        "rollup": "^4.43.0",
        "tinyglobby": "^0.2.15"
      },
      "bin": {
        "vite": "bin/vite.js"
      },
      "engines": {
        "node": "^20.19.0 || >=22.12.0"
      },
      "funding": {
        "url": "https://github.com/vitejs/vite?sponsor=1"
      },
      "optionalDependencies": {
        "fsevents": "~2.3.3"
      },
      "peerDependencies": {
        "@types/node": "^20.19.0 || >=22.12.0",
        "jiti": ">=1.21.0",
        "less": "^4.0.0",
        "lightningcss": "^1.21.0",
        "sass": "^1.70.0",
        "sass-embedded": "^1.70.0",
        "stylus": ">=0.54.8",
        "sugarss": "^5.0.0",
        "terser": "^5.16.0",
        "tsx": "^4.8.1",
        "yaml": "^2.4.2"
      },
      "peerDependenciesMeta": {
        "@types/node": {
          "optional": true
        },
        "jiti": {
          "optional": true
        },
        "less": {
          "optional": true
        },
        "lightningcss": {
          "optional": true
        },
        "sass": {
          "optional": true
        },
        "sass-embedded": {
          "optional": true
        },
        "stylus": {
          "optional": true
        },
        "sugarss": {
          "optional": true
        },
        "terser": {
          "optional": true
        },
        "tsx": {
          "optional": true
        },
        "yaml": {
          "optional": true
        }
      }
    },
    "node_modules/vite-dev-rpc": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/vite-dev-rpc/-/vite-dev-rpc-1.1.0.tgz",
      "integrity": "sha512-pKXZlgoXGoE8sEKiKJSng4hI1sQ4wi5YT24FCrwrLt6opmkjlqPPVmiPWWJn8M8byMxRGzp1CrFuqQs4M/Z39A==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "birpc": "^2.4.0",
        "vite-hot-client": "^2.1.0"
      },
      "funding": {
        "url": "https://github.com/sponsors/antfu"
      },
      "peerDependencies": {
        "vite": "^2.9.0 || ^3.0.0-0 || ^4.0.0-0 || ^5.0.0-0 || ^6.0.1 || ^7.0.0-0"
      }
    },
    "node_modules/vite-hot-client": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/vite-hot-client/-/vite-hot-client-2.1.0.tgz",
      "integrity": "sha512-7SpgZmU7R+dDnSmvXE1mfDtnHLHQSisdySVR7lO8ceAXvM0otZeuQQ6C8LrS5d/aYyP/QZ0hI0L+dIPrm4YlFQ==",
      "dev": true,
      "license": "MIT",
      "funding": {
        "url": "https://github.com/sponsors/antfu"
      },
      "peerDependencies": {
        "vite": "^2.6.0 || ^3.0.0 || ^4.0.0 || ^5.0.0-0 || ^6.0.0-0 || ^7.0.0-0"
      }
    },
    "node_modules/vite-plugin-inspect": {
      "version": "11.3.3",
      "resolved": "https://registry.npmjs.org/vite-plugin-inspect/-/vite-plugin-inspect-11.3.3.tgz",
      "integrity": "sha512-u2eV5La99oHoYPHE6UvbwgEqKKOQGz86wMg40CCosP6q8BkB6e5xPneZfYagK4ojPJSj5anHCrnvC20DpwVdRA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "ansis": "^4.1.0",
        "debug": "^4.4.1",
        "error-stack-parser-es": "^1.0.5",
        "ohash": "^2.0.11",
        "open": "^10.2.0",
        "perfect-debounce": "^2.0.0",
        "sirv": "^3.0.1",
        "unplugin-utils": "^0.3.0",
        "vite-dev-rpc": "^1.1.0"
      },
      "engines": {
        "node": ">=14"
      },
      "funding": {
        "url": "https://github.com/sponsors/antfu"
      },
      "peerDependencies": {
        "vite": "^6.0.0 || ^7.0.0-0"
      },
      "peerDependenciesMeta": {
        "@nuxt/kit": {
          "optional": true
        }
      }
    },
    "node_modules/vite-plugin-vue-devtools": {
      "version": "8.0.3",
      "resolved": "https://registry.npmjs.org/vite-plugin-vue-devtools/-/vite-plugin-vue-devtools-8.0.3.tgz",
      "integrity": "sha512-yIi3u31xUi28HcLlTpV0BvSLQHgZ2dA8Zqa59kWfIeMdHqbsunt6TCjq4wCNfOcGSju+E7qyHyI09EjRRFMbuQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@vue/devtools-core": "^8.0.3",
        "@vue/devtools-kit": "^8.0.3",
        "@vue/devtools-shared": "^8.0.3",
        "sirv": "^3.0.2",
        "vite-plugin-inspect": "^11.3.3",
        "vite-plugin-vue-inspector": "^5.3.2"
      },
      "engines": {
        "node": ">=v14.21.3"
      },
      "peerDependencies": {
        "vite": "^6.0.0 || ^7.0.0-0"
      }
    },
    "node_modules/vite-plugin-vue-inspector": {
      "version": "5.3.2",
      "resolved": "https://registry.npmjs.org/vite-plugin-vue-inspector/-/vite-plugin-vue-inspector-5.3.2.tgz",
      "integrity": "sha512-YvEKooQcSiBTAs0DoYLfefNja9bLgkFM7NI2b07bE2SruuvX0MEa9cMaxjKVMkeCp5Nz9FRIdcN1rOdFVBeL6Q==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/core": "^7.23.0",
        "@babel/plugin-proposal-decorators": "^7.23.0",
        "@babel/plugin-syntax-import-attributes": "^7.22.5",
        "@babel/plugin-syntax-import-meta": "^7.10.4",
        "@babel/plugin-transform-typescript": "^7.22.15",
        "@vue/babel-plugin-jsx": "^1.1.5",
        "@vue/compiler-dom": "^3.3.4",
        "kolorist": "^1.8.0",
        "magic-string": "^0.30.4"
      },
      "peerDependencies": {
        "vite": "^3.0.0-0 || ^4.0.0-0 || ^5.0.0-0 || ^6.0.0-0 || ^7.0.0-0"
      }
    },
    "node_modules/vue": {
      "version": "3.5.24",
      "resolved": "https://registry.npmjs.org/vue/-/vue-3.5.24.tgz",
      "integrity": "sha512-uTHDOpVQTMjcGgrqFPSb8iO2m1DUvo+WbGqoXQz8Y1CeBYQ0FXf2z1gLRaBtHjlRz7zZUBHxjVB5VTLzYkvftg==",
      "license": "MIT",
      "dependencies": {
        "@vue/compiler-dom": "3.5.24",
        "@vue/compiler-sfc": "3.5.24",
        "@vue/runtime-dom": "3.5.24",
        "@vue/server-renderer": "3.5.24",
        "@vue/shared": "3.5.24"
      },
      "peerDependencies": {
        "typescript": "*"
      },
      "peerDependenciesMeta": {
        "typescript": {
          "optional": true
        }
      }
    },
    "node_modules/vue-eslint-parser": {
      "version": "10.2.0",
      "resolved": "https://registry.npmjs.org/vue-eslint-parser/-/vue-eslint-parser-10.2.0.tgz",
      "integrity": "sha512-CydUvFOQKD928UzZhTp4pr2vWz1L+H99t7Pkln2QSPdvmURT0MoC4wUccfCnuEaihNsu9aYYyk+bep8rlfkUXw==",
      "dev": true,
      "license": "MIT",
      "peer": true,
      "dependencies": {
        "debug": "^4.4.0",
        "eslint-scope": "^8.2.0",
        "eslint-visitor-keys": "^4.2.0",
        "espree": "^10.3.0",
        "esquery": "^1.6.0",
        "semver": "^7.6.3"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "url": "https://github.com/sponsors/mysticatea"
      },
      "peerDependencies": {
        "eslint": "^8.57.0 || ^9.0.0"
      }
    },
    "node_modules/vue-konva": {
      "version": "3.2.6",
      "resolved": "https://registry.npmjs.org/vue-konva/-/vue-konva-3.2.6.tgz",
      "integrity": "sha512-QtiM/BYHs4gyRqhg6w0lHYGONb936qD5PeGpSFFnFzTLcOaHXd3EAas2PafrWbcILdHAUNm+0j7+djJw6g6XCw==",
      "funding": [
        {
          "type": "patreon",
          "url": "https://www.patreon.com/lavrton"
        },
        {
          "type": "opencollective",
          "url": "https://opencollective.com/konva"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/lavrton"
        }
      ],
      "license": "MIT",
      "engines": {
        "node": ">= 4.0.0",
        "npm": ">= 3.0.0"
      },
      "peerDependencies": {
        "konva": ">7",
        "vue": "^3"
      }
    },
    "node_modules/vue-router": {
      "version": "4.6.4",
      "resolved": "https://registry.npmjs.org/vue-router/-/vue-router-4.6.4.tgz",
      "integrity": "sha512-Hz9q5sa33Yhduglwz6g9skT8OBPii+4bFn88w6J+J4MfEo4KRRpmiNG/hHHkdbRFlLBOqxN8y8gf2Fb0MTUgVg==",
      "license": "MIT",
      "dependencies": {
        "@vue/devtools-api": "^6.6.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/posva"
      },
      "peerDependencies": {
        "vue": "^3.5.0"
      }
    },
    "node_modules/which": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/which/-/which-2.0.2.tgz",
      "integrity": "sha512-BLI3Tl1TW3Pvl70l3yq3Y64i+awpwXqsGBYWkkqMtnbXgrMD+yj7rhW0kuEDxzJaYXGjEW5ogapKNMEKNMjibA==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "isexe": "^2.0.0"
      },
      "bin": {
        "node-which": "bin/node-which"
      },
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/word-wrap": {
      "version": "1.2.5",
      "resolved": "https://registry.npmjs.org/word-wrap/-/word-wrap-1.2.5.tgz",
      "integrity": "sha512-BN22B5eaMMI9UMtjrGd5g5eCYPpCPDUy0FJXbYsaT5zYxjFOckS53SQDE3pWkVoWpHXVb3BrYcEN4Twa55B5cA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/wsl-utils": {
      "version": "0.1.0",
      "resolved": "https://registry.npmjs.org/wsl-utils/-/wsl-utils-0.1.0.tgz",
      "integrity": "sha512-h3Fbisa2nKGPxCpm89Hk33lBLsnaGBvctQopaBSOW/uIs6FTe1ATyAnKFJrzVs9vpGdsTe73WF3V4lIsk4Gacw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "is-wsl": "^3.1.0"
      },
      "engines": {
        "node": ">=18"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/xml-name-validator": {
      "version": "4.0.0",
      "resolved": "https://registry.npmjs.org/xml-name-validator/-/xml-name-validator-4.0.0.tgz",
      "integrity": "sha512-ICP2e+jsHvAj2E2lIHxa5tjXRlKDJo4IdvPvCXbXQGdzSfmSpNVyIKMvoZHjDY9DP0zV17iI85o90vRFXNccRw==",
      "dev": true,
      "license": "Apache-2.0",
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/yallist": {
      "version": "3.1.1",
      "resolved": "https://registry.npmjs.org/yallist/-/yallist-3.1.1.tgz",
      "integrity": "sha512-a4UGQaWPH59mOXUYnAG2ewncQS4i4F43Tv3JoAM+s2VDAmS9NsK8GpDMLrCHPksFT7h3K6TOoUNn2pb7RoXx4g==",
      "dev": true,
      "license": "ISC"
    },
    "node_modules/yocto-queue": {
      "version": "0.1.0",
      "resolved": "https://registry.npmjs.org/yocto-queue/-/yocto-queue-0.1.0.tgz",
      "integrity": "sha512-rVksvsnNCdJ/ohGc6xgPwyN8eheCxsiLM8mxuE/t/mOVqJewPuO1miLpTHQiRgTKCLexL4MeAFVagts7HmNZ2Q==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    }
  }
}



================================================================================
文件路径: frontend\package.json
--------------------------------------------------------------------------------

{
  "name": "frontend",
  "version": "0.0.0",
  "private": true,
  "type": "module",
  "engines": {
    "node": "^20.19.0 || >=22.12.0"
  },
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview",
    "lint": "eslint . --fix --cache"
  },
  "dependencies": {
    "vue": "^3.5.22",
    "vue-router": "^4.4.5",
    "konva": "^9.3.14",
    "vue-konva": "^3.0.2"
  },
  "devDependencies": {
    "@eslint/js": "^9.37.0",
    "@vitejs/plugin-vue": "^6.0.1",
    "eslint": "^9.37.0",
    "eslint-plugin-vue": "~10.5.0",
    "globals": "^16.4.0",
    "vite": "^7.1.11",
    "vite-plugin-vue-devtools": "^8.0.3"
  }
}



================================================================================
文件路径: frontend\vite.config.js
--------------------------------------------------------------------------------

import { defineConfig } from 'vite';
import plugin from '@vitejs/plugin-vue';
import { fileURLToPath, URL } from 'node:url';

// https://vitejs.dev/config/
export default defineConfig({
    plugins: [plugin()],
    resolve: {
        alias: {
            // 将 @ 映射到 src 目录的绝对路径
            '@': fileURLToPath(new URL('./src', import.meta.url))
        }
    },
    server: {
        port: 49691,
        // 只有在本地 npm run dev 时生效，Docker 里的 Nginx 不用这个。
        proxy: {
            '/api': {
                // 指向docker-compose映射到宿主机的端口8081。
                target: 'http://localhost:8081',
                changeOrigin: true,
                // 如果你的后端 Django 路由需要 /api 前缀，就不要重写(rewrite)路径
                // 如果后端不需要 /api 前缀，则取消注释下面这行：
                // rewrite: (path) => path.replace(/^\/api/, '')
            }
        }
    }
})



================================================================================
文件路径: frontend\obj\Debug\frontend.esproj.FileListAbsolute.txt
--------------------------------------------------------------------------------

C:\Users\Yelo_Pasge\Documents\GitHub\Plaza-Area-Management-System\frontend\frontend\obj\Debug\frontend.esproj.CoreCompileInputs.cache



================================================================================
文件路径: frontend\src\App.vue
--------------------------------------------------------------------------------

<script setup>
import { RouterView } from 'vue-router'
</script>

<template>
  <RouterView />
</template>




================================================================================
文件路径: frontend\src\main.js
--------------------------------------------------------------------------------

import './assets/main.css'

import { createApp } from 'vue'
import App from './App.vue'
import router from './router'
import VueKonva from 'vue-konva'

const app = createApp(App)

app.use(router)
app.use(VueKonva)

app.mount('#app')



================================================================================
文件路径: frontend\src\api\auth.js
--------------------------------------------------------------------------------




================================================================================
文件路径: frontend\src\api\editor.js
--------------------------------------------------------------------------------

import { request } from './index'

/**
 * Editor 模块：负责地图上的几何图形编辑与部分关联关系管理
 * 前缀：/api/editor/
 *
 * 约定：
 * - 在 editor 模块中，只修改 / 创建几何字段（shape），属性信息交由 management 模块处理
 * - geometry 统一使用 GeoJSON 对象（前端负责与绘图库对接）
 */

// ---------- Storearea（店铺区域）几何 ----------

export function listEditorStoreareas() {
  return request('api/editor/storearea/', { method: 'GET' })
}

export function getEditorStorearea(id) {
  return request(`api/editor/storearea/${id}/`, { method: 'GET' })
}

// 只传 shape 字段 + map_id：后端期望 shape 为字符串（WKT 或 GeoJSON 字符串）
export function createEditorStorearea(shapeGeojson, map_id) {
  return request('api/editor/storearea/', {
    method: 'POST',
    body: {
      shape: typeof shapeGeojson === 'string' ? shapeGeojson : JSON.stringify(shapeGeojson),
      map_id
    }
  })
}

export function updateEditorStoreareaShape(id, shapeGeojson) {
  return request(`api/editor/storearea/${id}/`, {
    method: 'PATCH',
    body: { shape: typeof shapeGeojson === 'string' ? shapeGeojson : JSON.stringify(shapeGeojson) }
  })
}

export function deleteEditorStorearea(id) {
  return request(`api/editor/storearea/${id}/`, { method: 'DELETE' })
}

// 获取某个店铺区域关联的所有活动 ID
export function getStoreareaEventsForEditor(id) {
  return request(`api/editor/storearea/${id}/events/`, { method: 'GET' })
}

// ---------- Event（活动）只读 + 关联关系 ----------

export function listEditorEvents() {
  return request('api/editor/event/', { method: 'GET' })
}

export function getEditorEvent(id) {
  return request(`api/editor/event/${id}/`, { method: 'GET' })
}

// 获取活动关联的所有区域 ID
export function getEventAreasForEditor(id) {
  return request(`api/editor/event/${id}/areas/`, { method: 'GET' })
}

// 管理活动与店铺区域的关联（POST 创建 / DELETE 删除）
export function addStoreareaToEvent(eventId, storeareaId) {
  return request(`api/editor/event/${eventId}/storeareas/`, {
    method: 'POST',
    body: { storearea_id: storeareaId }
  })
}

export function removeStoreareaFromEvent(eventId, storeareaId) {
  return request(`api/editor/event/${eventId}/storeareas/`, {
    method: 'DELETE',
    body: { storearea_id: storeareaId }
  })
}

// ---------- Eventarea（活动区域）几何 ----------

export function listEditorEventareas() {
  return request('api/editor/eventarea/', { method: 'GET' })
}

export function getEditorEventarea(id) {
  return request(`api/editor/eventarea/${id}/`, { method: 'GET' })
}

export function createEditorEventarea(shapeGeojson, map_id) {
  return request('api/editor/eventarea/', {
    method: 'POST',
    body: {
      shape: typeof shapeGeojson === 'string' ? shapeGeojson : JSON.stringify(shapeGeojson),
      map_id
    }
  })
}

export function updateEditorEventareaShape(id, shapeGeojson) {
  return request(`api/editor/eventarea/${id}/`, {
    method: 'PATCH',
    body: { shape: typeof shapeGeojson === 'string' ? shapeGeojson : JSON.stringify(shapeGeojson) }
  })
}

export function deleteEditorEventarea(id) {
  return request(`api/editor/eventarea/${id}/`, { method: 'DELETE' })
}

// ---------- Otherarea（其他区域）几何 + 与 Eventarea 关联 ----------

export function listEditorOtherareas() {
  return request('api/editor/otherarea/', { method: 'GET' })
}

export function getEditorOtherarea(id) {
  return request(`api/editor/otherarea/${id}/`, { method: 'GET' })
}

export function createEditorOtherarea(shapeGeojson, map_id, type = 0) {
  return request('api/editor/otherarea/', {
    method: 'POST',
    body: {
      shape: typeof shapeGeojson === 'string' ? shapeGeojson : JSON.stringify(shapeGeojson),
      map_id,
      type
    }
  })
}

export function updateEditorOtherareaShape(id, shapeGeojson) {
  return request(`api/editor/otherarea/${id}/`, {
    method: 'PATCH',
    body: { shape: typeof shapeGeojson === 'string' ? shapeGeojson : JSON.stringify(shapeGeojson) }
  })
}

export function deleteEditorOtherarea(id) {
  return request(`api/editor/otherarea/${id}/`, { method: 'DELETE' })
}

// 管理活动与活动区域的关联关系
export function addEventareaToEvent(eventId, eventareaId) {
  return request(`api/editor/otherarea/${eventId}/eventareas/`, {
    method: 'POST',
    body: { eventarea_id: eventareaId }
  })
}

export function removeEventareaFromEvent(eventId, eventareaId) {
  return request(`api/editor/otherarea/${eventId}/eventareas/`, {
    method: 'DELETE',
    body: { eventarea_id: eventareaId }
  })
}




================================================================================
文件路径: frontend\src\api\guide.js
--------------------------------------------------------------------------------

import { request } from './index'

/**
 * 导览相关 API 封装
 * 后端接口：POST /api/guide/route/
 */

// 计算从起点到终点的路径
// payload 示例：
// { map_id: 1, start: { x: 10, y: 20 }, end: { x: 50, y: 60 } }
export function planRoute(payload) {
  return request('api/guide/route/', {
    method: 'POST',
    body: payload
  })
}




================================================================================
文件路径: frontend\src\api\index.js
--------------------------------------------------------------------------------

// API 公共配置与 helper
const BACKEND_BASE = import.meta.env.VITE_BACKEND_URL || 'http://localhost:8081'

function buildUrl(path) {
  return `${BACKEND_BASE.replace(/\/+$/, '')}/${path.replace(/^\/+/, '')}`
}

async function request(path, options = {}) {
  const url = buildUrl(path)
  const opts = Object.assign({
    headers: {
      'Content-Type': 'application/json'
    }
  }, options)

  if (opts.body && typeof opts.body === 'object') {
    opts.body = JSON.stringify(opts.body)
  }

  const res = await fetch(url, opts)
  const contentType = res.headers.get('content-type') || ''
  let data = null
  if (contentType.includes('application/json')) {
    data = await res.json()
  } else {
    data = await res.text()
  }

  if (!res.ok) {
    const err = new Error(data?.detail || res.statusText || 'API error')
    err.status = res.status
    err.data = data
    throw err
  }

  return data
}

export { BACKEND_BASE, buildUrl, request }



================================================================================
文件路径: frontend\src\api\management.js
--------------------------------------------------------------------------------

import { request } from './index'

/**
 * Management 模块：负责非几何属性的CRUD和管理员认证
 * 前缀：/api/management/
 *
 * 约定：
 * - 在 management 模块中，只处理非几何属性（不允许修改shape）
 * - shape 字段的创建/更新由 editor 模块处理
 * - 创建/更新时若包含shape字段，后端会自动移除或返回错误
 */

// ---------- 管理员认证与个人信息 ----------

/**
 * 管理员注册
 * @param {Object} adminData - 管理员注册数据
 * @returns {Promise}
 */
export function adminRegister(adminData) {
  return request('api/management/auth/register/', {
    method: 'POST',
    body: adminData
  })
}

/**
 * 管理员登录
 * @param {Object} credentials - 登录凭据 {account, password}
 * @returns {Promise}
 */
export function adminLogin(credentials) {
  return request('api/management/auth/login/', {
    method: 'POST',
    body: credentials
  })
}

/**
 * 管理员注销
 * @returns {Promise}
 */
export function adminLogout() {
  return request('api/management/auth/logout/', {
    method: 'POST'
  })
}

/**
 * 获取当前登录管理员个人信息
 * @returns {Promise}
 */
export function getAdminProfile() {
  return request('api/management/profile/', {
    method: 'GET'
  })
}

/**
 * 更新当前登录管理员个人信息
 * @param {Object} profileData - 更新的个人信息
 * @returns {Promise}
 */
export function updateAdminProfile(profileData) {
  return request('api/management/profile/', {
    method: 'PUT',
    body: profileData
  })
}

// ---------- 活动区域（Eventarea）管理 ----------

/**
 * 获取所有活动区域列表
 * @returns {Promise}
 */
export function listManagementEventareas() {
  return request('api/management/eventarea/', {
    method: 'GET'
  })
}

/**
 * 获取指定活动区域详情
 * @param {number} id - 活动区域ID
 * @returns {Promise}
 */
export function getManagementEventarea(id) {
  return request(`api/management/eventarea/${id}/`, {
    method: 'GET'
  })
}

/**
 * 创建新的活动区域（自动移除shape字段）
 * @param {Object} eventareaData - 活动区域数据（不含shape）
 * @returns {Promise}
 */
export function createManagementEventarea(eventareaData) {
  // 确保不包含shape字段
  const data = { ...eventareaData }
  if ('shape' in data) {
    console.warn('Warning: shape字段将在management.create中被自动移除')
    delete data.shape
  }

  return request('api/management/eventarea/', {
    method: 'POST',
    body: data
  })
}

/**
 * 完整更新活动区域（不允许更新shape）
 * @param {number} id - 活动区域ID
 * @param {Object} eventareaData - 完整更新数据（不含shape）
 * @returns {Promise}
 */
export function updateManagementEventarea(id, eventareaData) {
  // 检查是否包含shape字段，如果包含则拒绝
  if ('shape' in eventareaData) {
    return Promise.reject(new Error('Shape attribute cannot be updated in management module'))
  }

  return request(`api/management/eventarea/${id}/`, {
    method: 'PUT',
    body: eventareaData
  })
}

/**
 * 部分更新活动区域（不允许更新shape）
 * @param {number} id - 活动区域ID
 * @param {Object} eventareaData - 部分更新数据（不含shape）
 * @returns {Promise}
 */
export function partialUpdateManagementEventarea(id, eventareaData) {
  // 检查是否包含shape字段，如果包含则拒绝
  if ('shape' in eventareaData) {
    return Promise.reject(new Error('Shape attribute cannot be updated in management module'))
  }

  return request(`api/management/eventarea/${id}/`, {
    method: 'PATCH',
    body: eventareaData
  })
}

/**
 * 删除指定活动区域
 * @param {number} id - 活动区域ID
 * @returns {Promise}
 */
export function deleteManagementEventarea(id) {
  return request(`api/management/eventarea/${id}/`, {
    method: 'DELETE'
  })
}

// ---------- 其他区域（Otherarea）管理 ----------

/**
 * 获取所有其他区域列表
 * @returns {Promise}
 */
export function listManagementOtherareas() {
  return request('api/management/otherarea/', {
    method: 'GET'
  })
}

/**
 * 获取指定其他区域详情
 * @param {number} id - 其他区域ID
 * @returns {Promise}
 */
export function getManagementOtherarea(id) {
  return request(`api/management/otherarea/${id}/`, {
    method: 'GET'
  })
}

/**
 * 创建新的其他区域（自动移除shape字段）
 * @param {Object} otherareaData - 其他区域数据（不含shape）
 * @returns {Promise}
 */
export function createManagementOtherarea(otherareaData) {
  // 确保不包含shape字段
  const data = { ...otherareaData }
  if ('shape' in data) {
    console.warn('Warning: shape字段将在management.create中被自动移除')
    delete data.shape
  }

  return request('api/management/otherarea/', {
    method: 'POST',
    body: data
  })
}

/**
 * 完整更新其他区域（不允许更新shape）
 * @param {number} id - 其他区域ID
 * @param {Object} otherareaData - 完整更新数据（不含shape）
 * @returns {Promise}
 */
export function updateManagementOtherarea(id, otherareaData) {
  // 检查是否包含shape字段，如果包含则拒绝
  if ('shape' in otherareaData) {
    return Promise.reject(new Error('Shape attribute cannot be updated in management module'))
  }

  return request(`api/management/otherarea/${id}/`, {
    method: 'PUT',
    body: otherareaData
  })
}

/**
 * 部分更新其他区域（不允许更新shape）
 * @param {number} id - 其他区域ID
 * @param {Object} otherareaData - 部分更新数据（不含shape）
 * @returns {Promise}
 */
export function partialUpdateManagementOtherarea(id, otherareaData) {
  // 检查是否包含shape字段，如果包含则拒绝
  if ('shape' in otherareaData) {
    return Promise.reject(new Error('Shape attribute cannot be updated in management module'))
  }

  return request(`api/management/otherarea/${id}/`, {
    method: 'PATCH',
    body: otherareaData
  })
}

/**
 * 删除指定其他区域
 * @param {number} id - 其他区域ID
 * @returns {Promise}
 */
export function deleteManagementOtherarea(id) {
  return request(`api/management/otherarea/${id}/`, {
    method: 'DELETE'
  })
}

// ---------- 活动（Event）管理 ----------

/**
 * 获取所有活动列表
 * @returns {Promise}
 */
export function listManagementEvents() {
  return request('api/management/event/', {
    method: 'GET'
  })
}

/**
 * 获取指定活动详情
 * @param {number} id - 活动ID
 * @returns {Promise}
 */
export function getManagementEvent(id) {
  return request(`api/management/event/${id}/`, {
    method: 'GET'
  })
}

/**
 * 创建新的活动
 * @param {Object} eventData - 活动数据
 * @returns {Promise}
 */
export function createManagementEvent(eventData) {
  return request('api/management/event/', {
    method: 'POST',
    body: eventData
  })
}

/**
 * 完整更新活动
 * @param {number} id - 活动ID
 * @param {Object} eventData - 完整更新数据
 * @returns {Promise}
 */
export function updateManagementEvent(id, eventData) {
  return request(`api/management/event/${id}/`, {
    method: 'PUT',
    body: eventData
  })
}

/**
 * 部分更新活动
 * @param {number} id - 活动ID
 * @param {Object} eventData - 部分更新数据
 * @returns {Promise}
 */
export function partialUpdateManagementEvent(id, eventData) {
  return request(`api/management/event/${id}/`, {
    method: 'PATCH',
    body: eventData
  })
}

/**
 * 删除指定活动
 * @param {number} id - 活动ID
 * @returns {Promise}
 */
export function deleteManagementEvent(id) {
  return request(`api/management/event/${id}/`, {
    method: 'DELETE'
  })
}

// ---------- 店铺区域（Storearea）管理 ----------

/**
 * 获取所有店铺区域列表
 * @returns {Promise}
 */
export function listManagementStoreareas() {
  return request('api/management/storearea/', {
    method: 'GET'
  })
}

/**
 * 获取指定店铺区域详情
 * @param {number} id - 店铺区域ID
 * @returns {Promise}
 */
export function getManagementStorearea(id) {
  return request(`api/management/storearea/${id}/`, {
    method: 'GET'
  })
}

/**
 * 创建新的店铺区域（自动移除shape字段）
 * @param {Object} storeareaData - 店铺区域数据（不含shape）
 * @returns {Promise}
 */
export function createManagementStorearea(storeareaData) {
  // 确保不包含shape字段
  const data = { ...storeareaData }
  if ('shape' in data) {
    console.warn('Warning: shape字段将在management.create中被自动移除')
    delete data.shape
  }

  return request('api/management/storearea/', {
    method: 'POST',
    body: data
  })
}

/**
 * 完整更新店铺区域（不允许更新shape）
 * @param {number} id - 店铺区域ID
 * @param {Object} storeareaData - 完整更新数据（不含shape）
 * @returns {Promise}
 */
export function updateManagementStorearea(id, storeareaData) {
  // 检查是否包含shape字段，如果包含则拒绝
  if ('shape' in storeareaData) {
    return Promise.reject(new Error('Shape attribute cannot be updated in management module'))
  }

  return request(`api/management/storearea/${id}/`, {
    method: 'PUT',
    body: storeareaData
  })
}

/**
 * 部分更新店铺区域（不允许更新shape）
 * @param {number} id - 店铺区域ID
 * @param {Object} storeareaData - 部分更新数据（不含shape）
 * @returns {Promise}
 */
export function partialUpdateManagementStorearea(id, storeareaData) {
  // 检查是否包含shape字段，如果包含则拒绝
  if ('shape' in storeareaData) {
    return Promise.reject(new Error('Shape attribute cannot be updated in management module'))
  }

  return request(`api/management/storearea/${id}/`, {
    method: 'PATCH',
    body: storeareaData
  })
}

/**
 * 删除指定店铺区域
 * @param {number} id - 店铺区域ID
 * @returns {Promise}
 */
export function deleteManagementStorearea(id) {
  return request(`api/management/storearea/${id}/`, {
    method: 'DELETE'
  })
}

// ---------- 设施（Facility）管理 ----------

/**
 * 获取所有设施列表
 * @returns {Promise}
 */
export function listManagementFacilities() {
  return request('api/management/facility/', {
    method: 'GET'
  })
}

/**
 * 获取指定设施详情
 * @param {number} id - 设施ID
 * @returns {Promise}
 */
export function getManagementFacility(id) {
  return request(`api/management/facility/${id}/`, {
    method: 'GET'
  })
}

/**
 * 创建新的设施（自动移除shape字段）
 * @param {Object} facilityData - 设施数据（不含shape）
 * @returns {Promise}
 */
export function createManagementFacility(facilityData) {
  // 确保不包含shape字段
  const data = { ...facilityData }
  if ('shape' in data) {
    console.warn('Warning: shape字段将在management.create中被自动移除')
    delete data.shape
  }

  return request('api/management/facility/', {
    method: 'POST',
    body: data
  })
}

/**
 * 完整更新设施（不允许更新shape）
 * @param {number} id - 设施ID
 * @param {Object} facilityData - 完整更新数据（不含shape）
 * @returns {Promise}
 */
export function updateManagementFacility(id, facilityData) {
  // 检查是否包含shape字段，如果包含则拒绝
  if ('shape' in facilityData) {
    return Promise.reject(new Error('Shape attribute cannot be updated in management module'))
  }

  return request(`api/management/facility/${id}/`, {
    method: 'PUT',
    body: facilityData
  })
}

/**
 * 部分更新设施（不允许更新shape）
 * @param {number} id - 设施ID
 * @param {Object} facilityData - 部分更新数据（不含shape）
 * @returns {Promise}
 */
export function partialUpdateManagementFacility(id, facilityData) {
  // 检查是否包含shape字段，如果包含则拒绝
  if ('shape' in facilityData) {
    return Promise.reject(new Error('Shape attribute cannot be updated in management module'))
  }

  return request(`api/management/facility/${id}/`, {
    method: 'PATCH',
    body: facilityData
  })
}

/**
 * 删除指定设施
 * @param {number} id - 设施ID
 * @returns {Promise}
 */
export function deleteManagementFacility(id) {
  return request(`api/management/facility/${id}/`, {
    method: 'DELETE'
  })
}

/**
 * 批量更新区域状态（启用/停用）
 * @param {Array<number>} ids - 区域ID数组
 * @param {boolean} isActive - 新的状态
 * @returns {Promise}
 */
export function batchUpdateAreaStatus(ids, isActive) {
  // 这里实现批量操作，可以调用相应的批量更新接口
  // 如果没有批量接口，可以依次调用单个更新接口
  const promises = ids.map(id =>
    partialUpdateManagementStorearea(id, { is_active: isActive })
      .catch(() => partialUpdateManagementEventarea(id, { is_active: isActive }))
      .catch(() => partialUpdateManagementOtherarea(id, { is_active: isActive }))
      .catch(() => partialUpdateManagementFacility(id, { is_active: isActive }))
  )

  return Promise.allSettled(promises)
}

/**
 * 根据区域类型和ID获取区域详情（通用方法）
 * @param {string} type - 区域类型：'storearea', 'eventarea', 'otherarea', 'event', 'facility'
 * @param {number} id - 区域ID
 * @returns {Promise}
 */
export function getAreaByTypeAndId(type, id) {
  const typeMap = {
    storearea: getManagementStorearea,
    eventarea: getManagementEventarea,
    otherarea: getManagementOtherarea,
    event: getManagementEvent,
    facility: getManagementFacility
  }

  const handler = typeMap[type]
  if (!handler) {
    return Promise.reject(new Error(`Unsupported area type: ${type}`))
  }

  return handler(id)
}

/**
 * 根据区域类型和ID更新区域（通用方法）
 * @param {string} type - 区域类型：'storearea', 'eventarea', 'otherarea', 'event', 'facility'
 * @param {number} id - 区域ID
 * @param {Object} data - 更新数据
 * @param {boolean} partial - 是否为部分更新，默认为true
 * @returns {Promise}
 */
export function updateAreaByTypeAndId(type, id, data, partial = true) {
  const typeMap = {
    storearea: partial ? partialUpdateManagementStorearea : updateManagementStorearea,
    eventarea: partial ? partialUpdateManagementEventarea : updateManagementEventarea,
    otherarea: partial ? partialUpdateManagementOtherarea : updateManagementOtherarea,
    event: partial ? partialUpdateManagementEvent : updateManagementEvent,
    facility: partial ? partialUpdateManagementFacility : updateManagementFacility
  }

  const handler = typeMap[type]
  if (!handler) {
    return Promise.reject(new Error(`Unsupported area type: ${type}`))
  }

  return handler(id, data)
}

// ---------- 默认导出 ----------

export default {
  // 管理员认证
  adminRegister,
  adminLogin,
  adminLogout,
  getAdminProfile,
  updateAdminProfile,

  // 活动区域管理
  listManagementEventareas,
  getManagementEventarea,
  createManagementEventarea,
  updateManagementEventarea,
  partialUpdateManagementEventarea,
  deleteManagementEventarea,

  // 其他区域管理
  listManagementOtherareas,
  getManagementOtherarea,
  createManagementOtherarea,
  updateManagementOtherarea,
  partialUpdateManagementOtherarea,
  deleteManagementOtherarea,

  // 活动管理
  listManagementEvents,
  getManagementEvent,
  createManagementEvent,
  updateManagementEvent,
  partialUpdateManagementEvent,
  deleteManagementEvent,

  // 店铺区域管理
  listManagementStoreareas,
  getManagementStorearea,
  createManagementStorearea,
  updateManagementStorearea,
  partialUpdateManagementStorearea,
  deleteManagementStorearea,

  // 设施管理
  listManagementFacilities,
  getManagementFacility,
  createManagementFacility,
  updateManagementFacility,
  partialUpdateManagementFacility,
  deleteManagementFacility,

  // 批量操作和辅助函数
  batchUpdateAreaStatus,
  getAreaByTypeAndId,
  updateAreaByTypeAndId
}



================================================================================
文件路径: frontend\src\api\map.js
--------------------------------------------------------------------------------

import { request } from './index'

/**
 * 地图相关 API 封装
 * 后端接口见：/api/maps/ 与 /api/maps/validate/
 */

// 获取所有地图（楼层）列表
export function listMaps() {
  return request('api/maps/', { method: 'GET' })
}

// 获取单个地图详情（包含底图 geometry 和各类区域要素）
export function getMapById(id) {
  return request(`api/maps/${id}/`, { method: 'GET' })
}

// 校验某个几何图形是否与现有地图/区域冲突
// payload 示例：
// { geometry: <GeoJSON对象或字符串>, map_id: 1, type: 1, exclude_id: 10 }
export function validateGeometry(payload) {
  return request('api/maps/validate/', {
    method: 'POST',
    body: payload
  })
}




================================================================================
文件路径: frontend\src\api\search.js
--------------------------------------------------------------------------------

import { request } from './index'

// Storearea
export function getStoreareaById(id) {
  return request(`api/search/storearea/${id}/`, { method: 'GET' })
}

export function searchStoreareaByName(name) {
  const q = new URLSearchParams({ name }).toString()
  return request(`api/search/storearea/search/?${q}`, { method: 'GET' })
}

export function listStoreareaByType(type = '') {
  const q = new URLSearchParams({ type }).toString()
  return request(`api/search/storearea/list/?${q}`, { method: 'GET' })
}

export function getStoreareaEvents(id) {
  return request(`api/search/storearea/${id}/events/`, { method: 'GET' })
}

export function getStoreareaMapIds(id) {
  return request(`api/search/storearea/${id}/map/`, { method: 'GET' })
}

export function getStoreareaIdsByMapAndType(map_id = '', type = '') {
  const q = new URLSearchParams({ map_id, type }).toString()
  return request(`api/search/storearea/list/map/?${q}`, { method: 'GET' })
}

export function getAllStoreareaIdsByMap(map_id) {
  const q = new URLSearchParams({ map_id }).toString()
  return request(`api/search/storearea/list/all_by_map/?${q}`, { method: 'GET' })
}

// Event
export function getEventById(id) {
  return request(`api/search/event/${id}/`, { method: 'GET' })
}

export function searchEventByName(name) {
  const q = new URLSearchParams({ name }).toString()
  return request(`api/search/event/search/?${q}`, { method: 'GET' })
}

export function listEventByType(type = '') {
  const q = new URLSearchParams({ type }).toString()
  return request(`api/search/event/list/?${q}`, { method: 'GET' })
}

export function getEventAreas(event_id) {
  return request(`api/search/event/${event_id}/areas/`, { method: 'GET' })
}

// Eventarea
export function getEventareaById(id) {
  return request(`api/search/eventarea/${id}/`, { method: 'GET' })
}

export function getEventareaIdsByMapAndType(map_id = '', type = '') {
  const q = new URLSearchParams({ map_id, type }).toString()
  return request(`api/search/eventarea/list/ids_by_map_type/?${q}`, { method: 'GET' })
}

export function getEventareaMapIds(id) {
  return request(`api/search/eventarea/${id}/map/`, { method: 'GET' })
}

export function getAllEventareaIdsByMap(map_id) {
  const q = new URLSearchParams({ map_id }).toString()
  return request(`api/search/eventarea/list/all_by_map/?${q}`, { method: 'GET' })
}

// Facility
export function getFacilityById(id) {
  return request(`api/search/facility/${id}/`, { method: 'GET' })
}

export function getFacilityIdsByMapAndType(map_id = '', type = '') {
  const q = new URLSearchParams({ map_id, type }).toString()
  return request(`api/search/facility/list/ids_by_map_type/?${q}`, { method: 'GET' })
}

export function getFacilityMapIds(id) {
  return request(`api/search/facility/${id}/map/`, { method: 'GET' })
}

export function getAllFacilityIdsByMap(map_id) {
  const q = new URLSearchParams({ map_id }).toString()
  return request(`api/search/facility/list/all_by_map/?${q}`, { method: 'GET' })
}

// Otherarea
export function getOtherareaById(id) {
  return request(`api/search/otherarea/${id}/`, { method: 'GET' })
}

export function getOtherareaIdsByMapAndType(map_id = '', type = '') {
  const q = new URLSearchParams({ map_id, type }).toString()
  return request(`api/search/otherarea/list/ids_by_map_type/?${q}`, { method: 'GET' })
}

export function getOtherareaMapIds(id) {
  return request(`api/search/otherarea/${id}/map/`, { method: 'GET' })
}

export function getAllOtherareaIdsByMap(map_id) {
  const q = new URLSearchParams({ map_id }).toString()
  return request(`api/search/otherarea/list/all_by_map/?${q}`, { method: 'GET' })
}



================================================================================
文件路径: frontend\src\assets\base.css
--------------------------------------------------------------------------------

/* color palette from <https://github.com/vuejs/theme> */
:root {
  --vt-c-white: #ffffff;
  --vt-c-white-soft: #f8f8f8;
  --vt-c-white-mute: #f2f2f2;

  --vt-c-black: #181818;
  --vt-c-black-soft: #222222;
  --vt-c-black-mute: #282828;

  --vt-c-indigo: #2c3e50;

  --vt-c-divider-light-1: rgba(60, 60, 60, 0.29);
  --vt-c-divider-light-2: rgba(60, 60, 60, 0.12);
  --vt-c-divider-dark-1: rgba(84, 84, 84, 0.65);
  --vt-c-divider-dark-2: rgba(84, 84, 84, 0.48);

  --vt-c-text-light-1: var(--vt-c-indigo);
  --vt-c-text-light-2: rgba(60, 60, 60, 0.66);
  --vt-c-text-dark-1: var(--vt-c-white);
  --vt-c-text-dark-2: rgba(235, 235, 235, 0.64);
}

/* semantic color variables for this project */
:root {
  --color-background: var(--vt-c-white);
  --color-background-soft: var(--vt-c-white-soft);
  --color-background-mute: var(--vt-c-white-mute);

  --color-border: var(--vt-c-divider-light-2);
  --color-border-hover: var(--vt-c-divider-light-1);

  --color-heading: var(--vt-c-text-light-1);
  --color-text: var(--vt-c-text-light-1);

  --section-gap: 160px;
}

@media (prefers-color-scheme: dark) {
  :root {
    --color-background: var(--vt-c-black);
    --color-background-soft: var(--vt-c-black-soft);
    --color-background-mute: var(--vt-c-black-mute);

    --color-border: var(--vt-c-divider-dark-2);
    --color-border-hover: var(--vt-c-divider-dark-1);

    --color-heading: var(--vt-c-text-dark-1);
    --color-text: var(--vt-c-text-dark-2);
  }
}

*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  font-weight: normal;
}

body {
  min-height: 100vh;
  color: var(--color-text);
  background: var(--color-background);
  transition:
    color 0.5s,
    background-color 0.5s;
  line-height: 1.6;
  font-family:
    Inter,
    -apple-system,
    BlinkMacSystemFont,
    'Segoe UI',
    Roboto,
    Oxygen,
    Ubuntu,
    Cantarell,
    'Fira Sans',
    'Droid Sans',
    'Helvetica Neue',
    sans-serif;
  font-size: 15px;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}



================================================================================
文件路径: frontend\src\assets\main.css
--------------------------------------------------------------------------------

@import './base.css';

/* 让后台布局占满整个视口 */
#app {
  min-height: 100vh;
  width: 100%;
  margin: 0;
  padding: 0;
  font-weight: normal;
}

a,
.green {
  text-decoration: none;
  color: hsla(160, 100%, 37%, 1);
  transition: 0.4s;
  padding: 3px;
}

@media (hover: hover) {
  a:hover {
    background-color: hsla(160, 100%, 37%, 0.2);
  }
}

/* 移除示例项目中用于居中展示的响应式布局，交由各自页面控制 */



================================================================================
文件路径: frontend\src\components\HelloWorld.vue
--------------------------------------------------------------------------------

<script setup>
defineProps({
  msg: {
    type: String,
    required: true,
  },
})
</script>

<template>
  <div class="greetings">
    <h1 class="green">{{ msg }}</h1>
    <h3>
      You’ve successfully created a project with
      <a href="https://vite.dev/" target="_blank" rel="noopener">Vite</a> +
      <a href="https://vuejs.org/" target="_blank" rel="noopener">Vue 3</a>.
    </h3>
  </div>
</template>

<style scoped>
h1 {
  font-weight: 500;
  font-size: 2.6rem;
  position: relative;
  top: -10px;
}

h3 {
  font-size: 1.2rem;
}

.greetings h1,
.greetings h3 {
  text-align: center;
}

@media (min-width: 1024px) {
  .greetings h1,
  .greetings h3 {
    text-align: left;
  }
}
</style>



================================================================================
文件路径: frontend\src\components\TheWelcome.vue
--------------------------------------------------------------------------------

<script setup>
import WelcomeItem from './WelcomeItem.vue'
import DocumentationIcon from './icons/IconDocumentation.vue'
import ToolingIcon from './icons/IconTooling.vue'
import EcosystemIcon from './icons/IconEcosystem.vue'
import CommunityIcon from './icons/IconCommunity.vue'
import SupportIcon from './icons/IconSupport.vue'

const openReadmeInEditor = () => fetch('/__open-in-editor?file=README.md')
</script>

<template>
  <WelcomeItem>
    <template #icon>
      <DocumentationIcon />
    </template>
    <template #heading>Documentation</template>

    Vue’s
    <a href="https://vuejs.org/" target="_blank" rel="noopener">official documentation</a>
    provides you with all information you need to get started.
  </WelcomeItem>

  <WelcomeItem>
    <template #icon>
      <ToolingIcon />
    </template>
    <template #heading>Tooling</template>

    This project is served and bundled with
    <a href="https://vite.dev/guide/features.html" target="_blank" rel="noopener">Vite</a>. The
    recommended IDE setup is
    <a href="https://code.visualstudio.com/" target="_blank" rel="noopener">VSCode</a>
    +
    <a href="https://github.com/vuejs/language-tools" target="_blank" rel="noopener"
      >Vue - Official</a
    >. If you need to test your components and web pages, check out
    <a href="https://vitest.dev/" target="_blank" rel="noopener">Vitest</a>
    and
    <a href="https://www.cypress.io/" target="_blank" rel="noopener">Cypress</a>
    /
    <a href="https://playwright.dev/" target="_blank" rel="noopener">Playwright</a>.

    <br />

    More instructions are available in
    <a href="javascript:void(0)" @click="openReadmeInEditor"><code>README.md</code></a
    >.
  </WelcomeItem>

  <WelcomeItem>
    <template #icon>
      <EcosystemIcon />
    </template>
    <template #heading>Ecosystem</template>

    Get official tools and libraries for your project:
    <a href="https://pinia.vuejs.org/" target="_blank" rel="noopener">Pinia</a>,
    <a href="https://router.vuejs.org/" target="_blank" rel="noopener">Vue Router</a>,
    <a href="https://test-utils.vuejs.org/" target="_blank" rel="noopener">Vue Test Utils</a>, and
    <a href="https://github.com/vuejs/devtools" target="_blank" rel="noopener">Vue Dev Tools</a>. If
    you need more resources, we suggest paying
    <a href="https://github.com/vuejs/awesome-vue" target="_blank" rel="noopener">Awesome Vue</a>
    a visit.
  </WelcomeItem>

  <WelcomeItem>
    <template #icon>
      <CommunityIcon />
    </template>
    <template #heading>Community</template>

    Got stuck? Ask your question on
    <a href="https://chat.vuejs.org" target="_blank" rel="noopener">Vue Land</a>
    (our official Discord server), or
    <a href="https://stackoverflow.com/questions/tagged/vue.js" target="_blank" rel="noopener"
      >StackOverflow</a
    >. You should also follow the official
    <a href="https://bsky.app/profile/vuejs.org" target="_blank" rel="noopener">@vuejs.org</a>
    Bluesky account or the
    <a href="https://x.com/vuejs" target="_blank" rel="noopener">@vuejs</a>
    X account for latest news in the Vue world.
  </WelcomeItem>

  <WelcomeItem>
    <template #icon>
      <SupportIcon />
    </template>
    <template #heading>Support Vue</template>

    As an independent project, Vue relies on community backing for its sustainability. You can help
    us by
    <a href="https://vuejs.org/sponsor/" target="_blank" rel="noopener">becoming a sponsor</a>.
  </WelcomeItem>
</template>



================================================================================
文件路径: frontend\src\components\WelcomeItem.vue
--------------------------------------------------------------------------------

<template>
  <div class="item">
    <i>
      <slot name="icon"></slot>
    </i>
    <div class="details">
      <h3>
        <slot name="heading"></slot>
      </h3>
      <slot></slot>
    </div>
  </div>
</template>

<style scoped>
.item {
  margin-top: 2rem;
  display: flex;
  position: relative;
}

.details {
  flex: 1;
  margin-left: 1rem;
}

i {
  display: flex;
  place-items: center;
  place-content: center;
  width: 32px;
  height: 32px;

  color: var(--color-text);
}

h3 {
  font-size: 1.2rem;
  font-weight: 500;
  margin-bottom: 0.4rem;
  color: var(--color-heading);
}

@media (min-width: 1024px) {
  .item {
    margin-top: 0;
    padding: 0.4rem 0 1rem calc(var(--section-gap) / 2);
  }

  i {
    top: calc(50% - 25px);
    left: -26px;
    position: absolute;
    border: 1px solid var(--color-border);
    background: var(--color-background);
    border-radius: 8px;
    width: 50px;
    height: 50px;
  }

  .item:before {
    content: ' ';
    border-left: 1px solid var(--color-border);
    position: absolute;
    left: 0;
    bottom: calc(50% + 25px);
    height: calc(50% - 25px);
  }

  .item:after {
    content: ' ';
    border-left: 1px solid var(--color-border);
    position: absolute;
    left: 0;
    top: calc(50% + 25px);
    height: calc(50% - 25px);
  }

  .item:first-of-type:before {
    display: none;
  }

  .item:last-of-type:after {
    display: none;
  }
}
</style>



================================================================================
文件路径: frontend\src\components\icons\IconCommunity.vue
--------------------------------------------------------------------------------

<template>
  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor">
    <path
      d="M15 4a1 1 0 1 0 0 2V4zm0 11v-1a1 1 0 0 0-1 1h1zm0 4l-.707.707A1 1 0 0 0 16 19h-1zm-4-4l.707-.707A1 1 0 0 0 11 14v1zm-4.707-1.293a1 1 0 0 0-1.414 1.414l1.414-1.414zm-.707.707l-.707-.707.707.707zM9 11v-1a1 1 0 0 0-.707.293L9 11zm-4 0h1a1 1 0 0 0-1-1v1zm0 4H4a1 1 0 0 0 1.707.707L5 15zm10-9h2V4h-2v2zm2 0a1 1 0 0 1 1 1h2a3 3 0 0 0-3-3v2zm1 1v6h2V7h-2zm0 6a1 1 0 0 1-1 1v2a3 3 0 0 0 3-3h-2zm-1 1h-2v2h2v-2zm-3 1v4h2v-4h-2zm1.707 3.293l-4-4-1.414 1.414 4 4 1.414-1.414zM11 14H7v2h4v-2zm-4 0c-.276 0-.525-.111-.707-.293l-1.414 1.414C5.42 15.663 6.172 16 7 16v-2zm-.707 1.121l3.414-3.414-1.414-1.414-3.414 3.414 1.414 1.414zM9 12h4v-2H9v2zm4 0a3 3 0 0 0 3-3h-2a1 1 0 0 1-1 1v2zm3-3V3h-2v6h2zm0-6a3 3 0 0 0-3-3v2a1 1 0 0 1 1 1h2zm-3-3H3v2h10V0zM3 0a3 3 0 0 0-3 3h2a1 1 0 0 1 1-1V0zM0 3v6h2V3H0zm0 6a3 3 0 0 0 3 3v-2a1 1 0 0 1-1-1H0zm3 3h2v-2H3v2zm1-1v4h2v-4H4zm1.707 4.707l.586-.586-1.414-1.414-.586.586 1.414 1.414z"
    />
  </svg>
</template>



================================================================================
文件路径: frontend\src\components\icons\IconDocumentation.vue
--------------------------------------------------------------------------------

<template>
  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="17" fill="currentColor">
    <path
      d="M11 2.253a1 1 0 1 0-2 0h2zm-2 13a1 1 0 1 0 2 0H9zm.447-12.167a1 1 0 1 0 1.107-1.666L9.447 3.086zM1 2.253L.447 1.42A1 1 0 0 0 0 2.253h1zm0 13H0a1 1 0 0 0 1.553.833L1 15.253zm8.447.833a1 1 0 1 0 1.107-1.666l-1.107 1.666zm0-14.666a1 1 0 1 0 1.107 1.666L9.447 1.42zM19 2.253h1a1 1 0 0 0-.447-.833L19 2.253zm0 13l-.553.833A1 1 0 0 0 20 15.253h-1zm-9.553-.833a1 1 0 1 0 1.107 1.666L9.447 14.42zM9 2.253v13h2v-13H9zm1.553-.833C9.203.523 7.42 0 5.5 0v2c1.572 0 2.961.431 3.947 1.086l1.107-1.666zM5.5 0C3.58 0 1.797.523.447 1.42l1.107 1.666C2.539 2.431 3.928 2 5.5 2V0zM0 2.253v13h2v-13H0zm1.553 13.833C2.539 15.431 3.928 15 5.5 15v-2c-1.92 0-3.703.523-5.053 1.42l1.107 1.666zM5.5 15c1.572 0 2.961.431 3.947 1.086l1.107-1.666C9.203 13.523 7.42 13 5.5 13v2zm5.053-11.914C11.539 2.431 12.928 2 14.5 2V0c-1.92 0-3.703.523-5.053 1.42l1.107 1.666zM14.5 2c1.573 0 2.961.431 3.947 1.086l1.107-1.666C18.203.523 16.421 0 14.5 0v2zm3.5.253v13h2v-13h-2zm1.553 12.167C18.203 13.523 16.421 13 14.5 13v2c1.573 0 2.961.431 3.947 1.086l1.107-1.666zM14.5 13c-1.92 0-3.703.523-5.053 1.42l1.107 1.666C11.539 15.431 12.928 15 14.5 15v-2z"
    />
  </svg>
</template>



================================================================================
文件路径: frontend\src\components\icons\IconEcosystem.vue
--------------------------------------------------------------------------------

<template>
  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="20" fill="currentColor">
    <path
      d="M11.447 8.894a1 1 0 1 0-.894-1.789l.894 1.789zm-2.894-.789a1 1 0 1 0 .894 1.789l-.894-1.789zm0 1.789a1 1 0 1 0 .894-1.789l-.894 1.789zM7.447 7.106a1 1 0 1 0-.894 1.789l.894-1.789zM10 9a1 1 0 1 0-2 0h2zm-2 2.5a1 1 0 1 0 2 0H8zm9.447-5.606a1 1 0 1 0-.894-1.789l.894 1.789zm-2.894-.789a1 1 0 1 0 .894 1.789l-.894-1.789zm2 .789a1 1 0 1 0 .894-1.789l-.894 1.789zm-1.106-2.789a1 1 0 1 0-.894 1.789l.894-1.789zM18 5a1 1 0 1 0-2 0h2zm-2 2.5a1 1 0 1 0 2 0h-2zm-5.447-4.606a1 1 0 1 0 .894-1.789l-.894 1.789zM9 1l.447-.894a1 1 0 0 0-.894 0L9 1zm-2.447.106a1 1 0 1 0 .894 1.789l-.894-1.789zm-6 3a1 1 0 1 0 .894 1.789L.553 4.106zm2.894.789a1 1 0 1 0-.894-1.789l.894 1.789zm-2-.789a1 1 0 1 0-.894 1.789l.894-1.789zm1.106 2.789a1 1 0 1 0 .894-1.789l-.894 1.789zM2 5a1 1 0 1 0-2 0h2zM0 7.5a1 1 0 1 0 2 0H0zm8.553 12.394a1 1 0 1 0 .894-1.789l-.894 1.789zm-1.106-2.789a1 1 0 1 0-.894 1.789l.894-1.789zm1.106 1a1 1 0 1 0 .894 1.789l-.894-1.789zm2.894.789a1 1 0 1 0-.894-1.789l.894 1.789zM8 19a1 1 0 1 0 2 0H8zm2-2.5a1 1 0 1 0-2 0h2zm-7.447.394a1 1 0 1 0 .894-1.789l-.894 1.789zM1 15H0a1 1 0 0 0 .553.894L1 15zm1-2.5a1 1 0 1 0-2 0h2zm12.553 2.606a1 1 0 1 0 .894 1.789l-.894-1.789zM17 15l.447.894A1 1 0 0 0 18 15h-1zm1-2.5a1 1 0 1 0-2 0h2zm-7.447-5.394l-2 1 .894 1.789 2-1-.894-1.789zm-1.106 1l-2-1-.894 1.789 2 1 .894-1.789zM8 9v2.5h2V9H8zm8.553-4.894l-2 1 .894 1.789 2-1-.894-1.789zm.894 0l-2-1-.894 1.789 2 1 .894-1.789zM16 5v2.5h2V5h-2zm-4.553-3.894l-2-1-.894 1.789 2 1 .894-1.789zm-2.894-1l-2 1 .894 1.789 2-1L8.553.106zM1.447 5.894l2-1-.894-1.789-2 1 .894 1.789zm-.894 0l2 1 .894-1.789-2-1-.894 1.789zM0 5v2.5h2V5H0zm9.447 13.106l-2-1-.894 1.789 2 1 .894-1.789zm0 1.789l2-1-.894-1.789-2 1 .894 1.789zM10 19v-2.5H8V19h2zm-6.553-3.894l-2-1-.894 1.789 2 1 .894-1.789zM2 15v-2.5H0V15h2zm13.447 1.894l2-1-.894-1.789-2 1 .894 1.789zM18 15v-2.5h-2V15h2z"
    />
  </svg>
</template>



================================================================================
文件路径: frontend\src\components\icons\IconSupport.vue
--------------------------------------------------------------------------------

<template>
  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor">
    <path
      d="M10 3.22l-.61-.6a5.5 5.5 0 0 0-7.666.105 5.5 5.5 0 0 0-.114 7.665L10 18.78l8.39-8.4a5.5 5.5 0 0 0-.114-7.665 5.5 5.5 0 0 0-7.666-.105l-.61.61z"
    />
  </svg>
</template>



================================================================================
文件路径: frontend\src\components\icons\IconTooling.vue
--------------------------------------------------------------------------------

<!-- This icon is from <https://github.com/Templarian/MaterialDesign>, distributed under Apache 2.0 (https://www.apache.org/licenses/LICENSE-2.0) license-->
<template>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    aria-hidden="true"
    role="img"
    class="iconify iconify--mdi"
    width="24"
    height="24"
    preserveAspectRatio="xMidYMid meet"
    viewBox="0 0 24 24"
  >
    <path
      d="M20 18v-4h-3v1h-2v-1H9v1H7v-1H4v4h16M6.33 8l-1.74 4H7v-1h2v1h6v-1h2v1h2.41l-1.74-4H6.33M9 5v1h6V5H9m12.84 7.61c.1.22.16.48.16.8V18c0 .53-.21 1-.6 1.41c-.4.4-.85.59-1.4.59H4c-.55 0-1-.19-1.4-.59C2.21 19 2 18.53 2 18v-4.59c0-.32.06-.58.16-.8L4.5 7.22C4.84 6.41 5.45 6 6.33 6H7V5c0-.55.18-1 .57-1.41C7.96 3.2 8.44 3 9 3h6c.56 0 1.04.2 1.43.59c.39.41.57.86.57 1.41v1h.67c.88 0 1.49.41 1.83 1.22l2.34 5.39z"
      fill="currentColor"
    ></path>
  </svg>
</template>



================================================================================
文件路径: frontend\src\layout\index.vue
--------------------------------------------------------------------------------

<script setup>
import { ref, onMounted } from 'vue'
import { useRouter } from 'vue-router'
import Navbar from './components/Navbar.vue'
import Sidebar from './components/Sidebar.vue'
import AppMain from './components/AppMain.vue'

const router = useRouter()

const projectName = '广场区域管理系统'
const username = ref('')

onMounted(() => {
  username.value = localStorage.getItem('auth_user') || ''
})

function handleLogout() {
  localStorage.removeItem('auth_user')
  username.value = ''
  router.push({ name: 'Login' })
}
</script>

<template>
  <div class="layout-container">
    <Navbar :project-name="projectName" :username="username" @logout="handleLogout" />
    <div class="layout-body">
      <Sidebar class="layout-sidebar" />
      <AppMain class="layout-main" />
    </div>
  </div>
</template>

<style scoped>
.layout-container {
  display: flex;
  flex-direction: column;
  height: 100vh;
}

.layout-body {
  flex: 1;
  display: flex;
  overflow: hidden;
}

.layout-sidebar {
  width: 220px;
  border-right: 1px solid #e5e7eb;
  background-color: #f9fafb;
}

.layout-main {
  flex: 1;
  overflow: auto;
  background-color: #ffffff;
}
</style>





================================================================================
文件路径: frontend\src\layout\components\AppMain.vue
--------------------------------------------------------------------------------

<script setup>
import { RouterView } from 'vue-router'
</script>

<template>
  <main class="app-main">
    <RouterView />
  </main>
</template>

<style scoped>
.app-main {
  padding: 16px 20px;
}
</style>





================================================================================
文件路径: frontend\src\layout\components\Navbar.vue
--------------------------------------------------------------------------------

<script setup>
const props = defineProps({
  projectName: {
    type: String,
    default: ''
  },
  username: {
    type: String,
    default: ''
  }
})

const emit = defineEmits(['logout'])

function onLogoutClick() {
  emit('logout')
}
</script>

<template>
  <header class="navbar">
    <div class="navbar-left">
      <span class="navbar-title">{{ props.projectName }}</span>
    </div>
    <div class="navbar-right">
      <span class="navbar-username">当前用户：{{ props.username || '未登录' }}</span>
      <button class="navbar-btn" type="button" @click="onLogoutClick">
        退出登录
      </button>
    </div>
  </header>
</template>

<style scoped>
.navbar {
  height: 56px;
  padding: 0 20px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-bottom: 1px solid #e5e7eb;
  background-color: #111827;
  color: #f9fafb;
}

.navbar-title {
  font-size: 18px;
  font-weight: 600;
}

.navbar-right {
  display: flex;
  align-items: center;
  gap: 12px;
  font-size: 14px;
}

.navbar-username {
  opacity: 0.85;
}

.navbar-btn {
  padding: 6px 12px;
  border-radius: 4px;
  border: 1px solid #f97316;
  background-color: #f97316;
  color: #ffffff;
  cursor: pointer;
  font-size: 13px;
}

.navbar-btn:hover {
  background-color: #ea580c;
}
</style>





================================================================================
文件路径: frontend\src\layout\components\Sidebar.vue
--------------------------------------------------------------------------------

<script setup>
import { useRoute, useRouter } from 'vue-router'
import { computed } from 'vue'

const router = useRouter()
const route = useRoute()

const menus = [
  { path: '/map-editor', label: '地图编辑器' },
  { path: '/event-management', label: '活动管理' },
  { path: '/area-management', label: '区域管理' },
  { path: '/facility-management', label: '设施管理' }
]

const activePath = computed(() => route.path)

function handleClick(path) {
  if (path !== route.path) {
    router.push(path)
  }
}
</script>

<template>
  <aside class="sidebar">
    <nav class="sidebar-nav">
      <div
        v-for="item in menus"
        :key="item.path"
        class="sidebar-item"
        :class="{ 'sidebar-item--active': activePath === item.path }"
        @click="handleClick(item.path)"
      >
        <span>{{ item.label }}</span>
      </div>
    </nav>
  </aside>
</template>

<style scoped>
.sidebar {
  height: 100%;
  display: flex;
  flex-direction: column;
}

.sidebar-nav {
  padding: 12px 0;
}

.sidebar-item {
  padding: 10px 16px;
  cursor: pointer;
  font-size: 14px;
  color: #374151;
}

.sidebar-item:hover {
  background-color: #e5e7eb;
}

.sidebar-item--active {
  background-color: #111827;
  color: #f9fafb;
}
</style>





================================================================================
文件路径: frontend\src\router\index.js
--------------------------------------------------------------------------------

import { createRouter, createWebHistory } from 'vue-router'

// 懒加载页面视图
const LoginView = () => import('../views/login&register/Login.vue')
const Layout = () => import('../layout/index.vue')
const MapEditorView = () => import('../views/map-editor/index.vue')
const EventManagementView = () => import('../views/event-management/index.vue')
const AreaManagementView = () => import('../views/area-management/index.vue')
const FacilityManagementView = () => import('../views/facility-management/index.vue')

function isAuthenticated() {
  return !!localStorage.getItem('auth_user')
}

const router = createRouter({
  history: createWebHistory(import.meta.env.BASE_URL),
  routes: [
    {
      path: '/login',
      name: 'Login',
      component: LoginView
    },
    {
      path: '/',
      component: Layout,
      children: [
        {
          path: '',
          redirect: '/map-editor'
        },
        {
          path: '/map-editor',
          name: 'MapEditor',
          component: MapEditorView
        },
        {
          path: '/event-management',
          name: 'EventManagement',
          component: EventManagementView
        },
        {
          path: '/area-management',
          name: 'AreaManagement',
          component: AreaManagementView
        },
        {
          path: '/facility-management',
          name: 'FacilityManagement',
          component: FacilityManagementView
        }
      ]
    }
  ]
})

// 简单路由守卫：未登录只能访问 /login
router.beforeEach((to, from, next) => {
  if (to.name === 'Login') {
    if (isAuthenticated()) {
      next({ path: '/' })
    } else {
      next()
    }
    return
  }

  if (!isAuthenticated()) {
    next({ name: 'Login', query: { redirect: to.fullPath } })
  } else {
    next()
  }
})

export default router





================================================================================
文件路径: frontend\src\views\area-management\index.vue
--------------------------------------------------------------------------------

<!-- views/area-management/index.vue -->
<template>
  <div class="area-management">
    <div class="header">
      <h1 class="title">区域管理</h1>
      <div class="actions">
        <button class="btn btn-primary" @click="handleCreate">
          <span class="btn-icon">+</span> 新建区域
        </button>
      </div>
    </div>

    <!-- 筛选区域 -->
    <div class="filter-card">
      <div class="filter-row">
        <div class="filter-group">
          <label class="filter-label">区域类型</label>
          <select v-model="filters.type" class="filter-select" @change="handleFilterChange">
            <option value="">全部类型</option>
            <option value="storearea">店铺区域</option>
            <option value="eventarea">活动区域</option>
            <option value="otherarea">其他区域</option>
            <option value="event">活动</option>
          </select>
        </div>

        <div class="filter-group">
          <label class="filter-label">地图楼层</label>
          <select v-model="filters.map_id" class="filter-select" @change="handleFilterChange">
            <option value="">全部楼层</option>
            <option v-for="map in mapList" :key="map.id" :value="map.id">
              楼层 {{ map.floor_number }}
            </option>
          </select>
        </div>

        <div class="filter-group">
          <label class="filter-label">搜索名称</label>
          <div class="search-input-wrapper">
            <input
              v-model="filters.name"
              type="text"
              class="search-input"
              placeholder="输入区域名称..."
              @input="debounceSearch"
            >
            <span class="search-icon">🔍</span>
          </div>
        </div>
      </div>

      <div class="filter-row">
        <div class="filter-group">
          <label class="filter-label">状态筛选</label>
          <div class="status-buttons">
            <button
              :class="['status-btn', { active: filters.status === '' }]"
              @click="setStatus('')"
            >
              全部
            </button>
            <button
              :class="['status-btn', { active: filters.status === 'active' }]"
              @click="setStatus('active')"
            >
              启用
            </button>
            <button
              :class="['status-btn', { active: filters.status === 'inactive' }]"
              @click="setStatus('inactive')"
            >
              停用
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- 数据表格 -->
    <div class="table-container">
      <div class="table-header">
        <div class="table-row header-row">
          <div class="table-cell" style="flex: 0.5;">ID</div>
          <div class="table-cell" style="flex: 1.5;">名称</div>
          <div class="table-cell" style="flex: 1;">类型</div>
          <div class="table-cell" style="flex: 1;">地图楼层</div>
          <div class="table-cell" style="flex: 0.8;">状态</div>
          <div class="table-cell" style="flex: 1.5;">创建时间</div>
          <div class="table-cell" style="flex: 1.2;">操作</div>
        </div>
      </div>

      <div class="table-body">
        <div v-if="loading" class="loading-container">
          <div class="loading-spinner"></div>
          <span>加载中...</span>
        </div>

        <div v-else-if="areas.length === 0" class="empty-state">
          <span class="empty-icon">📋</span>
          <p>暂无区域数据</p>
        </div>

        <div v-else>
          <div
            v-for="area in paginatedAreas"
            :key="`${area.type}-${area.id}`"
            class="table-row data-row"
          >
            <div class="table-cell" style="flex: 0.5;">{{ area.id }}</div>
            <div class="table-cell" style="flex: 1.5;">
              <span class="area-name">{{ area.name || (area.store_name || area.event_name) || '未命名' }}</span>
            </div>
            <div class="table-cell" style="flex: 1;">
              <span :class="['type-badge', getTypeClass(area.type)]">
                {{ getTypeLabel(area) }}
              </span>
            </div>
            <div class="table-cell" style="flex: 1;">
              <span v-if="area.map_id" class="map-info">
                楼层 {{ getMapFloor(area.map_id) }}
              </span>
              <span v-else class="text-muted">未分配</span>
            </div>
            <div class="table-cell" style="flex: 0.8;">
              <span :class="['status-badge', area.is_active ? 'active' : 'inactive']">
                {{ area.is_active ? '启用' : '停用' }}
              </span>
            </div>
            <div class="table-cell" style="flex: 1.5;">
              {{ formatDate(area.created_at) }}
            </div>
            <div class="table-cell actions-cell" style="flex: 1.2;">
              <button class="action-btn edit-btn" @click="handleEdit(area)">
                编辑
              </button>
              <button class="action-btn view-btn" @click="handleViewOnMap(area)">
                查看
              </button>
              <button
                :class="['action-btn', area.is_active ? 'deactivate-btn' : 'activate-btn']"
                @click="toggleStatus(area)"
              >
                {{ area.is_active ? '停用' : '启用' }}
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- 分页 -->
    <div v-if="areas.length > 0" class="pagination">
      <div class="pagination-info">
        显示 {{ (currentPage - 1) * pageSize + 1 }} -
        {{ Math.min(currentPage * pageSize, areas.length) }} 条，共 {{ areas.length }} 条
      </div>
      <div class="pagination-controls">
        <button
          :disabled="currentPage === 1"
          @click="currentPage--"
          class="pagination-btn"
        >
          上一页
        </button>
        <span class="pagination-current">{{ currentPage }} / {{ totalPages }}</span>
        <button
          :disabled="currentPage === totalPages"
          @click="currentPage++"
          class="pagination-btn"
        >
          下一页
        </button>
      </div>
    </div>

    <!-- 编辑/创建弹窗 -->
    <div v-if="showModal" class="modal-overlay" @click="closeModal">
      <div class="modal-content" @click.stop>
        <div class="modal-header">
          <h3 class="modal-title">{{ isEditing ? '编辑区域' : '创建区域' }}</h3>
          <button class="modal-close" @click="closeModal">×</button>
        </div>
        <div class="modal-body">
          <form @submit.prevent="handleSubmit">
            <div v-if="errorMessage" class="error-message">
              {{ errorMessage }}
            </div>

            <div class="form-group">
              <label class="form-label">区域类型</label>
              <select
                v-model="formData.type"
                class="form-select"
                :disabled="isEditing"
                required
                @change="onTypeChange"
              >
                <option value="storearea">店铺区域</option>
                <option value="eventarea">活动区域</option>
                <option value="otherarea">其他区域</option>
                <option value="event">活动</option>
              </select>
            </div>

            <div class="form-group">
              <label class="form-label">{{ getFormLabel('名称') }}</label>
              <input
                v-model="formData.name"
                type="text"
                class="form-input"
                :placeholder="`请输入${getFormLabel('名称')}`"
                required
              >
            </div>

            <div v-if="formData.type === 'storearea'" class="form-group">
              <label class="form-label">店铺类型</label>
              <select v-model="formData.store_type" class="form-select">
                <option value="0">普通店铺</option>
                <option value="1">餐饮</option>
                <option value="2">服饰</option>
                <option value="3">娱乐</option>
                <option value="4">服务</option>
              </select>
            </div>

            <div v-if="formData.type === 'otherarea'" class="form-group">
              <label class="form-label">其他区域类型</label>
              <select v-model="formData.type_id" class="form-select">
                <option value="0">公共区域</option>
                <option value="1">办公区域</option>
                <option value="2">设备区域</option>
                <option value="3">其他</option>
              </select>
            </div>

            <div v-if="formData.type === 'eventarea'" class="form-group">
              <label class="form-label">活动区域类型</label>
              <select v-model="formData.event_type" class="form-select">
                <option value="0">普通活动区域</option>
                <option value="1">促销活动</option>
                <option value="2">展览活动</option>
                <option value="3">表演活动</option>
              </select>
            </div>

            <div v-if="formData.type === 'event'" class="form-group">
              <label class="form-label">活动类型</label>
              <select v-model="formData.event_type" class="form-select">
                <option value="0">普通活动</option>
                <option value="1">促销活动</option>
                <option value="2">展览活动</option>
                <option value="3">表演活动</option>
              </select>
            </div>

            <div v-if="formData.type !== 'event'" class="form-group">
              <label class="form-label">所属地图</label>
              <select v-model="formData.map_id" class="form-select" required>
                <option value="">请选择地图楼层</option>
                <option v-for="map in mapList" :key="map.id" :value="map.id">
                  楼层 {{ map.floor_number }}
                </option>
              </select>
            </div>

            <div class="form-group">
              <label class="form-label">描述</label>
              <textarea
                v-model="formData.description"
                class="form-textarea"
                rows="3"
                :placeholder="`请输入${getFormLabel('描述')}`"
              ></textarea>
            </div>

            <div class="form-group">
              <label class="form-label">状态</label>
              <div class="toggle-switch">
                <input
                  v-model="formData.is_active"
                  type="checkbox"
                  id="status-toggle"
                  class="toggle-input"
                >
                <label for="status-toggle" class="toggle-label">
                  <span class="toggle-slider"></span>
                  <span class="toggle-text">{{ formData.is_active ? '启用' : '停用' }}</span>
                </label>
              </div>
            </div>

            <div v-if="formData.type === 'storearea'" class="form-group">
              <label class="form-label">Logo URL</label>
              <input
                v-model="formData.logo_url"
                type="text"
                class="form-input"
                placeholder="请输入Logo URL"
              >
            </div>

            <div v-if="formData.type === 'event'" class="form-group">
              <label class="form-label">开始时间</label>
              <input
                v-model="formData.start_time"
                type="datetime-local"
                class="form-input"
                placeholder="请选择开始时间"
              >
            </div>

            <div v-if="formData.type === 'event'" class="form-group">
              <label class="form-label">结束时间</label>
              <input
                v-model="formData.end_time"
                type="datetime-local"
                class="form-input"
                placeholder="请选择结束时间"
              >
            </div>

            <div class="form-actions">
              <button type="button" class="btn btn-secondary" @click="closeModal" :disabled="submitting">
                取消
              </button>
              <button type="submit" class="btn btn-primary" :disabled="submitting">
                <span v-if="submitting" class="btn-spinner"></span>
                {{ isEditing ? '保存更改' : '创建区域' }}
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref, computed, onMounted } from 'vue'
import { useRouter } from 'vue-router'
import { listMaps } from '../../api/map'
import * as managementAPI from '../../api/management'
import * as searchAPI from '../../api/search'

const router = useRouter()

// 数据状态
const areas = ref([])
const mapList = ref([])
const loading = ref(true)
const errorMessage = ref('')
const submitting = ref(false)

// 筛选条件
const filters = ref({
  type: '',
  map_id: '',
  name: '',
  status: ''
})

// 分页
const currentPage = ref(1)
const pageSize = ref(10)

// 弹窗状态
const showModal = ref(false)
const isEditing = ref(false)
const formData = ref({
  id: null,
  type: 'storearea',
  name: '',
  map_id: '',
  store_type: '0',
  type_id: '0', // 用于otherarea
  event_type: '0', // 用于eventarea和event
  description: '',
  is_active: true,
  logo_url: '',
  start_time: '',
  end_time: ''
})

// 计算属性
const filteredAreas = computed(() => {
  return areas.value.filter(area => {
    // 按类型筛选
    if (filters.value.type && area.type !== filters.value.type) return false

    // 按地图筛选
    if (filters.value.map_id && area.map_id !== parseInt(filters.value.map_id)) return false

    // 按名称搜索
    if (filters.value.name) {
      const name = area.name || area.store_name || area.event_name || ''
      if (!name.toLowerCase().includes(filters.value.name.toLowerCase())) return false
    }

    // 按状态筛选
    if (filters.value.status === 'active' && !area.is_active) return false
    if (filters.value.status === 'inactive' && area.is_active) return false

    return true
  })
})

const paginatedAreas = computed(() => {
  const start = (currentPage.value - 1) * pageSize.value
  const end = start + pageSize.value
  return filteredAreas.value.slice(start, end)
})

const totalPages = computed(() => {
  return Math.ceil(filteredAreas.value.length / pageSize.value)
})

// 方法
const loadData = async () => {
  loading.value = true
  errorMessage.value = ''

  try {
    // 1. 加载地图列表
    if (mapList.value.length === 0) {
      const mapsResponse = await listMaps()
      mapList.value = mapsResponse.data || mapsResponse
    }

    // 2. 根据筛选条件加载区域数据
    let data = []

    if (filters.value.type) {
      // 按类型加载
      data = await loadByType(filters.value.type)
    } else {
      // 加载所有类型
      const [stores, events, eventareas, others] = await Promise.all([
        loadStoreareas(),
        loadEvents(),
        loadEventareas(),
        loadOtherareas()
      ])
      data = [...stores, ...events, ...eventareas, ...others]
    }

    areas.value = data

  } catch (error) {
    console.error('加载数据失败:', error)
    errorMessage.value = `加载数据失败: ${error.message || '未知错误'}`
  } finally {
    loading.value = false
  }
}

const loadStoreareas = async () => {
  try {
    const response = await managementAPI.listManagementStoreareas()
    const storeareas = response.data || response
    return storeareas.map(item => ({ ...item, type: 'storearea' }))
  } catch (error) {
    console.error('加载店铺区域失败:', error)
    return []
  }
}

const loadEvents = async () => {
  try {
    const response = await managementAPI.listManagementEvents()
    const events = response.data || response
    return events.map(item => ({ ...item, type: 'event' }))
  } catch (error) {
    console.error('加载活动失败:', error)
    return []
  }
}

const loadEventareas = async () => {
  try {
    const response = await managementAPI.listManagementEventareas()
    const eventareas = response.data || response
    return eventareas.map(item => ({ ...item, type: 'eventarea' }))
  } catch (error) {
    console.error('加载活动区域失败:', error)
    return []
  }
}

const loadOtherareas = async () => {
  try {
    const response = await managementAPI.listManagementOtherareas()
    const otherareas = response.data || response
    return otherareas.map(item => ({ ...item, type: 'otherarea' }))
  } catch (error) {
    console.error('加载其他区域失败:', error)
    return []
  }
}

const loadByType = async (type) => {
  switch (type) {
    case 'storearea':
      return await loadStoreareas()
    case 'event':
      return await loadEvents()
    case 'eventarea':
      return await loadEventareas()
    case 'otherarea':
      return await loadOtherareas()
    default:
      return []
  }
}

const handleFilterChange = () => {
  currentPage.value = 1
  loadData()
}

const setStatus = (status) => {
  filters.value.status = status
  handleFilterChange()
}

const debounceSearch = () => {
  clearTimeout(debounceSearch.timer)
  debounceSearch.timer = setTimeout(handleFilterChange, 500)
}

const getTypeLabel = (area) => {
  const typeMap = {
    storearea: '店铺区域',
    eventarea: '活动区域',
    otherarea: '其他区域',
    event: '活动'
  }
  return typeMap[area.type] || area.type
}

const getTypeClass = (type) => {
  return type || 'storearea'
}

const getFormLabel = (field) => {
  const typeLabels = {
    storearea: { 名称: '店铺名称', 描述: '店铺描述' },
    eventarea: { 名称: '活动区域名称', 描述: '活动区域描述' },
    otherarea: { 名称: '其他区域名称', 描述: '其他区域描述' },
    event: { 名称: '活动名称', 描述: '活动描述' }
  }
  return typeLabels[formData.value.type]?.[field] || field
}

const onTypeChange = () => {
  // 重置表单字段
  formData.value = {
    id: null,
    type: formData.value.type,
    name: '',
    map_id: '',
    store_type: '0',
    type_id: '0',
    event_type: '0',
    description: '',
    is_active: true,
    logo_url: '',
    start_time: '',
    end_time: ''
  }
}

const getMapFloor = (mapId) => {
  const map = mapList.value.find(m => m.id === mapId)
  return map ? map.floor_number : '未知'
}

const formatDate = (dateString) => {
  if (!dateString) return '-'
  const date = new Date(dateString)
  return date.toLocaleDateString('zh-CN') + ' ' + date.toLocaleTimeString('zh-CN', { hour: '2-digit', minute: '2-digit' })
}

const handleCreate = () => {
  isEditing.value = false
  formData.value = {
    id: null,
    type: 'storearea',
    name: '',
    map_id: '',
    store_type: '0',
    type_id: '0',
    event_type: '0',
    description: '',
    is_active: true,
    logo_url: '',
    start_time: '',
    end_time: ''
  }
  errorMessage.value = ''
  showModal.value = true
}

const handleEdit = async (area) => {
  isEditing.value = true
  errorMessage.value = ''

  try {
    // 根据类型获取完整详情
    const response = await managementAPI.getAreaByTypeAndId(area.type, area.id)
    const areaData = response.data || response

    // 转换数据格式
    formData.value = {
      id: areaData.id,
      type: area.type,
      name: areaData.name || areaData.store_name || areaData.event_name || '',
      map_id: areaData.map_id || '',
      store_type: areaData.store_type?.toString() || '0',
      type_id: areaData.type_id?.toString() || '0',
      event_type: areaData.event_type?.toString() || '0',
      description: areaData.description || '',
      is_active: areaData.is_active !== undefined ? areaData.is_active : true,
      logo_url: areaData.logo_url || '',
      start_time: areaData.start_time || '',
      end_time: areaData.end_time || ''
    }

    showModal.value = true
  } catch (error) {
    console.error('获取详情失败:', error)
    errorMessage.value = `获取详情失败: ${error.message || '未知错误'}`
  }
}

const handleSubmit = async () => {
  errorMessage.value = ''
  submitting.value = true

  try {
    // 准备提交数据
    const submitData = { ...formData.value }

    // 移除前端添加的type字段（后端不需要）
    delete submitData.type

    // 根据不同类型设置正确的字段名
    if (formData.value.type === 'storearea') {
      submitData.store_name = submitData.name
      delete submitData.name
      submitData.store_type = parseInt(submitData.store_type)
    } else if (formData.value.type === 'event') {
      submitData.event_name = submitData.name
      delete submitData.name
      submitData.event_type = parseInt(submitData.event_type)
    } else if (formData.value.type === 'eventarea') {
      submitData.eventarea_type = parseInt(submitData.event_type)
      delete submitData.event_type
    } else if (formData.value.type === 'otherarea') {
      submitData.type = parseInt(submitData.type_id)
      delete submitData.type_id
    }

    if (isEditing.value) {
      // 更新数据
      await managementAPI.updateAreaByTypeAndId(formData.value.type, formData.value.id, submitData)
    } else {
      // 创建数据
      let response
      switch (formData.value.type) {
        case 'storearea':
          response = await managementAPI.createManagementStorearea(submitData)
          break
        case 'event':
          response = await managementAPI.createManagementEvent(submitData)
          break
        case 'eventarea':
          response = await managementAPI.createManagementEventarea(submitData)
          break
        case 'otherarea':
          response = await managementAPI.createManagementOtherarea(submitData)
          break
      }

      // 如果创建成功且需要创建对应的几何图形（在editor模块），可以在这里处理
      if (response && response.id && formData.value.type !== 'event') {
        // 可以提示用户需要在地图编辑器中创建几何图形
        console.log(`成功创建${getTypeLabel({ type: formData.value.type })}，ID: ${response.id}`)
      }
    }

    closeModal()
    loadData()
  } catch (error) {
    console.error('保存失败:', error)
    errorMessage.value = `保存失败: ${error.response?.data?.error || error.message || '未知错误'}`
  } finally {
    submitting.value = false
  }
}

const toggleStatus = async (area) => {
  try {
    const newStatus = !area.is_active
    await managementAPI.updateAreaByTypeAndId(area.type, area.id, { is_active: newStatus })
    area.is_active = newStatus
  } catch (error) {
    console.error('状态更新失败:', error)
    errorMessage.value = `状态更新失败: ${error.response?.data?.error || error.message || '未知错误'}`
  }
}

const handleViewOnMap = (area) => {
  if (area.type !== 'event') {
    // 跳转到地图编辑器并定位到该区域
    router.push({
      path: '/map-editor',
      query: { mapId: area.map_id, highlight: area.id, type: area.type }
    })
  } else {
    // 对于活动类型，可能没有地图关联
    alert('活动类型没有直接的地图关联，请查看活动详情')
  }
}

const closeModal = () => {
  if (!submitting.value) {
    showModal.value = false
    errorMessage.value = ''
  }
}

// 生命周期
onMounted(() => {
  loadData()
})
</script>

<style scoped>
.area-management {
  padding: 20px;
  background-color: #111827;
  min-height: 100vh;
  color: #f9fafb;
}

.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 24px;
}

.title {
  font-size: 24px;
  font-weight: 600;
  color: #f9fafb;
}

.actions {
  display: flex;
  gap: 12px;
}

.btn {
  padding: 8px 16px;
  border-radius: 4px;
  border: none;
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
  display: flex;
  align-items: center;
  gap: 6px;
  transition: background-color 0.2s;
  position: relative;
}

.btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.btn-primary {
  background-color: #f97316;
  color: #ffffff;
}

.btn-primary:hover:not(:disabled) {
  background-color: #ea580c;
}

.btn-secondary {
  background-color: #374151;
  color: #d1d5db;
}

.btn-secondary:hover:not(:disabled) {
  background-color: #4b5563;
}

.btn-spinner {
  display: inline-block;
  width: 16px;
  height: 16px;
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  border-top-color: #ffffff;
  animation: spin 1s ease-in-out infinite;
  margin-right: 8px;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

.filter-card {
  background-color: #1f2937;
  border-radius: 8px;
  padding: 20px;
  margin-bottom: 24px;
  border: 1px solid #374151;
}

.filter-row {
  display: flex;
  gap: 20px;
  margin-bottom: 16px;
  flex-wrap: wrap;
}

.filter-group {
  flex: 1;
  min-width: 200px;
}

.filter-label {
  display: block;
  margin-bottom: 8px;
  font-size: 14px;
  color: #9ca3af;
}

.filter-select {
  width: 100%;
  padding: 8px 12px;
  border-radius: 4px;
  border: 1px solid #374151;
  background-color: #111827;
  color: #f9fafb;
  font-size: 14px;
}

.search-input-wrapper {
  position: relative;
}

.search-input {
  width: 100%;
  padding: 8px 12px 8px 36px;
  border-radius: 4px;
  border: 1px solid #374151;
  background-color: #111827;
  color: #f9fafb;
  font-size: 14px;
}

.search-icon {
  position: absolute;
  left: 12px;
  top: 50%;
  transform: translateY(-50%);
  color: #9ca3af;
}

.status-buttons {
  display: flex;
  gap: 8px;
}

.status-btn {
  padding: 6px 12px;
  border-radius: 4px;
  border: 1px solid #374151;
  background-color: #111827;
  color: #d1d5db;
  cursor: pointer;
  font-size: 13px;
  transition: all 0.2s;
}

.status-btn.active {
  background-color: #f97316;
  border-color: #f97316;
  color: #ffffff;
}

.status-btn:hover:not(.active) {
  background-color: #374151;
}

.table-container {
  background-color: #1f2937;
  border-radius: 8px;
  border: 1px solid #374151;
  overflow: hidden;
}

.table-header {
  background-color: #374151;
}

.table-row {
  display: flex;
  padding: 16px 20px;
  border-bottom: 1px solid #374151;
}

.header-row {
  font-weight: 600;
  color: #d1d5db;
  background-color: #374151;
}

.table-cell {
  padding: 0 8px;
  display: flex;
  align-items: center;
}

.data-row:hover {
  background-color: #2d3748;
}

.area-name {
  font-weight: 500;
}

.type-badge {
  display: inline-block;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 12px;
  font-weight: 500;
}

.type-badge.storearea {
  background-color: #3b82f6;
  color: #ffffff;
}

.type-badge.eventarea {
  background-color: #8b5cf6;
  color: #ffffff;
}

.type-badge.otherarea {
  background-color: #10b981;
  color: #ffffff;
}

.type-badge.event {
  background-color: #f59e0b;
  color: #ffffff;
}

.map-info {
  color: #60a5fa;
}

.text-muted {
  color: #9ca3af;
}

.status-badge {
  display: inline-block;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 12px;
  font-weight: 500;
}

.status-badge.active {
  background-color: #10b98120;
  color: #10b981;
}

.status-badge.inactive {
  background-color: #ef444420;
  color: #ef4444;
}

.actions-cell {
  display: flex;
  gap: 8px;
}

.action-btn {
  padding: 4px 8px;
  border-radius: 4px;
  border: none;
  cursor: pointer;
  font-size: 12px;
  font-weight: 500;
  transition: background-color 0.2s;
}

.edit-btn {
  background-color: #3b82f6;
  color: #ffffff;
}

.edit-btn:hover {
  background-color: #2563eb;
}

.view-btn {
  background-color: #8b5cf6;
  color: #ffffff;
}

.view-btn:hover {
  background-color: #7c3aed;
}

.activate-btn {
  background-color: #10b981;
  color: #ffffff;
}

.activate-btn:hover {
  background-color: #059669;
}

.deactivate-btn {
  background-color: #ef4444;
  color: #ffffff;
}

.deactivate-btn:hover {
  background-color: #dc2626;
}

.loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 40px;
  color: #9ca3af;
}

.loading-spinner {
  width: 40px;
  height: 40px;
  border: 3px solid #374151;
  border-top-color: #f97316;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin-bottom: 16px;
}

.empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 60px;
  color: #9ca3af;
}

.empty-icon {
  font-size: 48px;
  margin-bottom: 16px;
}

.pagination {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 24px;
  padding: 16px 0;
}

.pagination-info {
  color: #9ca3af;
  font-size: 14px;
}

.pagination-controls {
  display: flex;
  align-items: center;
  gap: 12px;
}

.pagination-btn {
  padding: 6px 12px;
  border-radius: 4px;
  border: 1px solid #374151;
  background-color: #1f2937;
  color: #d1d5db;
  cursor: pointer;
  font-size: 13px;
}

.pagination-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.pagination-btn:not(:disabled):hover {
  background-color: #374151;
}

.pagination-current {
  color: #d1d5db;
  font-size: 14px;
}

/* 弹窗样式 */
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
}

.modal-content {
  background-color: #1f2937;
  border-radius: 8px;
  width: 500px;
  max-width: 90vw;
  max-height: 90vh;
  overflow-y: auto;
  border: 1px solid #374151;
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px;
  border-bottom: 1px solid #374151;
}

.modal-title {
  font-size: 18px;
  font-weight: 600;
  color: #f9fafb;
}

.modal-close {
  background: none;
  border: none;
  color: #9ca3af;
  font-size: 24px;
  cursor: pointer;
  line-height: 1;
}

.modal-close:hover {
  color: #f9fafb;
}

.modal-body {
  padding: 20px;
}

.error-message {
  background-color: #ef444420;
  color: #ef4444;
  padding: 12px;
  border-radius: 4px;
  margin-bottom: 20px;
  font-size: 14px;
}

.form-group {
  margin-bottom: 20px;
}

.form-label {
  display: block;
  margin-bottom: 8px;
  color: #d1d5db;
  font-size: 14px;
}

.form-input,
.form-select,
.form-textarea {
  width: 100%;
  padding: 8px 12px;
  border-radius: 4px;
  border: 1px solid #374151;
  background-color: #111827;
  color: #f9fafb;
  font-size: 14px;
}

.form-input:focus,
.form-select:focus,
.form-textarea:focus {
  outline: none;
  border-color: #f97316;
}

.form-textarea {
  resize: vertical;
}

.toggle-switch {
  display: flex;
  align-items: center;
}

.toggle-input {
  display: none;
}

.toggle-label {
  display: flex;
  align-items: center;
  cursor: pointer;
  gap: 8px;
}

.toggle-slider {
  width: 44px;
  height: 24px;
  background-color: #374151;
  border-radius: 12px;
  position: relative;
  transition: background-color 0.2s;
}

.toggle-slider::before {
  content: '';
  position: absolute;
  width: 20px;
  height: 20px;
  background-color: #f9fafb;
  border-radius: 50%;
  top: 2px;
  left: 2px;
  transition: transform 0.2s;
}

.toggle-input:checked + .toggle-label .toggle-slider {
  background-color: #f97316;
}

.toggle-input:checked + .toggle-label .toggle-slider::before {
  transform: translateX(20px);
}

.toggle-text {
  color: #d1d5db;
  font-size: 14px;
}

.form-actions {
  display: flex;
  justify-content: flex-end;
  gap: 12px;
  margin-top: 24px;
  padding-top: 20px;
  border-top: 1px solid #374151;
}
</style>



================================================================================
文件路径: frontend\src\views\event-management\index.vue
--------------------------------------------------------------------------------

<!-- views/event-management/index.vue -->
<template>
  <div class="event-management">
    <div class="header">
      <h1 class="title">活动管理</h1>
      <div class="actions">
        <button class="btn btn-primary" @click="handleCreate">
          <span class="btn-icon">+</span> 新建活动
        </button>
      </div>
    </div>

    <!-- 筛选区域 -->
    <div class="filter-card">
      <div class="filter-row">
        <div class="filter-group">
          <label class="filter-label">活动类型</label>
          <select v-model="filters.type" class="filter-select" @change="handleFilterChange">
            <option value="">全部类型</option>
            <option v-for="type in eventTypes" :key="type.value" :value="type.value">
              {{ type.label }}
            </option>
          </select>
        </div>

        <div class="filter-group">
          <label class="filter-label">状态筛选</label>
          <select v-model="filters.status" class="filter-select" @change="handleFilterChange">
            <option value="">全部状态</option>
            <option value="active">进行中</option>
            <option value="upcoming">即将开始</option>
            <option value="ended">已结束</option>
            <option value="inactive">已停用</option>
          </select>
        </div>

        <div class="filter-group">
          <label class="filter-label">搜索名称</label>
          <div class="search-input-wrapper">
            <input
              v-model="filters.name"
              type="text"
              class="search-input"
              placeholder="输入活动名称..."
              @input="debounceSearch"
            >
            <span class="search-icon">🔍</span>
          </div>
        </div>
      </div>

      <div class="filter-row">
        <div class="filter-group">
          <label class="filter-label">时间范围</label>
          <div class="date-range">
            <input
              v-model="filters.startDate"
              type="date"
              class="date-input"
              @change="handleFilterChange"
            >
            <span class="date-separator">至</span>
            <input
              v-model="filters.endDate"
              type="date"
              class="date-input"
              @change="handleFilterChange"
            >
            <button v-if="filters.startDate || filters.endDate" class="date-clear-btn" @click="clearDateFilter">
              清空
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- 数据表格 -->
    <div class="table-container">
      <div class="table-header">
        <div class="table-row header-row">
          <div class="table-cell" style="flex: 0.5;">ID</div>
          <div class="table-cell" style="flex: 2;">活动名称</div>
          <div class="table-cell" style="flex: 1;">类型</div>
          <div class="table-cell" style="flex: 1.2;">时间范围</div>
          <div class="table-cell" style="flex: 0.8;">状态</div>
          <div class="table-cell" style="flex: 1.2;">创建时间</div>
          <div class="table-cell" style="flex: 1.5;">操作</div>
        </div>
      </div>

      <div class="table-body">
        <div v-if="loading" class="loading-container">
          <div class="loading-spinner"></div>
          <span>加载中...</span>
        </div>

        <div v-else-if="events.length === 0" class="empty-state">
          <span class="empty-icon">📋</span>
          <p>暂无活动数据</p>
          <button class="btn btn-secondary" @click="handleCreate">创建第一个活动</button>
        </div>

        <div v-else>
          <div
            v-for="event in paginatedEvents"
            :key="event.id"
            class="table-row data-row"
          >
            <div class="table-cell" style="flex: 0.5;">{{ event.id }}</div>
            <div class="table-cell" style="flex: 2;">
              <div class="event-name-container">
                <span class="event-name">{{ event.event_name || '未命名' }}</span>
                <span v-if="event.description" class="event-description-tooltip" :title="event.description">
                  📝
                </span>
              </div>
            </div>
            <div class="table-cell" style="flex: 1;">
              <span :class="['type-badge', getTypeClass(event.event_type)]">
                {{ getTypeLabel(event.event_type) }}
              </span>
            </div>
            <div class="table-cell" style="flex: 1.2;">
              <div class="time-range">
                <div>{{ formatDateTime(event.start_time) }}</div>
                <div class="time-to">至</div>
                <div>{{ formatDateTime(event.end_time) }}</div>
              </div>
            </div>
            <div class="table-cell" style="flex: 0.8;">
              <span :class="['status-badge', getEventStatus(event)]">
                {{ getEventStatusText(event) }}
              </span>
            </div>
            <div class="table-cell" style="flex: 1.2;">
              {{ formatDate(event.created_at) }}
            </div>
            <div class="table-cell actions-cell" style="flex: 1.5;">
              <button class="action-btn edit-btn" @click="handleEdit(event)">
                编辑
              </button>
              <button class="action-btn view-btn" @click="handleViewAreas(event)">
                关联区域
              </button>
              <button class="action-btn manage-btn" @click="handleManageOnMap(event)">
                地图管理
              </button>
              <button
                :class="['action-btn', event.is_active ? 'deactivate-btn' : 'activate-btn']"
                @click="toggleStatus(event)"
              >
                {{ event.is_active ? '停用' : '启用' }}
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- 分页 -->
    <div v-if="events.length > 0" class="pagination">
      <div class="pagination-info">
        显示 {{ (currentPage - 1) * pageSize + 1 }} -
        {{ Math.min(currentPage * pageSize, events.length) }} 条，共 {{ events.length }} 条
      </div>
      <div class="pagination-controls">
        <button
          :disabled="currentPage === 1"
          @click="currentPage--"
          class="pagination-btn"
        >
          上一页
        </button>
        <span class="pagination-current">{{ currentPage }} / {{ totalPages }}</span>
        <button
          :disabled="currentPage === totalPages"
          @click="currentPage++"
          class="pagination-btn"
        >
          下一页
        </button>
      </div>
    </div>

    <!-- 编辑/创建弹窗 -->
    <div v-if="showModal" class="modal-overlay" @click="closeModal">
      <div class="modal-content" @click.stop>
        <div class="modal-header">
          <h3 class="modal-title">{{ isEditing ? '编辑活动' : '创建活动' }}</h3>
          <button class="modal-close" @click="closeModal">×</button>
        </div>
        <div class="modal-body">
          <form @submit.prevent="handleSubmit">
            <div v-if="errorMessage" class="error-message">
              {{ errorMessage }}
            </div>

            <div class="form-group">
              <label class="form-label">活动名称</label>
              <input
                v-model="formData.event_name"
                type="text"
                class="form-input"
                placeholder="请输入活动名称"
                required
              >
            </div>

            <div class="form-group">
              <label class="form-label">活动类型</label>
              <select v-model="formData.event_type" class="form-select" required>
                <option v-for="type in eventTypes" :key="type.value" :value="type.value">
                  {{ type.label }}
                </option>
              </select>
            </div>

            <div class="form-row">
              <div class="form-group half">
                <label class="form-label">开始时间</label>
                <input
                  v-model="formData.start_time"
                  type="datetime-local"
                  class="form-input"
                  placeholder="请选择开始时间"
                  required
                >
              </div>
              <div class="form-group half">
                <label class="form-label">结束时间</label>
                <input
                  v-model="formData.end_time"
                  type="datetime-local"
                  class="form-input"
                  placeholder="请选择结束时间"
                  required
                >
              </div>
            </div>

            <div class="form-group">
              <label class="form-label">活动描述</label>
              <textarea
                v-model="formData.description"
                class="form-textarea"
                rows="4"
                placeholder="请输入活动描述（可选）"
              ></textarea>
            </div>

            <div class="form-group">
              <label class="form-label">主办方</label>
              <input
                v-model="formData.organizer"
                type="text"
                class="form-input"
                placeholder="请输入主办方名称（可选）"
              >
            </div>

            <div class="form-group">
              <label class="form-label">活动地址</label>
              <input
                v-model="formData.location"
                type="text"
                class="form-input"
                placeholder="请输入活动地址（可选）"
              >
            </div>

            <div class="form-group">
              <label class="form-label">状态</label>
              <div class="toggle-switch">
                <input
                  v-model="formData.is_active"
                  type="checkbox"
                  id="status-toggle"
                  class="toggle-input"
                >
                <label for="status-toggle" class="toggle-label">
                  <span class="toggle-slider"></span>
                  <span class="toggle-text">{{ formData.is_active ? '启用' : '停用' }}</span>
                </label>
              </div>
            </div>

            <div class="form-actions">
              <button type="button" class="btn btn-secondary" @click="closeModal" :disabled="submitting">
                取消
              </button>
              <button type="submit" class="btn btn-primary" :disabled="submitting">
                <span v-if="submitting" class="btn-spinner"></span>
                {{ isEditing ? '保存更改' : '创建活动' }}
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- 关联区域弹窗 -->
    <div v-if="showAreasModal" class="modal-overlay" @click="closeAreasModal">
      <div class="modal-content wide-modal" @click.stop>
        <div class="modal-header">
          <h3 class="modal-title">管理关联区域 - {{ currentEvent?.event_name }}</h3>
          <button class="modal-close" @click="closeAreasModal">×</button>
        </div>
        <div class="modal-body">
          <div v-if="loadingAreas" class="loading-container">
            <div class="loading-spinner"></div>
            <span>加载关联区域中...</span>
          </div>

          <div v-else>
            <div class="tabs">
              <button
                :class="['tab-btn', activeTab === 'storeareas' ? 'active' : '']"
                @click="activeTab = 'storeareas'"
              >
                店铺区域 ({{ storeareas.length }})
              </button>
              <button
                :class="['tab-btn', activeTab === 'eventareas' ? 'active' : '']"
                @click="activeTab = 'eventareas'"
              >
                活动区域 ({{ eventareas.length }})
              </button>
            </div>

            <div class="areas-list">
              <div v-if="activeTab === 'storeareas'" class="tab-content">
                <div v-if="storeareas.length === 0" class="empty-list">
                  暂无关联的店铺区域
                </div>
                <div v-else>
                  <div v-for="area in storeareas" :key="area.id" class="area-item">
                    <div class="area-info">
                      <span class="area-name">{{ area.store_name || area.name || '未命名' }}</span>
                      <span class="area-type">店铺区域</span>
                    </div>
                    <button class="btn btn-danger btn-sm" @click="removeStoreareaFromEvent(area.id)">
                      移除
                    </button>
                  </div>
                </div>

                <div class="add-area-section">
                  <h4>添加店铺区域</h4>
                  <div class="search-area">
                    <input
                      v-model="storeareaSearch"
                      type="text"
                      class="search-input"
                      placeholder="搜索店铺区域..."
                      @input="searchStoreareas"
                    >
                  </div>
                  <div v-if="searchResults.length > 0" class="search-results">
                    <div v-for="area in searchResults" :key="area.id" class="search-result-item">
                      <div class="result-info">
                        <span class="result-name">{{ area.store_name || area.name || '未命名' }}</span>
                        <span class="result-type">店铺区域</span>
                      </div>
                      <button
                        class="btn btn-success btn-sm"
                        @click="addStoreareaToEvent(area.id)"
                        :disabled="isStoreareaLinked(area.id)"
                      >
                        {{ isStoreareaLinked(area.id) ? '已关联' : '添加' }}
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              <div v-if="activeTab === 'eventareas'" class="tab-content">
                <div v-if="eventareas.length === 0" class="empty-list">
                  暂无关联的活动区域
                </div>
                <div v-else>
                  <div v-for="area in eventareas" :key="area.id" class="area-item">
                    <div class="area-info">
                      <span class="area-name">{{ area.name || '未命名' }}</span>
                      <span class="area-type">活动区域</span>
                    </div>
                    <button class="btn btn-danger btn-sm" @click="removeEventareaFromEvent(area.id)">
                      移除
                    </button>
                  </div>
                </div>

                <div class="add-area-section">
                  <h4>添加活动区域</h4>
                  <div class="search-area">
                    <input
                      v-model="eventareaSearch"
                      type="text"
                      class="search-input"
                      placeholder="搜索活动区域..."
                      @input="searchEventareas"
                    >
                  </div>
                  <div v-if="eventareaResults.length > 0" class="search-results">
                    <div v-for="area in eventareaResults" :key="area.id" class="search-result-item">
                      <div class="result-info">
                        <span class="result-name">{{ area.name || '未命名' }}</span>
                        <span class="result-type">活动区域</span>
                      </div>
                      <button
                        class="btn btn-success btn-sm"
                        @click="addEventareaToEvent(area.id)"
                        :disabled="isEventareaLinked(area.id)"
                      >
                        {{ isEventareaLinked(area.id) ? '已关联' : '添加' }}
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref, computed, onMounted } from 'vue'
import { useRouter } from 'vue-router'
import * as managementAPI from '../../api/management'
import * as searchAPI from '../../api/search'
import * as editorAPI from '../../api/editor'

const router = useRouter()

// 数据状态
const events = ref([])
const loading = ref(true)
const errorMessage = ref('')
const submitting = ref(false)

// 关联区域相关状态
const showAreasModal = ref(false)
const currentEvent = ref(null)
const loadingAreas = ref(false)
const storeareas = ref([])
const eventareas = ref([])
const activeTab = ref('storeareas')
const storeareaSearch = ref('')
const eventareaSearch = ref('')
const searchResults = ref([])
const eventareaResults = ref([])

// 筛选条件
const filters = ref({
  type: '',
  status: '',
  name: '',
  startDate: '',
  endDate: ''
})

// 分页
const currentPage = ref(1)
const pageSize = ref(10)

// 弹窗状态
const showModal = ref(false)
const isEditing = ref(false)
const formData = ref({
  id: null,
  event_name: '',
  event_type: '0',
  start_time: '',
  end_time: '',
  description: '',
  organizer: '',
  location: '',
  is_active: true
})

// 活动类型配置
const eventTypes = [
  { value: '0', label: '普通活动' },
  { value: '1', label: '促销活动' },
  { value: '2', label: '展览活动' },
  { value: '3', label: '表演活动' },
  { value: '4', label: '节日活动' },
  { value: '5', label: '体验活动' }
]

// 计算属性
const filteredEvents = computed(() => {
  const now = new Date()

  return events.value.filter(event => {
    // 按类型筛选
    if (filters.value.type && event.event_type.toString() !== filters.value.type) return false

    // 按名称搜索
    if (filters.value.name) {
      const name = event.event_name || ''
      if (!name.toLowerCase().includes(filters.value.name.toLowerCase())) return false
    }

    // 按状态筛选
    if (filters.value.status) {
      const status = getEventStatus(event)
      if (status !== filters.value.status) return false
    }

    // 按时间范围筛选
    if (filters.value.startDate) {
      const eventDate = new Date(event.start_time)
      if (eventDate < new Date(filters.value.startDate + 'T00:00:00')) return false
    }

    if (filters.value.endDate) {
      const eventDate = new Date(event.end_time)
      if (eventDate > new Date(filters.value.endDate + 'T23:59:59')) return false
    }

    return true
  })
})

const paginatedEvents = computed(() => {
  const start = (currentPage.value - 1) * pageSize.value
  const end = start + pageSize.value
  return filteredEvents.value.slice(start, end)
})

const totalPages = computed(() => {
  return Math.ceil(filteredEvents.value.length / pageSize.value)
})

// 方法
const loadData = async () => {
  loading.value = true
  errorMessage.value = ''

  try {
    const response = await managementAPI.listManagementEvents()
    events.value = response.data || response

    // 确保数据有event_type字段
    events.value = events.value.map(event => ({
      ...event,
      event_type: event.event_type || '0'
    }))

  } catch (error) {
    console.error('加载活动数据失败:', error)
    errorMessage.value = `加载数据失败: ${error.message || '未知错误'}`
  } finally {
    loading.value = false
  }
}

const handleFilterChange = () => {
  currentPage.value = 1
}

const debounceSearch = () => {
  clearTimeout(debounceSearch.timer)
  debounceSearch.timer = setTimeout(handleFilterChange, 500)
}

const clearDateFilter = () => {
  filters.value.startDate = ''
  filters.value.endDate = ''
  handleFilterChange()
}

const getTypeLabel = (type) => {
  const typeObj = eventTypes.find(t => t.value === type.toString())
  return typeObj ? typeObj.label : `类型${type}`
}

const getTypeClass = (type) => {
  const typeClasses = {
    '0': 'normal',
    '1': 'promotion',
    '2': 'exhibition',
    '3': 'performance',
    '4': 'festival',
    '5': 'experience'
  }
  return typeClasses[type] || 'normal'
}

const getEventStatus = (event) => {
  const now = new Date()
  const startTime = new Date(event.start_time)
  const endTime = new Date(event.end_time)

  if (!event.is_active) return 'inactive'
  if (now < startTime) return 'upcoming'
  if (now > endTime) return 'ended'
  return 'active'
}

const getEventStatusText = (event) => {
  const status = getEventStatus(event)
  const statusMap = {
    'active': '进行中',
    'upcoming': '即将开始',
    'ended': '已结束',
    'inactive': '已停用'
  }
  return statusMap[status] || '未知'
}

const formatDate = (dateString) => {
  if (!dateString) return '-'
  const date = new Date(dateString)
  return date.toLocaleDateString('zh-CN')
}

const formatDateTime = (dateString) => {
  if (!dateString) return '-'
  const date = new Date(dateString)
  return date.toLocaleString('zh-CN', {
    month: '2-digit',
    day: '2-digit',
    hour: '2-digit',
    minute: '2-digit'
  })
}

const handleCreate = () => {
  isEditing.value = false
  const now = new Date()
  const tomorrow = new Date(now)
  tomorrow.setDate(tomorrow.getDate() + 1)

  formData.value = {
    id: null,
    event_name: '',
    event_type: '0',
    start_time: now.toISOString().slice(0, 16),
    end_time: tomorrow.toISOString().slice(0, 16),
    description: '',
    organizer: '',
    location: '',
    is_active: true
  }
  errorMessage.value = ''
  showModal.value = true
}

const handleEdit = async (event) => {
  isEditing.value = true
  errorMessage.value = ''

  try {
    const response = await managementAPI.getManagementEvent(event.id)
    const eventData = response.data || response

    // 转换时间格式为datetime-local可用的格式
    const formatForInput = (dateString) => {
      if (!dateString) return ''
      const date = new Date(dateString)
      return date.toISOString().slice(0, 16)
    }

    formData.value = {
      id: eventData.id,
      event_name: eventData.event_name || '',
      event_type: eventData.event_type?.toString() || '0',
      start_time: formatForInput(eventData.start_time),
      end_time: formatForInput(eventData.end_time),
      description: eventData.description || '',
      organizer: eventData.organizer || '',
      location: eventData.location || '',
      is_active: eventData.is_active !== undefined ? eventData.is_active : true
    }

    showModal.value = true
  } catch (error) {
    console.error('获取活动详情失败:', error)
    errorMessage.value = `获取详情失败: ${error.message || '未知错误'}`
  }
}

const handleSubmit = async () => {
  errorMessage.value = ''
  submitting.value = true

  try {
    const submitData = { ...formData.value }

    // 验证时间
    const startTime = new Date(submitData.start_time)
    const endTime = new Date(submitData.end_time)

    if (endTime <= startTime) {
      throw new Error('结束时间必须晚于开始时间')
    }

    // 移除id字段（如果是创建）
    const id = submitData.id
    if (!isEditing.value) {
      delete submitData.id
    }

    // 转换event_type为数字
    submitData.event_type = parseInt(submitData.event_type)

    if (isEditing.value) {
      // 更新活动
      await managementAPI.updateManagementEvent(id, submitData)
    } else {
      // 创建活动
      await managementAPI.createManagementEvent(submitData)
    }

    closeModal()
    loadData()
  } catch (error) {
    console.error('保存失败:', error)
    errorMessage.value = `保存失败: ${error.response?.data?.error || error.message || '未知错误'}`
  } finally {
    submitting.value = false
  }
}

const toggleStatus = async (event) => {
  try {
    const newStatus = !event.is_active
    await managementAPI.partialUpdateManagementEvent(event.id, { is_active: newStatus })
    event.is_active = newStatus
  } catch (error) {
    console.error('状态更新失败:', error)
    errorMessage.value = `状态更新失败: ${error.response?.data?.error || error.message || '未知错误'}`
  }
}

const handleViewAreas = async (event) => {
  currentEvent.value = event
  loadingAreas.value = true
  showAreasModal.value = true

  try {
    // 加载关联的区域
    await loadEventAreas(event.id)
  } catch (error) {
    console.error('加载关联区域失败:', error)
    errorMessage.value = `加载关联区域失败: ${error.message || '未知错误'}`
  } finally {
    loadingAreas.value = false
  }
}

const handleManageOnMap = (event) => {
  // 跳转到地图编辑器，可以管理活动相关的区域
  router.push({
    path: '/map-editor',
    query: {
      mode: 'event',
      eventId: event.id,
      eventName: event.event_name
    }
  })
}

const loadEventAreas = async (eventId) => {
  try {
    // 从editor模块获取关联的区域
    const response = await editorAPI.getEventAreasForEditor(eventId)
    const data = response.data || response

    // 获取店铺区域详情
    const storeareaPromises = (data.storearea_ids || []).map(id =>
      managementAPI.getManagementStorearea(id).catch(() => null)
    )

    // 获取活动区域详情
    const eventareaPromises = (data.eventarea_ids || []).map(id =>
      managementAPI.getManagementEventarea(id).catch(() => null)
    )

    const [storeareaResults, eventareaResults] = await Promise.all([
      Promise.all(storeareaPromises),
      Promise.all(eventareaPromises)
    ])

    storeareas.value = storeareaResults.filter(r => r).map(r => r.data || r)
    eventareas.value = eventareaResults.filter(r => r).map(r => r.data || r)

  } catch (error) {
    console.error('加载事件区域失败:', error)
    throw error
  }
}

const searchStoreareas = async () => {
  if (!storeareaSearch.value.trim()) {
    searchResults.value = []
    return
  }

  try {
    const response = await searchAPI.searchStoreareaByName(storeareaSearch.value)
    searchResults.value = response.data || response
  } catch (error) {
    console.error('搜索店铺区域失败:', error)
    searchResults.value = []
  }
}

const searchEventareas = async () => {
  if (!eventareaSearch.value.trim()) {
    eventareaResults.value = []
    return
  }

  try {
    // 这里需要搜索活动区域的API，如果没有，可以使用management的列表
    const response = await managementAPI.listManagementEventareas()
    const allEventareas = response.data || response
    eventareaResults.value = allEventareas.filter(area =>
      (area.name || '').toLowerCase().includes(eventareaSearch.value.toLowerCase())
    )
  } catch (error) {
    console.error('搜索活动区域失败:', error)
    eventareaResults.value = []
  }
}

const isStoreareaLinked = (areaId) => {
  return storeareas.value.some(area => area.id === areaId)
}

const isEventareaLinked = (areaId) => {
  return eventareas.value.some(area => area.id === areaId)
}

const addStoreareaToEvent = async (storeareaId) => {
  try {
    await editorAPI.addStoreareaToEvent(currentEvent.value.id, storeareaId)

    // 重新加载关联区域
    await loadEventAreas(currentEvent.value.id)

    // 清空搜索结果
    searchResults.value = []
    storeareaSearch.value = ''
  } catch (error) {
    console.error('添加店铺区域失败:', error)
    errorMessage.value = `添加失败: ${error.response?.data?.error || error.message || '未知错误'}`
  }
}

const removeStoreareaFromEvent = async (storeareaId) => {
  try {
    await editorAPI.removeStoreareaFromEvent(currentEvent.value.id, storeareaId)

    // 重新加载关联区域
    await loadEventAreas(currentEvent.value.id)
  } catch (error) {
    console.error('移除店铺区域失败:', error)
    errorMessage.value = `移除失败: ${error.response?.data?.error || error.message || '未知错误'}`
  }
}

const addEventareaToEvent = async (eventareaId) => {
  try {
    // 注意：根据editor.js，添加活动区域使用的是addEventareaToEvent函数
    // 但参数可能需要调整，根据实际API
    await editorAPI.addEventareaToEvent(currentEvent.value.id, eventareaId)

    // 重新加载关联区域
    await loadEventAreas(currentEvent.value.id)

    // 清空搜索结果
    eventareaResults.value = []
    eventareaSearch.value = ''
  } catch (error) {
    console.error('添加活动区域失败:', error)
    errorMessage.value = `添加失败: ${error.response?.data?.error || error.message || '未知错误'}`
  }
}

const removeEventareaFromEvent = async (eventareaId) => {
  try {
    // 注意：根据editor.js，移除活动区域使用的是removeEventareaFromEvent函数
    await editorAPI.removeEventareaFromEvent(currentEvent.value.id, eventareaId)

    // 重新加载关联区域
    await loadEventAreas(currentEvent.value.id)
  } catch (error) {
    console.error('移除活动区域失败:', error)
    errorMessage.value = `移除失败: ${error.response?.data?.error || error.message || '未知错误'}`
  }
}

const closeModal = () => {
  if (!submitting.value) {
    showModal.value = false
    errorMessage.value = ''
  }
}

const closeAreasModal = () => {
  showAreasModal.value = false
  currentEvent.value = null
  storeareas.value = []
  eventareas.value = []
  activeTab.value = 'storeareas'
  storeareaSearch.value = ''
  eventareaSearch.value = ''
  searchResults.value = []
  eventareaResults.value = []
}

// 生命周期
onMounted(() => {
  loadData()
})
</script>

<style scoped>
.event-management {
  padding: 20px;
  background-color: #111827;
  min-height: 100vh;
  color: #f9fafb;
}

.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 24px;
}

.title {
  font-size: 24px;
  font-weight: 600;
  color: #f9fafb;
}

.actions {
  display: flex;
  gap: 12px;
}

.btn {
  padding: 8px 16px;
  border-radius: 4px;
  border: none;
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
  display: flex;
  align-items: center;
  gap: 6px;
  transition: background-color 0.2s;
  position: relative;
}

.btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.btn-primary {
  background-color: #f97316;
  color: #ffffff;
}

.btn-primary:hover:not(:disabled) {
  background-color: #ea580c;
}

.btn-secondary {
  background-color: #374151;
  color: #d1d5db;
}

.btn-secondary:hover:not(:disabled) {
  background-color: #4b5563;
}

.btn-success {
  background-color: #10b981;
  color: #ffffff;
}

.btn-success:hover:not(:disabled) {
  background-color: #059669;
}

.btn-danger {
  background-color: #ef4444;
  color: #ffffff;
}

.btn-danger:hover:not(:disabled) {
  background-color: #dc2626;
}

.btn-sm {
  padding: 4px 8px;
  font-size: 12px;
}

.btn-spinner {
  display: inline-block;
  width: 16px;
  height: 16px;
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  border-top-color: #ffffff;
  animation: spin 1s ease-in-out infinite;
  margin-right: 8px;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

.filter-card {
  background-color: #1f2937;
  border-radius: 8px;
  padding: 20px;
  margin-bottom: 24px;
  border: 1px solid #374151;
}

.filter-row {
  display: flex;
  gap: 20px;
  margin-bottom: 16px;
  flex-wrap: wrap;
}

.filter-group {
  flex: 1;
  min-width: 200px;
}

.filter-label {
  display: block;
  margin-bottom: 8px;
  font-size: 14px;
  color: #9ca3af;
}

.filter-select {
  width: 100%;
  padding: 8px 12px;
  border-radius: 4px;
  border: 1px solid #374151;
  background-color: #111827;
  color: #f9fafb;
  font-size: 14px;
}

.search-input-wrapper {
  position: relative;
}

.search-input {
  width: 100%;
  padding: 8px 12px 8px 36px;
  border-radius: 4px;
  border: 1px solid #374151;
  background-color: #111827;
  color: #f9fafb;
  font-size: 14px;
}

.search-icon {
  position: absolute;
  left: 12px;
  top: 50%;
  transform: translateY(-50%);
  color: #9ca3af;
}

.date-range {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
}

.date-input {
  padding: 8px 12px;
  border-radius: 4px;
  border: 1px solid #374151;
  background-color: #111827;
  color: #f9fafb;
  font-size: 14px;
  flex: 1;
}

.date-separator {
  color: #9ca3af;
  font-size: 14px;
}

.date-clear-btn {
  padding: 8px 12px;
  border-radius: 4px;
  border: 1px solid #374151;
  background-color: #111827;
  color: #d1d5db;
  cursor: pointer;
  font-size: 13px;
}

.date-clear-btn:hover {
  background-color: #374151;
}

.table-container {
  background-color: #1f2937;
  border-radius: 8px;
  border: 1px solid #374151;
  overflow: hidden;
}

.table-header {
  background-color: #374151;
}

.table-row {
  display: flex;
  padding: 16px 20px;
  border-bottom: 1px solid #374151;
}

.header-row {
  font-weight: 600;
  color: #d1d5db;
  background-color: #374151;
}

.table-cell {
  padding: 0 8px;
  display: flex;
  align-items: center;
}

.data-row:hover {
  background-color: #2d3748;
}

.event-name-container {
  display: flex;
  align-items: center;
  gap: 8px;
}

.event-name {
  font-weight: 500;
}

.event-description-tooltip {
  color: #9ca3af;
  cursor: help;
  font-size: 14px;
}

.type-badge {
  display: inline-block;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 12px;
  font-weight: 500;
}

.type-badge.normal {
  background-color: #3b82f6;
  color: #ffffff;
}

.type-badge.promotion {
  background-color: #f59e0b;
  color: #ffffff;
}

.type-badge.exhibition {
  background-color: #8b5cf6;
  color: #ffffff;
}

.type-badge.performance {
  background-color: #ec4899;
  color: #ffffff;
}

.type-badge.festival {
  background-color: #10b981;
  color: #ffffff;
}

.type-badge.experience {
  background-color: #ef4444;
  color: #ffffff;
}

.time-range {
  display: flex;
  flex-direction: column;
  gap: 2px;
  font-size: 13px;
}

.time-to {
  color: #9ca3af;
  font-size: 11px;
  text-align: center;
}

.status-badge {
  display: inline-block;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 12px;
  font-weight: 500;
}

.status-badge.active {
  background-color: #10b98120;
  color: #10b981;
}

.status-badge.upcoming {
  background-color: #f59e0b20;
  color: #f59e0b;
}

.status-badge.ended {
  background-color: #6b728020;
  color: #9ca3af;
}

.status-badge.inactive {
  background-color: #ef444420;
  color: #ef4444;
}

.actions-cell {
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
}

.action-btn {
  padding: 4px 8px;
  border-radius: 4px;
  border: none;
  cursor: pointer;
  font-size: 12px;
  font-weight: 500;
  transition: background-color 0.2s;
  white-space: nowrap;
}

.edit-btn {
  background-color: #3b82f6;
  color: #ffffff;
}

.edit-btn:hover {
  background-color: #2563eb;
}

.view-btn {
  background-color: #8b5cf6;
  color: #ffffff;
}

.view-btn:hover {
  background-color: #7c3aed;
}

.manage-btn {
  background-color: #f59e0b;
  color: #ffffff;
}

.manage-btn:hover {
  background-color: #d97706;
}

.activate-btn {
  background-color: #10b981;
  color: #ffffff;
}

.activate-btn:hover {
  background-color: #059669;
}

.deactivate-btn {
  background-color: #ef4444;
  color: #ffffff;
}

.deactivate-btn:hover {
  background-color: #dc2626;
}

.loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 40px;
  color: #9ca3af;
}

.loading-spinner {
  width: 40px;
  height: 40px;
  border: 3px solid #374151;
  border-top-color: #f97316;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin-bottom: 16px;
}

.empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 60px;
  color: #9ca3af;
  text-align: center;
}

.empty-icon {
  font-size: 48px;
  margin-bottom: 16px;
}

.empty-state .btn {
  margin-top: 16px;
}

.pagination {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 24px;
  padding: 16px 0;
}

.pagination-info {
  color: #9ca3af;
  font-size: 14px;
}

.pagination-controls {
  display: flex;
  align-items: center;
  gap: 12px;
}

.pagination-btn {
  padding: 6px 12px;
  border-radius: 4px;
  border: 1px solid #374151;
  background-color: #1f2937;
  color: #d1d5db;
  cursor: pointer;
  font-size: 13px;
}

.pagination-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.pagination-btn:not(:disabled):hover {
  background-color: #374151;
}

.pagination-current {
  color: #d1d5db;
  font-size: 14px;
}

/* 弹窗样式 */
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
}

.modal-content {
  background-color: #1f2937;
  border-radius: 8px;
  width: 500px;
  max-width: 90vw;
  max-height: 90vh;
  overflow-y: auto;
  border: 1px solid #374151;
}

.wide-modal {
  width: 700px;
  max-width: 95vw;
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px;
  border-bottom: 1px solid #374151;
}

.modal-title {
  font-size: 18px;
  font-weight: 600;
  color: #f9fafb;
}

.modal-close {
  background: none;
  border: none;
  color: #9ca3af;
  font-size: 24px;
  cursor: pointer;
  line-height: 1;
}

.modal-close:hover {
  color: #f9fafb;
}

.modal-body {
  padding: 20px;
}

.error-message {
  background-color: #ef444420;
  color: #ef4444;
  padding: 12px;
  border-radius: 4px;
  margin-bottom: 20px;
  font-size: 14px;
}

.form-group {
  margin-bottom: 20px;
}

.form-row {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
}

.form-row .form-group {
  flex: 1;
  margin-bottom: 0;
}

.half {
  flex: 0.5;
}

.form-label {
  display: block;
  margin-bottom: 8px;
  color: #d1d5db;
  font-size: 14px;
}

.form-input,
.form-select,
.form-textarea {
  width: 100%;
  padding: 8px 12px;
  border-radius: 4px;
  border: 1px solid #374151;
  background-color: #111827;
  color: #f9fafb;
  font-size: 14px;
}

.form-input:focus,
.form-select:focus,
.form-textarea:focus {
  outline: none;
  border-color: #f97316;
}

.form-textarea {
  resize: vertical;
}

.toggle-switch {
  display: flex;
  align-items: center;
}

.toggle-input {
  display: none;
}

.toggle-label {
  display: flex;
  align-items: center;
  cursor: pointer;
  gap: 8px;
}

.toggle-slider {
  width: 44px;
  height: 24px;
  background-color: #374151;
  border-radius: 12px;
  position: relative;
  transition: background-color 0.2s;
}

.toggle-slider::before {
  content: '';
  position: absolute;
  width: 20px;
  height: 20px;
  background-color: #f9fafb;
  border-radius: 50%;
  top: 2px;
  left: 2px;
  transition: transform 0.2s;
}

.toggle-input:checked + .toggle-label .toggle-slider {
  background-color: #f97316;
}

.toggle-input:checked + .toggle-label .toggle-slider::before {
  transform: translateX(20px);
}

.toggle-text {
  color: #d1d5db;
  font-size: 14px;
}

.form-actions {
  display: flex;
  justify-content: flex-end;
  gap: 12px;
  margin-top: 24px;
  padding-top: 20px;
  border-top: 1px solid #374151;
}

/* 关联区域弹窗样式 */
.tabs {
  display: flex;
  border-bottom: 1px solid #374151;
  margin-bottom: 20px;
}

.tab-btn {
  padding: 10px 20px;
  background: none;
  border: none;
  color: #9ca3af;
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
  border-bottom: 2px solid transparent;
  transition: all 0.2s;
}

.tab-btn:hover {
  color: #d1d5db;
}

.tab-btn.active {
  color: #f97316;
  border-bottom-color: #f97316;
}

.areas-list {
  max-height: 400px;
  overflow-y: auto;
}

.empty-list {
  text-align: center;
  padding: 30px;
  color: #9ca3af;
  font-size: 14px;
}

.area-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px;
  border: 1px solid #374151;
  border-radius: 4px;
  margin-bottom: 8px;
  background-color: #111827;
}

.area-info {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.area-name {
  font-weight: 500;
  color: #f9fafb;
}

.area-type {
  font-size: 12px;
  color: #9ca3af;
}

.add-area-section {
  margin-top: 24px;
  padding-top: 24px;
  border-top: 1px solid #374151;
}

.add-area-section h4 {
  margin-bottom: 12px;
  color: #f9fafb;
  font-size: 16px;
}

.search-area {
  margin-bottom: 16px;
}

.search-results {
  max-height: 200px;
  overflow-y: auto;
  border: 1px solid #374151;
  border-radius: 4px;
}

.search-result-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 12px;
  border-bottom: 1px solid #374151;
}

.search-result-item:last-child {
  border-bottom: none;
}

.result-info {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.result-name {
  color: #f9fafb;
  font-size: 14px;
}

.result-type {
  font-size: 12px;
  color: #9ca3af;
}
</style>



================================================================================
文件路径: frontend\src\views\facility-management\index.vue
--------------------------------------------------------------------------------

<!-- views/facility-management/index.vue -->
<template>
  <div class="facility-management">
    <div class="header">
      <h1 class="title">设施管理</h1>
      <div class="actions">
        <button class="btn btn-primary" @click="handleCreate">
          <span class="btn-icon">+</span> 新建设施
        </button>
      </div>
    </div>

    <!-- 筛选区域 -->
    <div class="filter-card">
      <div class="filter-row">
        <div class="filter-group">
          <label class="filter-label">设施类型</label>
          <select v-model="filters.type" class="filter-select" @change="handleFilterChange">
            <option value="">全部类型</option>
            <option value="0">电梯</option>
            <option value="1">卫生间</option>
            <option value="2">安全出口</option>
            <option value="3">服务台</option>
            <option value="4">其他</option>
          </select>
        </div>

        <div class="filter-group">
          <label class="filter-label">地图楼层</label>
          <select v-model="filters.map_id" class="filter-select" @change="handleFilterChange">
            <option value="">全部楼层</option>
            <option v-for="map in mapList" :key="map.id" :value="map.id">
              楼层 {{ map.floor_number }}
            </option>
          </select>
        </div>

        <div class="filter-group">
          <label class="filter-label">搜索名称</label>
          <div class="search-input-wrapper">
            <input
              v-model="filters.name"
              type="text"
              class="search-input"
              placeholder="输入设施名称..."
              @input="debounceSearch"
            >
            <span class="search-icon">🔍</span>
          </div>
        </div>
      </div>

      <div class="filter-row">
        <div class="filter-group">
          <label class="filter-label">状态筛选</label>
          <div class="status-buttons">
            <button
              :class="['status-btn', { active: filters.status === '' }]"
              @click="setStatus('')"
            >
              全部
            </button>
            <button
              :class="['status-btn', { active: filters.status === 'active' }]"
              @click="setStatus('active')"
            >
              启用
            </button>
            <button
              :class="['status-btn', { active: filters.status === 'inactive' }]"
              @click="setStatus('inactive')"
            >
              停用
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- 数据表格 -->
    <div class="table-container">
      <div class="table-header">
        <div class="table-row header-row">
          <div class="table-cell" style="flex: 0.5;">ID</div>
          <div class="table-cell" style="flex: 1.5;">名称</div>
          <div class="table-cell" style="flex: 1;">类型</div>
          <div class="table-cell" style="flex: 1;">地图楼层</div>
          <div class="table-cell" style="flex: 0.8;">状态</div>
          <div class="table-cell" style="flex: 1.5;">创建时间</div>
          <div class="table-cell" style="flex: 1.2;">操作</div>
        </div>
      </div>

      <div class="table-body">
        <div v-if="loading" class="loading-container">
          <div class="loading-spinner"></div>
          <span>加载中...</span>
        </div>

        <div v-else-if="facilities.length === 0" class="empty-state">
          <span class="empty-icon">📋</span>
          <p>暂无设施数据</p>
        </div>

        <div v-else>
          <div
            v-for="facility in paginatedFacilities"
            :key="facility.id"
            class="table-row data-row"
          >
            <div class="table-cell" style="flex: 0.5;">{{ facility.id }}</div>
            <div class="table-cell" style="flex: 1.5;">
              <span class="facility-name">{{ facility.description || '未命名' }}</span>
            </div>
            <div class="table-cell" style="flex: 1;">
              <span :class="['type-badge', getTypeClass(facility.type)]">
                {{ getTypeLabel(facility.type) }}
              </span>
            </div>
            <div class="table-cell" style="flex: 1;">
              <span v-if="facility.map_id" class="map-info">
                楼层 {{ getMapFloor(facility.map_id) }}
              </span>
              <span v-else class="text-muted">未分配</span>
            </div>
            <div class="table-cell" style="flex: 0.8;">
              <span :class="['status-badge', facility.is_active ? 'active' : 'inactive']">
                {{ facility.is_active ? '启用' : '停用' }}
              </span>
            </div>
            <div class="table-cell" style="flex: 1.5;">
              {{ formatDate(facility.created_at) }}
            </div>
            <div class="table-cell actions-cell" style="flex: 1.2;">
              <button class="action-btn edit-btn" @click="handleEdit(facility)">
                编辑
              </button>
              <button class="action-btn view-btn" @click="handleViewOnMap(facility)">
                查看
              </button>
              <button
                :class="['action-btn', facility.is_active ? 'deactivate-btn' : 'activate-btn']"
                @click="toggleStatus(facility)"
              >
                {{ facility.is_active ? '停用' : '启用' }}
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- 分页 -->
    <div v-if="facilities.length > 0" class="pagination">
      <div class="pagination-info">
        显示 {{ (currentPage - 1) * pageSize + 1 }} -
        {{ Math.min(currentPage * pageSize, facilities.length) }} 条，共 {{ facilities.length }} 条
      </div>
      <div class="pagination-controls">
        <button
          :disabled="currentPage === 1"
          @click="currentPage--"
          class="pagination-btn"
        >
          上一页
        </button>
        <span class="pagination-current">{{ currentPage }} / {{ totalPages }}</span>
        <button
          :disabled="currentPage === totalPages"
          @click="currentPage++"
          class="pagination-btn"
        >
          下一页
        </button>
      </div>
    </div>

    <!-- 编辑/创建弹窗 -->
    <div v-if="showModal" class="modal-overlay" @click="closeModal">
      <div class="modal-content" @click.stop>
        <div class="modal-header">
          <h3 class="modal-title">{{ isEditing ? '编辑设施' : '创建设施' }}</h3>
          <button class="modal-close" @click="closeModal">×</button>
        </div>
        <div class="modal-body">
          <form @submit.prevent="handleSubmit">
            <div v-if="errorMessage" class="error-message">
              {{ errorMessage }}
            </div>

            <div class="form-group">
              <label class="form-label">设施名称</label>
              <input
                v-model="formData.description"
                type="text"
                class="form-input"
                placeholder="请输入设施名称"
                required
              >
            </div>

            <div class="form-group">
              <label class="form-label">设施类型</label>
              <select v-model="formData.type" class="form-select">
                <option value="0">电梯</option>
                <option value="1">卫生间</option>
                <option value="2">安全出口</option>
                <option value="3">服务台</option>
                <option value="4">其他</option>
              </select>
            </div>

            <div class="form-group">
              <label class="form-label">所属地图</label>
              <select v-model="formData.map_id" class="form-select" required>
                <option value="">请选择地图楼层</option>
                <option v-for="map in mapList" :key="map.id" :value="map.id">
                  楼层 {{ map.floor_number }}
                </option>
              </select>
            </div>

            

            <div class="form-group">
              <label class="form-label">状态</label>
              <div class="toggle-switch">
                <input
                  v-model="formData.is_active"
                  type="checkbox"
                  id="status-toggle"
                  class="toggle-input"
                >
                <label for="status-toggle" class="toggle-label">
                  <span class="toggle-slider"></span>
                  <span class="toggle-text">{{ formData.is_active ? '启用' : '停用' }}</span>
                </label>
              </div>
            </div>

            <div class="form-actions">
              <button type="button" class="btn btn-secondary" @click="closeModal" :disabled="submitting">
                取消
              </button>
              <button type="submit" class="btn btn-primary" :disabled="submitting">
                <span v-if="submitting" class="btn-spinner"></span>
                {{ isEditing ? '保存更改' : '创建设施' }}
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref, computed, onMounted } from 'vue'
import { useRouter } from 'vue-router'
import { listMaps } from '../../api/map'
import * as managementAPI from '../../api/management'

const router = useRouter()

// 数据状态
const facilities = ref([])
const mapList = ref([])
const loading = ref(true)
const errorMessage = ref('')
const submitting = ref(false)

// 筛选条件
const filters = ref({
  type: '',
  map_id: '',
  name: '',
  status: ''
})

// 分页
const currentPage = ref(1)
const pageSize = ref(10)

// 弹窗状态
const showModal = ref(false)
const isEditing = ref(false)
const formData = ref({
  id: null,
  type: '0',
  description: '',
  map_id: '',
  is_active: true
})

// 计算属性
const filteredFacilities = computed(() => {
  return facilities.value.filter(facility => {
    // 按类型筛选
    if (filters.value.type && facility.type !== parseInt(filters.value.type)) return false

    // 按地图筛选
    if (filters.value.map_id && facility.map_id !== parseInt(filters.value.map_id)) return false

    // 按名称搜索
    if (filters.value.name) {
      const name = facility.description || ''
      if (!name.toLowerCase().includes(filters.value.name.toLowerCase())) return false
    }

    // 按状态筛选
    if (filters.value.status === 'active' && !facility.is_active) return false
    if (filters.value.status === 'inactive' && facility.is_active) return false

    return true
  })
})

const paginatedFacilities = computed(() => {
  const start = (currentPage.value - 1) * pageSize.value
  const end = start + pageSize.value
  return filteredFacilities.value.slice(start, end)
})

const totalPages = computed(() => {
  return Math.ceil(filteredFacilities.value.length / pageSize.value)
})

// 方法
const loadData = async () => {
  loading.value = true
  errorMessage.value = ''

  try {
    // 1. 加载地图列表
    if (mapList.value.length === 0) {
      const mapsResponse = await listMaps()
      mapList.value = mapsResponse.data || mapsResponse
    }

    // 2. 加载设施数据
    const response = await managementAPI.listManagementFacilities()
    facilities.value = response.data || response

  } catch (error) {
    console.error('加载数据失败:', error)
    errorMessage.value = `加载数据失败: ${error.message || '未知错误'}`
  } finally {
    loading.value = false
  }
}

const handleFilterChange = () => {
  currentPage.value = 1
  loadData()
}

const setStatus = (status) => {
  filters.value.status = status
  handleFilterChange()
}

const debounceSearch = () => {
  clearTimeout(debounceSearch.timer)
  debounceSearch.timer = setTimeout(handleFilterChange, 500)
}

const getTypeLabel = (type) => {
  const typeMap = {
    0: '电梯',
    1: '卫生间',
    2: '安全出口',
    3: '服务台',
    4: '其他'
  }
  return typeMap[type] || '其他'
}

const getTypeClass = (type) => {
  return `type-${type || 4}`
}

const getMapFloor = (mapId) => {
  const map = mapList.value.find(m => m.id === mapId)
  return map ? map.floor_number : '未知'
}

const formatDate = (dateString) => {
  if (!dateString) return '-'
  const date = new Date(dateString)
  return date.toLocaleDateString('zh-CN') + ' ' + date.toLocaleTimeString('zh-CN', { hour: '2-digit', minute: '2-digit' })
}

const handleCreate = () => {
  isEditing.value = false
  formData.value = {
    id: null,
    type: '0',
    description: '',
    map_id: '',
    is_active: true
  }
  errorMessage.value = ''
  showModal.value = true
}

const handleEdit = async (facility) => {
  isEditing.value = true
  errorMessage.value = ''

  try {
    // 获取完整详情
    const response = await managementAPI.getManagementFacility(facility.id)
    const facilityData = response.data || response

    // 转换数据格式
    formData.value = {
      id: facilityData.id,
      type: facilityData.type?.toString() || '0',
      description: facilityData.description || '',
      map_id: facilityData.map_id || '',
      is_active: facilityData.is_active !== undefined ? facilityData.is_active : true
    }

    showModal.value = true
  } catch (error) {
    console.error('获取详情失败:', error)
    errorMessage.value = `获取详情失败: ${error.message || '未知错误'}`
  }
}

const handleSubmit = async () => {
  errorMessage.value = ''
  submitting.value = true

  try {
    // 准备提交数据
    const submitData = {
      type: parseInt(formData.value.type),
      description: formData.value.description,
      map_id: parseInt(formData.value.map_id),
      is_active: formData.value.is_active
    }

    if (isEditing.value) {
      // 更新
      await managementAPI.updateManagementFacility(formData.value.id, submitData)
    } else {
      // 创建
      await managementAPI.createManagementFacility(submitData)
    }

    // 关闭弹窗并刷新数据
    closeModal()
    loadData()
  } catch (error) {
    console.error('提交失败:', error)
    errorMessage.value = `提交失败: ${error.response?.data?.error || error.message || '未知错误'}`
  } finally {
    submitting.value = false
  }
}

const toggleStatus = async (facility) => {
  try {
    // 更新状态
    await managementAPI.partialUpdateManagementFacility(facility.id, {
      is_active: !facility.is_active
    })

    // 刷新数据
    loadData()
  } catch (error) {
    console.error('更新状态失败:', error)
    errorMessage.value = `更新状态失败: ${error.message || '未知错误'}`
  }
}

const handleViewOnMap = (facility) => {
  // 跳转到地图编辑器并选中该设施
  router.push({
    path: '/map-editor',
    query: {
      facilityId: facility.id,
      mapId: facility.map_id
    }
  })
}

const closeModal = () => {
  if (!submitting.value) {
    showModal.value = false
    errorMessage.value = ''
  }
}

// 初始化
onMounted(() => {
  loadData()
})
</script>

<style scoped>
.facility-management {
  padding: 20px;
  background-color: #111827;
  min-height: 100vh;
  color: #f9fafb;
}

.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 24px;
}

.title {
  font-size: 24px;
  font-weight: 600;
  color: #f9fafb;
}

.actions {
  display: flex;
  gap: 12px;
}

.btn {
  padding: 8px 16px;
  border-radius: 4px;
  border: none;
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
  display: flex;
  align-items: center;
  gap: 6px;
  transition: background-color 0.2s;
  position: relative;
}

.btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.btn-primary {
  background-color: #f97316;
  color: #ffffff;
}

.btn-primary:hover:not(:disabled) {
  background-color: #ea580c;
}

.btn-secondary {
  background-color: #374151;
  color: #d1d5db;
}

.btn-secondary:hover:not(:disabled) {
  background-color: #4b5563;
}

.btn-spinner {
  display: inline-block;
  width: 16px;
  height: 16px;
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  border-top-color: #ffffff;
  animation: spin 1s ease-in-out infinite;
  margin-right: 8px;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

.filter-card {
  background-color: #1f2937;
  border-radius: 8px;
  padding: 20px;
  margin-bottom: 24px;
  border: 1px solid #374151;
}

.filter-row {
  display: flex;
  gap: 20px;
  margin-bottom: 16px;
  flex-wrap: wrap;
}

.filter-group {
  flex: 1;
  min-width: 200px;
}

.filter-label {
  display: block;
  margin-bottom: 8px;
  font-size: 14px;
  color: #9ca3af;
}

.filter-select {
  width: 100%;
  padding: 8px 12px;
  border-radius: 4px;
  border: 1px solid #374151;
  background-color: #111827;
  color: #f9fafb;
  font-size: 14px;
}

.filter-select:focus {
  outline: none;
  border-color: #f97316;
}

.search-input-wrapper {
  position: relative;
  display: flex;
  align-items: center;
}

.search-input {
  width: 100%;
  padding: 8px 12px 8px 36px;
  border: 1px solid #374151;
  border-radius: 4px;
  font-size: 14px;
  background-color: #111827;
  color: #f9fafb;
}

.search-input:focus {
  outline: none;
  border-color: #f97316;
}

.search-icon {
  position: absolute;
  left: 12px;
  top: 50%;
  transform: translateY(-50%);
  color: #9ca3af;
  font-size: 16px;
}

.status-buttons {
  display: flex;
  gap: 8px;
}

.status-btn {
  padding: 6px 12px;
  border-radius: 4px;
  border: 1px solid #374151;
  background-color: #111827;
  color: #d1d5db;
  cursor: pointer;
  font-size: 13px;
  transition: all 0.2s;
}

.status-btn.active {
  background-color: #f97316;
  border-color: #f97316;
  color: #ffffff;
}

.status-btn:hover:not(.active) {
  background-color: #374151;
}

.table-container {
  background-color: #1f2937;
  border-radius: 8px;
  border: 1px solid #374151;
  overflow: hidden;
}

.table-header {
  background-color: #374151;
}

.table-row {
  display: flex;
  padding: 16px 20px;
  border-bottom: 1px solid #374151;
}

.header-row {
  font-weight: 600;
  color: #d1d5db;
  background-color: #374151;
}

.table-cell {
  padding: 0 8px;
  display: flex;
  align-items: center;
  font-size: 14px;
  color: #d1d5db;
}

.data-row:hover {
  background-color: #2d3748;
}

.facility-name {
  font-weight: 500;
}

.loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 40px;
  color: #9ca3af;
}

.loading-spinner {
  width: 40px;
  height: 40px;
  border: 3px solid #374151;
  border-top-color: #f97316;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin-bottom: 16px;
}

.empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 60px;
  color: #9ca3af;
}

.empty-icon {
  font-size: 48px;
  margin-bottom: 16px;
}

.type-badge {
  display: inline-block;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 12px;
  font-weight: 500;
  color: white;
}

.type-0 {
  background-color: #2563eb;
}

.type-1 {
  background-color: #10b981;
}

.type-2 {
  background-color: #ef4444;
}

.type-3 {
  background-color: #f59e0b;
}

.type-4 {
  background-color: #8b5cf6;
}

.status-badge {
  display: inline-block;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 12px;
  font-weight: 500;
}

.status-badge.active {
  background-color: #10b98120;
  color: #10b981;
}

.status-badge.inactive {
  background-color: #ef444420;
  color: #ef4444;
}

.text-muted {
  color: #9ca3af;
}

.actions-cell {
  display: flex;
  gap: 8px;
}

.action-btn {
  padding: 4px 8px;
  border-radius: 4px;
  border: none;
  cursor: pointer;
  font-size: 12px;
  font-weight: 500;
  transition: background-color 0.2s;
}

.edit-btn {
  background-color: #3b82f6;
  color: #ffffff;
}

.edit-btn:hover {
  background-color: #2563eb;
}

.view-btn {
  background-color: #8b5cf6;
  color: #ffffff;
}

.view-btn:hover {
  background-color: #7c3aed;
}

.deactivate-btn {
  background-color: #ef4444;
  color: #ffffff;
}

.deactivate-btn:hover {
  background-color: #dc2626;
}

.activate-btn {
  background-color: #10b981;
  color: #ffffff;
}

.activate-btn:hover {
  background-color: #059669;
}

.pagination {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 24px;
  padding: 16px 0;
}

.pagination-info {
  color: #9ca3af;
  font-size: 14px;
}

.pagination-controls {
  display: flex;
  align-items: center;
  gap: 12px;
}

.pagination-btn {
  padding: 6px 12px;
  border-radius: 4px;
  border: 1px solid #374151;
  background-color: #1f2937;
  color: #d1d5db;
  cursor: pointer;
  font-size: 13px;
}

.pagination-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.pagination-btn:not(:disabled):hover {
  background-color: #374151;
}

.pagination-current {
  color: #d1d5db;
  font-size: 14px;
}

/* 弹窗样式 */
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
}

.modal-content {
  background-color: #1f2937;
  border-radius: 8px;
  width: 500px;
  max-width: 90vw;
  max-height: 90vh;
  overflow-y: auto;
  border: 1px solid #374151;
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px;
  border-bottom: 1px solid #374151;
}

.modal-title {
  font-size: 18px;
  font-weight: 600;
  color: #f9fafb;
}

.modal-close {
  background: none;
  border: none;
  color: #9ca3af;
  font-size: 24px;
  cursor: pointer;
  line-height: 1;
}

.modal-close:hover {
  color: #f9fafb;
}

.modal-body {
  padding: 20px;
}

.error-message {
  background-color: #ef444420;
  color: #ef4444;
  padding: 12px;
  border-radius: 4px;
  margin-bottom: 20px;
  font-size: 14px;
}

.form-group {
  margin-bottom: 20px;
}

.form-label {
  display: block;
  margin-bottom: 8px;
  color: #d1d5db;
  font-size: 14px;
}

.form-input,
.form-select {
  width: 100%;
  padding: 8px 12px;
  border-radius: 4px;
  border: 1px solid #374151;
  background-color: #111827;
  color: #f9fafb;
  font-size: 14px;
}

.form-input:focus,
.form-select:focus {
  outline: none;
  border-color: #f97316;
}

.toggle-switch {
  display: flex;
  align-items: center;
}

.toggle-input {
  display: none;
}

.toggle-label {
  display: flex;
  align-items: center;
  cursor: pointer;
  gap: 8px;
}

.toggle-slider {
  width: 44px;
  height: 24px;
  background-color: #374151;
  border-radius: 12px;
  position: relative;
  transition: background-color 0.2s;
}

.toggle-slider::before {
  content: '';
  position: absolute;
  width: 20px;
  height: 20px;
  background-color: #f9fafb;
  border-radius: 50%;
  top: 2px;
  left: 2px;
  transition: transform 0.2s;
}

.toggle-input:checked + .toggle-label .toggle-slider {
  background-color: #10b981;
}

.toggle-input:checked + .toggle-label .toggle-slider::before {
  transform: translateX(20px);
}

.toggle-text {
  color: #d1d5db;
  font-size: 14px;
}

.form-actions {
  display: flex;
  justify-content: flex-end;
  gap: 12px;
  margin-top: 24px;
}

.pagination-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.pagination-btn:not(:disabled):hover {
  background-color: #374151;
}

.pagination-current {
  color: #d1d5db;
  font-size: 14px;
}

.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

.modal-content {
  background-color: #1f2937;
  border-radius: 8px;
  max-width: 500px;
  width: 100%;
  margin: 1rem;
  border: 1px solid #374151;
  max-height: 90vh;
  overflow-y: auto;
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px;
  border-bottom: 1px solid #374151;
}

.modal-title {
  font-size: 18px;
  font-weight: 600;
  color: #f9fafb;
}

.modal-close {
  font-size: 24px;
  color: #9ca3af;
  background: none;
  border: none;
  cursor: pointer;
  transition: color 0.2s ease;
  line-height: 1;
}

.modal-close:hover {
  color: #f9fafb;
}

.modal-body {
  padding: 20px;
}

.error-message {
  background-color: #ef444420;
  color: #ef4444;
  padding: 12px;
  border-radius: 4px;
  margin-bottom: 20px;
  font-size: 14px;
}

.form-group {
  margin-bottom: 20px;
}

.form-label {
  display: block;
  margin-bottom: 8px;
  font-size: 14px;
  font-weight: 500;
  color: #d1d5db;
}

.form-input, .form-select, .form-textarea {
  width: 100%;
  padding: 8px 12px;
  border: 1px solid #374151;
  border-radius: 4px;
  font-size: 14px;
  background-color: #111827;
  color: #f9fafb;
}

.form-input:focus, .form-select:focus, .form-textarea:focus {
  outline: none;
  border-color: #f97316;
}

.form-textarea {
  resize: vertical;
  min-height: 80px;
}

.toggle-switch {
  display: flex;
  align-items: center;
  gap: 8px;
}

.toggle-input {
  display: none;
}

.toggle-label {
  position: relative;
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
}

.toggle-slider {
  width: 44px;
  height: 24px;
  background-color: #374151;
  border-radius: 12px;
  transition: all 0.2s ease;
  position: relative;
}

.toggle-input:checked + .toggle-label .toggle-slider {
  background-color: #f97316;
}

.toggle-input:checked + .toggle-label .toggle-slider::before {
  transform: translateX(20px);
}

.toggle-slider::before {
  content: '';
  position: absolute;
  width: 20px;
  height: 20px;
  background-color: #f9fafb;
  border-radius: 50%;
  top: 2px;
  left: 2px;
  transition: all 0.2s ease;
}

.toggle-text {
  font-size: 14px;
  color: #d1d5db;
}

.form-actions {
  display: flex;
  gap: 12px;
  justify-content: flex-end;
  margin-top: 24px;
  padding-top: 20px;
  border-top: 1px solid #374151;
}

.btn-secondary {
  background-color: #374151;
  color: #d1d5db;
  border: 1px solid #4b5563;
}

.btn-secondary:hover {
  background-color: #4b5563;
}

.btn-spinner {
  display: inline-block;
  width: 1rem;
  height: 1rem;
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-top-color: white;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}
</style>


================================================================================
文件路径: frontend\src\views\login&register\Login.vue
--------------------------------------------------------------------------------

<script setup>
import { ref } from 'vue'
import { useRoute, useRouter } from 'vue-router'

const router = useRouter()
const route = useRoute()

const username = ref('')
const password = ref('')
const error = ref('')

async function handleSubmit(e) {
  e.preventDefault()
  error.value = ''

  if (!username.value || !password.value) {
    error.value = '请输入用户名和密码'
    return
  }

  // 目前仅做前端假登录，后续可对接后端认证接口
  localStorage.setItem('auth_user', username.value)

  const redirect = route.query.redirect || '/'
  router.push(redirect)
}
</script>

<template>
  <div class="login-page">
    <div class="login-card">
      <h1 class="login-title">广场区域管理系统</h1>
      <p class="login-subtitle">管理员登录</p>

      <form class="login-form" @submit="handleSubmit">
        <div class="form-item">
          <label for="username">用户名</label>
          <input
            id="username"
            v-model="username"
            type="text"
            placeholder="请输入用户名"
          >
        </div>

        <div class="form-item">
          <label for="password">密码</label>
          <input
            id="password"
            v-model="password"
            type="password"
            placeholder="请输入密码"
          >
        </div>

        <p v-if="error" class="error-text">
          {{ error }}
        </p>

        <button class="login-btn" type="submit">
          登录
        </button>
      </form>
    </div>
  </div>
</template>

<style scoped>
.login-page {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  background: radial-gradient(circle at top left, #1d4ed8, #111827);
}

.login-card {
  width: 360px;
  padding: 32px 28px 28px;
  border-radius: 12px;
  background-color: #ffffff;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
}

.login-title {
  margin: 0;
  font-size: 22px;
  font-weight: 600;
  text-align: center;
  color: #111827;
}

.login-subtitle {
  margin: 8px 0 24px;
  font-size: 13px;
  text-align: center;
  color: #6b7280;
}

.login-form {
  display: flex;
  flex-direction: column;
  gap: 14px;
}

.form-item {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.form-item label {
  font-size: 13px;
  color: #374151;
}

.form-item input {
  height: 34px;
  padding: 0 10px;
  border-radius: 6px;
  border: 1px solid #d1d5db;
  font-size: 14px;
}

.form-item input:focus {
  outline: none;
  border-color: #2563eb;
  box-shadow: 0 0 0 1px rgba(37, 99, 235, 0.3);
}

.error-text {
  margin: 0;
  font-size: 12px;
  color: #b91c1c;
}

.login-btn {
  margin-top: 4px;
  height: 36px;
  border-radius: 6px;
  border: none;
  background-color: #2563eb;
  color: #ffffff;
  font-size: 14px;
  cursor: pointer;
}

.login-btn:hover {
  background-color: #1d4ed8;
}
</style>





================================================================================
文件路径: frontend\src\views\map-editor\index.vue
--------------------------------------------------------------------------------

<template>
  <div class="map-editor-layout">
    <MapHeader />

    <div class="editor-body">
      <!-- 传递事件打开弹窗 -->
      <LayerSidebar @open-create="showCreate = true" />
      <MapCanvas />
      <PropertiesPanel />
    </div>

    <!-- 弹窗 -->
    <CreateModal :visible="showCreate" @update:visible="showCreate = $event" />
  </div>
</template>

<script setup>
import { ref, onMounted } from 'vue'
import { useMapEditorStore } from './composables/useMapEditorStore'

import MapHeader from './components/EditorHeader/EditorHeader.vue'
import LayerSidebar from './components/Sidebar/Sidebar.vue'
import MapCanvas from './components/MapCanvas/MapCanvas.vue'
import PropertiesPanel from './components/PropertyPanel/PropertyPanel.vue'
import CreateModal from './components/CreateModel/CreateModel.vue'

const { loadMaps } = useMapEditorStore()
const showCreate = ref(false)

onMounted(() => {
  loadMaps()
})
</script>

<style scoped>
.map-editor-layout {
  height: 100vh;
  display: flex;
  flex-direction: column;
  background-color: #f8fafc;
}

.editor-body {
  display: flex;
  flex: 1;
  overflow: hidden;
}
</style>



================================================================================
文件路径: frontend\src\views\map-editor\components\CreateModel\CreateModel.css
--------------------------------------------------------------------------------

.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

.modal-content {
  background-color: #ffffff;
  border-radius: 0.5rem;
  width: 90%;
  max-width: 500px;
  max-height: 90vh;
  overflow-y: auto;
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 1.5rem;
  border-bottom: 1px solid #e2e8f0;
}

.modal-title {
  font-size: 1.25rem;
  font-weight: 600;
  margin: 0;
  color: #1e293b;
}

.modal-close {
  background: none;
  border: none;
  font-size: 1.5rem;
  color: #6b7280;
  cursor: pointer;
  padding: 0;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 0.25rem;
  transition: background-color 0.2s;
}

.modal-close:hover {
  background-color: #f3f4f6;
}

.modal-body {
  padding: 1.5rem;
}

.shape-templates {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 0.5rem;
}

.shape-template {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.5rem;
  padding: 1rem;
  border: 2px solid #e2e8f0;
  border-radius: 0.375rem;
  cursor: pointer;
  transition: all 0.2s;
}

.shape-template:hover {
  border-color: #93c5fd;
  background-color: #eff6ff;
}

.shape-template.selected {
  border-color: #3b82f6;
  background-color: #dbeafe;
}

.template-icon {
  font-size: 2rem;
}

.template-label {
  font-size: 0.75rem;
  font-weight: 500;
  color: #374151;
}

.size-control {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.size-slider {
  flex: 1;
}

.size-value {
  font-size: 0.875rem;
  color: #6b7280;
  min-width: 30px;
}

.form-group {
  margin-bottom: 1rem;
}

.form-label {
  display: block;
  font-size: 0.875rem;
  font-weight: 500;
  color: #374151;
  margin-bottom: 0.5rem;
}

.form-select {
  width: 100%;
  padding: 0.5rem;
  border: 1px solid #d1d5db;
  border-radius: 0.375rem;
}

.form-actions {
  display: flex;
  justify-content: flex-end;
  gap: 0.75rem;
  padding-top: 0.5rem;
}

.btn {
  padding: 0.5rem 1rem;
  border: none;
  border-radius: 0.375rem;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
}

.btn-primary {
  background-color: #3b82f6;
  color: #ffffff;
}

.btn-secondary {
  background-color: #6b7280;
  color: #ffffff;
}

.error-message {
  padding: 0.75rem;
  background-color: #fee2e2;
  border: 1px solid #fecaca;
  border-radius: 0.375rem;
  color: #dc2626;
  font-size: 0.875rem;
  margin-bottom: 1rem;
}



================================================================================
文件路径: frontend\src\views\map-editor\components\CreateModel\CreateModel.js
--------------------------------------------------------------------------------

import { reactive, ref } from 'vue'
import { useMapEditorStore } from '../../composables/useMapEditorStore'

export function useCreateModalLogic(props, emit) {
  const { currentMapId, addLocalFeature } = useMapEditorStore()

  const submitting = ref(false)
  const errorMessage = ref('')

  const form = reactive({
    type: 'storearea',
    shape: 'square',
    size: 20
  })

  const shapeTemplates = [
    { label: '正方形', shape: 'square', icon: '◼️' },
    { label: '矩形', shape: 'rect', icon: '▭️' },
    { label: '圆形', shape: 'circle', icon: '⭕' },
    { label: '三角形', shape: 'triangle', icon: '🔺' },
    { label: '六边形', shape: 'hexagon', icon: '⬢' }
  ]

  const close = () => {
    emit('update:visible', false)
    errorMessage.value = ''
  }

  // 生成几何数据
  const generateGeometry = (shape, size) => {
    // 默认生成在画布中心，这里简化为固定坐标 (200, 200)
    // 实际项目中可从 store 获取 stage 宽高
    const centerX = 200
    const centerY = 200
    const coords = []

    switch (shape) {
      case 'square':
        coords.push([centerX - size, centerY - size])
        coords.push([centerX + size, centerY - size])
        coords.push([centerX + size, centerY + size])
        coords.push([centerX - size, centerY + size])
        break
      case 'rect':
        coords.push([centerX - size * 1.5, centerY - size])
        coords.push([centerX + size * 1.5, centerY - size])
        coords.push([centerX + size * 1.5, centerY + size])
        coords.push([centerX - size * 1.5, centerY + size])
        break
      case 'circle': // 近似多边形
        const sides = 12
        for (let i = 0; i < sides; i++) {
          const angle = (i / sides) * Math.PI * 2
          coords.push([
            centerX + Math.cos(angle) * size,
            centerY + Math.sin(angle) * size
          ])
        }
        break
      case 'triangle':
        coords.push([centerX, centerY - size])
        coords.push([centerX + size, centerY + size])
        coords.push([centerX - size, centerY + size])
        break
      case 'hexagon':
        for (let i = 0; i < 6; i++) {
          const angle = (i / 6) * Math.PI * 2
          coords.push([
            centerX + Math.cos(angle) * size,
            centerY + Math.sin(angle) * size
          ])
        }
        break
    }

    // 闭合
    if (coords.length > 0) {
      coords.push([...coords[0]])
    }

    return {
      type: 'Polygon',
      coordinates: [coords]
    }
  }

  const handleCreate = async () => {
    if (!currentMapId.value) {
      errorMessage.value = '请先选择地图'
      return
    }

    submitting.value = true
    try {
      const geometry = generateGeometry(form.shape, form.size)

      const createData = {
        map_id: currentMapId.value,
        geometry: geometry,
        description: '',
        is_active: true
      }

      // 设置默认名称
      if (form.type === 'storearea') {
        createData.store_name = '新店铺'
        createData.store_type = 0
      } else if (form.type === 'eventarea') {
        createData.event_name = '新活动区域'
        createData.event_type = 0
      } else if (form.type === 'otherarea') {
        createData.name = '新区域'
        createData.type_id = 0
      }

      // 模拟创建成功 (实际应调用 API)
      const newArea = {
        id: Date.now(),
        ...createData
      }

      addLocalFeature(form.type, newArea)
      close()

    } catch (error) {
      errorMessage.value = error.message
    } finally {
      submitting.value = false
    }
  }

  return { form, shapeTemplates, handleCreate, close, submitting, errorMessage }
}



================================================================================
文件路径: frontend\src\views\map-editor\components\CreateModel\CreateModel.vue
--------------------------------------------------------------------------------

<template>
  <div v-if="visible" class="modal-overlay" @click="close">
    <div class="modal-content" @click.stop>
      <div class="modal-header">
        <h3 class="modal-title">新建区域</h3>
        <button class="modal-close" @click="close">×</button>
      </div>
      <div class="modal-body">
        <form @submit.prevent="handleCreate">
          <div v-if="errorMessage" class="error-message">
            {{ errorMessage }}
          </div>

          <div class="form-group">
            <label class="form-label">区域类型</label>
            <select v-model="form.type" class="form-select">
              <option value="storearea">店铺区域</option>
              <option value="eventarea">活动区域</option>
              <option value="otherarea">其他区域</option>
              <!-- 设施一般为点，暂不支持形状模板，或者可加Point模板 -->
            </select>
          </div>

          <div class="form-group">
            <label class="form-label">图形模板</label>
            <div class="shape-templates">
              <div
                v-for="tpl in shapeTemplates"
                :key="tpl.shape"
                :class="['shape-template', { selected: form.shape === tpl.shape }]"
                @click="form.shape = tpl.shape"
              >
                <span class="template-icon">{{ tpl.icon }}</span>
                <span class="template-label">{{ tpl.label }}</span>
              </div>
            </div>
          </div>

          <div class="form-group">
            <label class="form-label">大小</label>
            <div class="size-control">
              <input
                v-model.number="form.size"
                type="range"
                min="10"
                max="100"
                class="size-slider"
              >
              <span class="size-value">{{ form.size }}</span>
            </div>
          </div>

          <div class="form-actions">
            <button type="button" class="btn btn-secondary" @click="close">取消</button>
            <button type="submit" class="btn btn-primary" :disabled="submitting">
              <span v-if="submitting" class="btn-spinner"></span>
              创建
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</template>

<script setup>
import { useCreateModalLogic } from './CreateModel.js'
const props = defineProps({ visible: Boolean })
const emit = defineEmits(['update:visible'])

const { form, shapeTemplates, handleCreate, close, submitting, errorMessage } = useCreateModalLogic(props, emit)
</script>

<style scoped src="./CreateModel.css"></style>



================================================================================
文件路径: frontend\src\views\map-editor\components\EditorHeader\EditorHeader.css
--------------------------------------------------------------------------------

.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 2rem;
  background-color: #ffffff;
  border-bottom: 1px solid #e2e8f0;
}

.title {
  font-size: 1.5rem;
  font-weight: 600;
  margin: 0;
  color: #1e293b;
}

.actions {
  display: flex;
  gap: 1rem;
  align-items: center;
}

.map-selector {
  display: flex;
  align-items: center;
}

.filter-select {
  padding: 0.5rem 1rem;
  border: 1px solid #d1d5db;
  border-radius: 0.375rem;
  font-size: 0.875rem;
  background-color: #ffffff;
}



================================================================================
文件路径: frontend\src\views\map-editor\components\EditorHeader\EditorHeader.js
--------------------------------------------------------------------------------

import { useMapEditorStore } from '../../composables/useMapEditorStore'

export function useHeaderLogic() {
  const { maps, currentMapId, loadCurrentMap } = useMapEditorStore()

  const handleChange = async () => {
    if (!currentMapId.value) return
    await loadCurrentMap()
  }

  return {
    maps,
    currentMapId,
    handleChange
  }
}



================================================================================
文件路径: frontend\src\views\map-editor\components\EditorHeader\EditorHeader.vue
--------------------------------------------------------------------------------

<template>
  <div class="header">
    <h1 class="title">地图编辑器</h1>
    <div class="actions">
      <div class="map-selector">
        <select v-model="currentMapId" @change="handleChange" class="filter-select">
          <option value="">选择地图</option>
          <option v-for="m in maps" :key="m.id" :value="m.id">
            {{ m.building_name || '地图' }} - 楼层 {{ m.floor_number }}
          </option>
        </select>
      </div>
    </div>
  </div>
</template>

<script setup>
import { useHeaderLogic } from './EditorHeader'
const { maps, currentMapId, handleChange } = useHeaderLogic()
</script>

<style scoped src="./EditorHeader.css"></style>



================================================================================
文件路径: frontend\src\views\map-editor\components\MapCanvas\MapCanvas.css
--------------------------------------------------------------------------------

.map-canvas-container {
  flex: 1;
  position: relative;
  overflow: hidden;
  background-color: #f1f5f9;
}

.map-canvas-wrapper {
  width: 100%;
  height: 100%;
  position: relative;
}

.konva-stage-container {
  width: 100%;
  height: 100%;
  position: absolute;
  top: 0;
  left: 0;
}

.loading-container,
.empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  gap: 1rem;
  color: #6b7280;
}

.loading-spinner {
  width: 40px;
  height: 40px;
  border: 4px solid rgba(59, 130, 246, 0.3);
  border-top: 4px solid #3b82f6;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.empty-icon {
  font-size: 3rem;
  opacity: 0.5;
}



================================================================================
文件路径: frontend\src\views\map-editor\components\MapCanvas\MapCanvas.js
--------------------------------------------------------------------------------

import { watch, nextTick, onUnmounted } from 'vue'
import { useMapEditorStore } from '../../composables/useMapEditorStore'
import * as managementAPI from '@/api/management'
// 使用动态导入或确保 vite.config 已优化
import Konva from 'konva'

export function useCanvasLogic(stageContainerRef) {
  const {
    currentMap, loading,
    storeareas, eventareas, otherareas, facilities,
    selectedFeature, selectedType, selectFeature
  } = useMapEditorStore()

  let stage = null
  let layer = null
  let shapesLayer = null

  const typeColors = {
    storearea: '#2563eb',
    eventarea: '#16a34a',
    otherarea: '#f97316',
    facility: '#8b5cf6'
  }

  // --- 初始化 Konva ---
  const initKonva = () => {

    if (!stageContainerRef.value || !currentMap.value) {
        console.warn("InitKonva 中断，DOM 或数据未就绪。");
        return;
    }

    // 清理
    if (stage) stage.destroy()

    const width = stageContainerRef.value.offsetWidth
    const height = stageContainerRef.value.offsetHeight
    console.log("画布容器尺寸:", width, height); // 如果这里是 0, 0，地图就看不见
    stage = new Konva.Stage({
      container: stageContainerRef.value,
      width,
      height,
      draggable: true
    })

    layer = new Konva.Layer()
    shapesLayer = new Konva.Layer()
    stage.add(layer)
    stage.add(shapesLayer)

    // 滚轮缩放事件
    stage.on('wheel', handleWheel)

    drawBackground()
    drawAllFeatures()
  }

  // --- 绘制背景 ---
  const drawBackground = () => {
    if (!layer) return
    layer.destroyChildren()

    // 绘制一个足够大的背景矩形用于拖拽
    const bg = new Konva.Rect({
      x: -5000,
      y: -5000,
      width: 10000,
      height: 10000,
      fill: '#f5f5f5',
      stroke: '#ddd',
      strokeWidth: 1
    })
    layer.add(bg)
    layer.draw()
  }

  // --- 绘制通用多边形 ---
  const drawPolygon = (area, type) => {
    if (!area.geometry || !area.geometry.coordinates || !shapesLayer) return

    let points = []
    // 简单的 GeoJSON 解析 (Polygon/MultiPolygon)
    if (area.geometry.type === 'Polygon') {
      points = area.geometry.coordinates[0].flat()
    } else if (area.geometry.type === 'MultiPolygon') {
      points = area.geometry.coordinates[0][0].flat()
    }

    if (points.length < 6) return

    const color = typeColors[type]
    const poly = new Konva.Polygon({
      points,
      closed: true,
      fill: `${color}30`,
      stroke: color,
      strokeWidth: 1,
      draggable: true,
      id: `${type}-${area.id}`
    })

    // 选中态
    if (selectedFeature.value?.id === area.id && selectedType.value === type) {
      poly.strokeWidth(2)
      poly.fill(`${color}40`)
      poly.shadowBlur(5)
      poly.shadowColor(color)
    }

    poly.on('click', (e) => {
      e.cancelBubble = true
      selectFeature(type, area)
    })

    // 拖拽结束更新位置
    poly.on('dragend', function() {
      handleGeometryChange(type, area, this)
    })

    shapesLayer.add(poly)
  }

  // --- 绘制设施 (圆点) ---
  const drawFacility = (facility) => {
    if (!shapesLayer) return

    let x = 0
    let y = 0

    // 解析坐标：优先使用 location 对象，其次解析 GeoJSON Point
    if (facility.location && typeof facility.location.x === 'number') {
      x = facility.location.x
      y = facility.location.y
    } else if (facility.geometry && facility.geometry.type === 'Point') {
      x = facility.geometry.coordinates[0]
      y = facility.geometry.coordinates[1]
    } else {
      return
    }

    const color = typeColors['facility']
    const circle = new Konva.Circle({
      x,
      y,
      radius: 10,
      fill: `${color}80`,
      stroke: color,
      strokeWidth: 2,
      draggable: true,
      id: `facility-${facility.id}`
    })

    if (selectedFeature.value?.id === facility.id && selectedType.value === 'facility') {
      circle.strokeWidth(3)
      circle.shadowBlur(8)
      circle.shadowColor(color)
    }

    circle.on('click', (e) => {
      e.cancelBubble = true
      selectFeature('facility', facility)
    })

    circle.on('dragend', function() {
      handleFacilityLocationChange(facility, this)
    })

    shapesLayer.add(circle)
  }

  // --- 绘制所有要素 ---
  const drawAllFeatures = () => {
    if (!shapesLayer) return
    shapesLayer.destroyChildren()

    storeareas.value.forEach(a => drawPolygon(a, 'storearea'))
    eventareas.value.forEach(a => drawPolygon(a, 'eventarea'))
    otherareas.value.forEach(a => drawPolygon(a, 'otherarea'))
    facilities.value.forEach(f => drawFacility(f))

    shapesLayer.draw()
  }

  // --- 事件处理：多边形几何更新 ---
  const handleGeometryChange = async (type, area, shapeNode) => {
    const points = shapeNode.points()
    const x = shapeNode.x()
    const y = shapeNode.y()

    // Konva 的 points 是相对坐标，需要加上 offset (x, y) 转换为绝对坐标
    const absCoords = []
    for(let i=0; i<points.length; i+=2) {
      absCoords.push([points[i] + x, points[i+1] + y])
    }
    // 闭合多边形
    if(absCoords.length > 0) absCoords.push([...absCoords[0]])

    // 1. 更新本地数据
    area.geometry = { type: 'Polygon', coordinates: [absCoords] }

    // 重置 shapeNode，防止 Konva 内部状态偏移累积
    shapeNode.position({x:0, y:0})
    shapeNode.points(absCoords.flat())

    // 2. 调用 API 保存
    try {
      const updateFn = {
        storearea: managementAPI.updateManagementStorearea,
        eventarea: managementAPI.updateManagementEventarea,
        otherarea: managementAPI.updateManagementOtherarea
      }[type]

      if (updateFn) {
        // 注意：实际后端可能需要 WKT 或特定的 shape 格式字符串
        // 这里假设后端接受 GeoJSON 对象或由前端序列化
        const payload = { ...area }
        // 如果后端在 management 接口不接受 shape/geometry，需调用 editor 接口
        // 这里暂且复用 management 接口逻辑，实际需根据后端 editor.js 调整
        console.log(`[Mock] Saving geometry for ${type} ${area.id}`)
      }
    } catch(e) {
      console.error('Geometry save failed', e)
    }
  }

  // --- 事件处理：设施位置更新 ---
  const handleFacilityLocationChange = async (facility, shapeNode) => {
    const x = shapeNode.x()
    const y = shapeNode.y()

    // 1. 更新本地
    facility.location = { x, y }
    // 如果有 geometry 字段也同步更新
    if (facility.geometry) {
      facility.geometry = { type: 'Point', coordinates: [x, y] }
    }

    // 2. 调用 API
    try {
      await managementAPI.updateManagementFacility(facility.id, { location: { x, y } })
    } catch(e) {
      console.error('Facility location save failed', e)
    }
  }

  // --- 缩放逻辑 ---
  const handleWheel = (e) => {
    e.evt.preventDefault()
    const scaleBy = 1.1
    const oldScale = stage.scaleX()
    const pointer = stage.getPointerPosition()
    const mousePointTo = {
      x: (pointer.x - stage.x()) / oldScale,
      y: (pointer.y - stage.y()) / oldScale,
    }
    const newScale = e.evt.deltaY > 0 ? oldScale / scaleBy : oldScale * scaleBy
    stage.scale({ x: newScale, y: newScale })
    const newPos = {
      x: pointer.x - mousePointTo.x * newScale,
      y: pointer.y - mousePointTo.y * newScale,
    }
    stage.position(newPos)
    stage.batchDraw()
  }

  // --- 监听器 ---
  watch(
    [storeareas, eventareas, otherareas, facilities, selectedFeature],
    () => { if (stage) drawAllFeatures() },
    { deep: true }
  )

  watch(currentMap, async (newMap) => {
    if (newMap) {
      await nextTick()
      initKonva()
    }
  })

  onUnmounted(() => {
    if(stage) stage.destroy()
  })

  return {}
}



================================================================================
文件路径: frontend\src\views\map-editor\components\MapCanvas\MapCanvas.vue
--------------------------------------------------------------------------------

<template>
  <main class="map-canvas-container">
    <div v-if="loading" class="loading-container">
      <div class="loading-spinner"></div>
      <span>加载中...</span>
    </div>

    <div v-else-if="!currentMap" class="empty-state">
      <span class="empty-icon">🗺️</span>
      <p>请选择一个地图进行编辑</p>
    </div>

    <div v-else class="map-canvas-wrapper">
      <div ref="stageContainer" class="konva-stage-container"></div>
    </div>
  </main>
</template>

<script setup>
import { ref } from 'vue'
import { useCanvasLogic } from './MapCanvas.js'

const stageContainer = ref(null)
useCanvasLogic(stageContainer)
</script>

<style scoped src="./MapCanvas.css"></style>



================================================================================
文件路径: frontend\src\views\map-editor\components\PropertyPanel\PropertyPanel.css
--------------------------------------------------------------------------------

.properties-panel {
  width: 320px;
  background-color: #ffffff;
  border-left: 1px solid #e2e8f0;
  display: flex;
  flex-direction: column;
}

.panel-header {
  padding: 1rem;
  border-bottom: 1px solid #e2e8f0;
}

.panel-title {
  font-size: 1rem;
  font-weight: 600;
  margin: 0;
  color: #374151;
}

.panel-content {
  flex: 1;
  overflow-y: auto;
  padding: 1rem;
}

.panel-empty {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  color: #6b7280;
}

.properties-form {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.form-group {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.form-label {
  font-size: 0.875rem;
  font-weight: 500;
  color: #374151;
}

.form-input,
.form-select,
.form-textarea {
  padding: 0.5rem;
  border: 1px solid #d1d5db;
  border-radius: 0.375rem;
  font-size: 0.875rem;
  background-color: #ffffff;
}

.form-textarea {
  resize: vertical;
  min-height: 80px;
}

.toggle-switch {
  display: flex;
  align-items: center;
}

.toggle-input {
  display: none;
}

.toggle-label {
  position: relative;
  display: inline-block;
  width: 48px;
  height: 24px;
  background-color: #d1d5db;
  border-radius: 12px;
  cursor: pointer;
  transition: background-color 0.3s;
}

.toggle-label::after {
  content: '';
  position: absolute;
  top: 2px;
  left: 2px;
  width: 20px;
  height: 20px;
  background-color: #ffffff;
  border-radius: 50%;
  transition: transform 0.3s;
}

.toggle-input:checked + .toggle-label {
  background-color: #3b82f6;
}

.toggle-input:checked + .toggle-label::after {
  transform: translateX(24px);
}

.toggle-text {
  margin-left: 0.5rem;
  font-size: 0.875rem;
  color: #6b7280;
}

.form-actions {
  display: flex;
  justify-content: flex-end;
  padding-top: 0.5rem;
}

.btn-primary {
  background-color: #3b82f6;
  color: #ffffff;
  padding: 0.5rem 1rem;
  border: none;
  border-radius: 0.375rem;
  font-size: 0.875rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.btn-primary:disabled {
  opacity: 0.7;
  cursor: not-allowed;
}

.btn-spinner {
  width: 14px;
  height: 14px;
  border: 2px solid #ffffff;
  border-top-color: transparent;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

.error-message {
  padding: 0.75rem;
  background-color: #fee2e2;
  border: 1px solid #fecaca;
  border-radius: 0.375rem;
  color: #dc2626;
  font-size: 0.875rem;
}



================================================================================
文件路径: frontend\src\views\map-editor\components\PropertyPanel\PropertyPanel.js
--------------------------------------------------------------------------------

import { reactive, ref, watch } from 'vue'
import { useMapEditorStore } from '../../composables/useMapEditorStore'
import * as managementAPI from '@/api/management'

export function usePropertiesLogic() {
  const { selectedFeature, selectedType, updateLocalFeature } = useMapEditorStore()
  const submitting = ref(false)
  const errorMessage = ref('')

  const form = reactive({
    name: '',
    type: '0',
    description: '',
    is_active: true
  })

  const typeNames = {
    storearea: '店铺',
    eventarea: '活动区域',
    otherarea: '其他区域',
    facility: '设施'
  }

  const getTypeName = () => typeNames[selectedType.value] || '区域'

  // 监听选中变更，回填表单
  watch(selectedFeature, (newVal) => {
    if (newVal) {
      form.name = newVal.name || newVal.store_name || newVal.event_name || newVal.description || ''
      form.type = newVal.store_type?.toString() || newVal.type_id?.toString() || newVal.event_type?.toString() || newVal.type?.toString() || '0'
      form.description = newVal.description || ''
      form.is_active = newVal.is_active !== undefined ? newVal.is_active : true
    }
  })

  const save = async () => {
    if (!selectedFeature.value || !selectedType.value) return
    submitting.value = true
    errorMessage.value = ''

    try {
      // 构造提交数据
      const submitData = {
        name: form.name,
        description: form.description,
        is_active: form.is_active
      }

      // 根据类型适配字段
      if (selectedType.value === 'storearea') {
        submitData.store_name = form.name
        submitData.store_type = parseInt(form.type)
        delete submitData.name
      } else if (selectedType.value === 'eventarea') {
        submitData.event_name = form.name
        submitData.event_type = parseInt(form.type)
        delete submitData.name
      } else if (selectedType.value === 'otherarea') {
        submitData.type_id = parseInt(form.type)
      } else if (selectedType.value === 'facility') {
        submitData.description = form.name // 设施通常用 description 作名称
        submitData.type = parseInt(form.type)
        delete submitData.name
      }

      // 调用 API
      await managementAPI.updateAreaByTypeAndId(selectedType.value, selectedFeature.value.id, submitData)

      // 更新本地数据，实现即时反馈
      const localUpdate = { ...submitData }
      // 还原回本地字段名
      if (selectedType.value === 'storearea') localUpdate.store_name = form.name
      else if (selectedType.value === 'eventarea') localUpdate.event_name = form.name
      else if (selectedType.value === 'otherarea') localUpdate.name = form.name

      updateLocalFeature(localUpdate)

    } catch (error) {
      console.error('保存属性失败:', error)
      errorMessage.value = `保存失败: ${error.message || '未知错误'}`
    } finally {
      submitting.value = false
    }
  }

  return {
    form,
    selectedFeature,
    selectedType,
    save,
    submitting,
    errorMessage,
    getTypeName
  }
}



================================================================================
文件路径: frontend\src\views\map-editor\components\PropertyPanel\PropertyPanel.vue
--------------------------------------------------------------------------------

<template>
  <aside class="properties-panel">
    <div class="panel-header">
      <h3 class="panel-title">属性编辑</h3>
    </div>

    <div v-if="!selectedFeature" class="panel-empty">
      <p>请选择一个区域进行编辑</p>
    </div>

    <div v-else class="panel-content">
      <form @submit.prevent="save" class="properties-form">
        <div v-if="errorMessage" class="error-message">
          {{ errorMessage }}
        </div>

        <div class="form-group">
          <label class="form-label">ID</label>
          <input type="text" :value="selectedFeature.id" class="form-input" disabled>
        </div>

        <div class="form-group">
          <label class="form-label">名称</label>
          <input
            v-model="form.name"
            type="text"
            class="form-input"
            :placeholder="`请输入${getTypeName()}名称`"
          >
        </div>

        <div class="form-group">
          <label class="form-label">类型</label>
          <select v-model="form.type" class="form-select">
            <!-- 店铺类型 -->
            <template v-if="selectedType === 'storearea'">
              <option value="0">普通店铺</option>
              <option value="1">餐饮</option>
              <option value="2">服饰</option>
              <option value="3">娱乐</option>
              <option value="4">服务</option>
            </template>

            <!-- 活动区域类型 -->
            <template v-if="selectedType === 'eventarea'">
              <option value="0">普通活动区域</option>
              <option value="1">促销活动</option>
              <option value="2">展览活动</option>
              <option value="3">表演活动</option>
            </template>

            <!-- 其他区域类型 -->
            <template v-if="selectedType === 'otherarea'">
              <option value="0">公共区域</option>
              <option value="1">办公区域</option>
              <option value="2">设备区域</option>
              <option value="3">其他</option>
            </template>

            <!-- 设施类型 -->
            <template v-if="selectedType === 'facility'">
              <option value="0">电梯</option>
              <option value="1">卫生间</option>
              <option value="2">安全出口</option>
              <option value="3">服务台</option>
              <option value="4">其他</option>
            </template>
          </select>
        </div>

        <div class="form-group">
          <label class="form-label">描述</label>
          <textarea
            v-model="form.description"
            class="form-textarea"
            rows="3"
            :placeholder="`请输入${getTypeName()}描述`"
          ></textarea>
        </div>

        <div class="form-group">
          <label class="form-label">状态</label>
          <div class="toggle-switch">
            <input
              v-model="form.is_active"
              type="checkbox"
              id="status-toggle"
              class="toggle-input"
            >
            <label for="status-toggle" class="toggle-label">
              <span class="toggle-slider"></span>
              <span class="toggle-text">{{ form.is_active ? '启用' : '停用' }}</span>
            </label>
          </div>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary" :disabled="submitting">
            <span v-if="submitting" class="btn-spinner"></span>
            保存
          </button>
        </div>
      </form>
    </div>
  </aside>
</template>

<script setup>
import { usePropertiesLogic } from './PropertyPanel.js'
const { form, selectedFeature, selectedType, save, submitting, errorMessage, getTypeName } = usePropertiesLogic()
</script>

<style scoped src="./PropertyPanel.css"></style>



================================================================================
文件路径: frontend\src\views\map-editor\components\Sidebar\Sidebar.css
--------------------------------------------------------------------------------

.sidebar {
  width: 280px;
  background-color: #ffffff;
  border-right: 1px solid #e2e8f0;
  display: flex;
  flex-direction: column;
}

.sidebar-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem;
  border-bottom: 1px solid #e2e8f0;
}

.sidebar-title {
  font-size: 1rem;
  font-weight: 600;
  margin: 0;
  color: #374151;
}

.layer-groups {
  flex: 1;
  overflow-y: auto;
  padding: 0.5rem;
}

.layer-group {
  margin-bottom: 0.5rem;
  border-radius: 0.375rem;
  overflow: hidden;
}

.layer-group-header {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1rem;
  background-color: #f3f4f6;
  cursor: pointer;
  font-size: 0.875rem;
  font-weight: 500;
  color: #374151;
  user-select: none;
}

.layer-icon {
  font-size: 1rem;
}

.layer-count {
  margin-left: auto;
  font-size: 0.75rem;
  color: #6b7280;
}

.layer-toggle {
  font-size: 0.75rem;
  color: #6b7280;
  transition: transform 0.2s;
}

.layer-toggle.expanded {
  transform: rotate(0deg); /* 根据具体字符调整，此处仅占位 */
}

.layer-items {
  padding: 0.25rem 0;
  background-color: #f9fafb;
}

.layer-item {
  padding: 0.5rem 1.5rem;
  font-size: 0.875rem;
  color: #4b5563;
  cursor: pointer;
  transition: background-color 0.2s;
}

.layer-item:hover {
  background-color: #f3f4f6;
}

.layer-item.selected {
  background-color: #dbeafe;
  color: #1e40af;
  border-right: 3px solid #3b82f6;
}

.btn-primary {
  background-color: #3b82f6;
  color: #ffffff;
  padding: 0.5rem 1rem;
  border: none;
  border-radius: 0.375rem;
  font-size: 0.875rem;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

.btn-primary:hover {
  background-color: #2563eb;
}



================================================================================
文件路径: frontend\src\views\map-editor\components\Sidebar\Sidebar.js
--------------------------------------------------------------------------------

import { reactive } from 'vue'
import { useMapEditorStore } from '../../composables/useMapEditorStore'

export function useSidebarLogic() {
  const {
    storeareas, eventareas, otherareas, facilities,
    selectFeature, selectedFeature, selectedType
  } = useMapEditorStore()

  const expandedLayers = reactive({
    storearea: true,
    eventarea: true,
    otherarea: true,
    facility: true
  })

  const toggleLayer = (type) => {
    expandedLayers[type] = !expandedLayers[type]
  }

  const handleSelect = (type, item) => {
    selectFeature(type, item)
  }

  const isSelected = (type, id) => {
    return selectedType.value === type && selectedFeature.value?.id === id
  }

  return {
    storeareas,
    eventareas,
    otherareas,
    facilities,
    expandedLayers,
    toggleLayer,
    handleSelect,
    isSelected
  }
}



================================================================================
文件路径: frontend\src\views\map-editor\components\Sidebar\Sidebar.vue
--------------------------------------------------------------------------------

<template>
  <aside class="sidebar">
    <div class="sidebar-header">
      <h3 class="sidebar-title">区域列表</h3>
      <button class="btn btn-primary" @click="$emit('open-create')">
        <span class="btn-icon">+</span> 新建区域
      </button>
    </div>

    <div class="layer-groups">
      <!-- 1. 店铺区域 -->
      <div class="layer-group">
        <div class="layer-group-header" @click="toggleLayer('storearea')">
          <span class="layer-icon">🏪</span>
          <span class="layer-title">店铺区域</span>
          <span class="layer-count">({{ storeareas.length }})</span>
          <span :class="['layer-toggle', { expanded: expandedLayers.storearea }]">
            {{ expandedLayers.storearea ? '▼' : '▶' }}
          </span>
        </div>
        <div v-if="expandedLayers.storearea" class="layer-items">
          <div
            v-for="area in storeareas"
            :key="area.id"
            :class="['layer-item', { selected: isSelected('storearea', area.id) }]"
            @click="handleSelect('storearea', area)"
          >
            <span class="layer-item-name">{{ area.store_name || '未命名' }}</span>
          </div>
        </div>
      </div>

      <!-- 2. 活动区域 -->
      <div class="layer-group">
        <div class="layer-group-header" @click="toggleLayer('eventarea')">
          <span class="layer-icon">🎪</span>
          <span class="layer-title">活动区域</span>
          <span class="layer-count">({{ eventareas.length }})</span>
          <span :class="['layer-toggle', { expanded: expandedLayers.eventarea }]">
            {{ expandedLayers.eventarea ? '▼' : '▶' }}
          </span>
        </div>
        <div v-if="expandedLayers.eventarea" class="layer-items">
          <div
            v-for="area in eventareas"
            :key="area.id"
            :class="['layer-item', { selected: isSelected('eventarea', area.id) }]"
            @click="handleSelect('eventarea', area)"
          >
            <span class="layer-item-name">{{ area.event_name || '未命名' }}</span>
          </div>
        </div>
      </div>

      <!-- 3. 其他区域 -->
      <div class="layer-group">
        <div class="layer-group-header" @click="toggleLayer('otherarea')">
          <span class="layer-icon">🏢</span>
          <span class="layer-title">其他区域</span>
          <span class="layer-count">({{ otherareas.length }})</span>
          <span :class="['layer-toggle', { expanded: expandedLayers.otherarea }]">
            {{ expandedLayers.otherarea ? '▼' : '▶' }}
          </span>
        </div>
        <div v-if="expandedLayers.otherarea" class="layer-items">
          <div
            v-for="area in otherareas"
            :key="area.id"
            :class="['layer-item', { selected: isSelected('otherarea', area.id) }]"
            @click="handleSelect('otherarea', area)"
          >
            <span class="layer-item-name">{{ area.name || '未命名' }}</span>
          </div>
        </div>
      </div>

      <!-- 4. 设施 -->
      <div class="layer-group">
        <div class="layer-group-header" @click="toggleLayer('facility')">
          <span class="layer-icon">🚻</span>
          <span class="layer-title">设施</span>
          <span class="layer-count">({{ facilities.length }})</span>
          <span :class="['layer-toggle', { expanded: expandedLayers.facility }]">
            {{ expandedLayers.facility ? '▼' : '▶' }}
          </span>
        </div>
        <div v-if="expandedLayers.facility" class="layer-items">
          <div
            v-for="facility in facilities"
            :key="facility.id"
            :class="['layer-item', { selected: isSelected('facility', facility.id) }]"
            @click="handleSelect('facility', facility)"
          >
            <span class="layer-item-name">{{ facility.description || '未命名' }}</span>
          </div>
        </div>
      </div>
    </div>
  </aside>
</template>

<script setup>
import { useSidebarLogic } from './Sidebar.js'
const {
  storeareas, eventareas, otherareas, facilities,
  expandedLayers, toggleLayer, handleSelect, isSelected
} = useSidebarLogic()

defineEmits(['open-create'])
</script>

<style scoped src="./Sidebar.css"></style>



================================================================================
文件路径: frontend\src\views\map-editor\composables\useMapEditorStore.js
--------------------------------------------------------------------------------

import { ref, reactive } from 'vue'
import { listMaps, getMapById } from '@/api/map'
import * as managementAPI from '@/api/management'

// 定义全局响应式状态（单例模式，类似简易 Pinia）
const maps = ref([])
const currentMapId = ref('')
const currentMap = ref(null)
const loading = ref(false)

// 图层数据
const storeareas = ref([])
const eventareas = ref([])
const otherareas = ref([])
const facilities = ref([])

// 选中状态
const selectedType = ref('')
const selectedFeature = ref(null)

// 辅助函数：合并数据
const mergeData = (mapData, mgmtData) => {
  if (mapData && mapData.length > 0) {
    if (mgmtData && mgmtData.length > 0) {
      const mapDataById = new Map(mapData.map(item => [item.id, item]))
      mgmtData.forEach(item => {
        if (!mapDataById.has(item.id)) {
          mapDataById.set(item.id, item)
        } else {
          Object.assign(mapDataById.get(item.id), item)
        }
      })
      return Array.from(mapDataById.values())
    }
    return mapData
  }
  return mgmtData || []
}

export function useMapEditorStore() {

  // 加载地图列表
  const loadMaps = async () => {
    loading.value = true
    try {
      const response = await listMaps()
      maps.value = response.data || response
      if (maps.value.length > 0 && !currentMapId.value) {
        currentMapId.value = maps.value[0].id
        await loadCurrentMap()
      }
    } catch (error) {
      console.error('加载地图列表失败:', error)
    } finally {
      loading.value = false
    }
  }

  // 加载当前地图详情及所有区域数据
  const loadCurrentMap = async () => {
    if (!currentMapId.value) return
    loading.value = true

    try {
      // 1. 获取地图详情 (包含 geometry)
      const mapRes = await getMapById(currentMapId.value)
      const mapData = mapRes.data || mapRes
      currentMap.value = mapData
      // 2. 获取管理数据 (包含属性)
      const [sData, eData, oData, fData] = await Promise.all([
        managementAPI.listManagementStoreareas(),
        managementAPI.listManagementEventareas(),
        managementAPI.listManagementOtherareas(),
        managementAPI.listManagementFacilities()
      ])

      const mapId = currentMapId.value

      // 3. 过滤并合并
      storeareas.value = mergeData(
        mapData.stores || mapData.storeareas,
        (sData.data || sData).filter(i => i.map_id == mapId)
      )
      eventareas.value = mergeData(
        mapData.events || mapData.eventareas,
        (eData.data || eData).filter(i => i.map_id == mapId)
      )
      otherareas.value = mergeData(
        mapData.other_areas || mapData.otherareas,
        (oData.data || oData).filter(i => i.map_id == mapId)
      )
      facilities.value = mergeData(
        mapData.facilities,
        (fData.data || fData).filter(i => i.map_id == mapId)
      )

      // 清空选中
      selectedFeature.value = null
      selectedType.value = ''
    } catch (error) {
      console.error('加载地图详情失败:', error)
    } finally {
      loading.value = false
    }
  }

  // 选中功能
  const selectFeature = (type, feature) => {
    selectedType.value = type
    selectedFeature.value = feature
  }

  // 更新本地单个区域数据（用于保存属性后的即时回显）
  const updateLocalFeature = (updatedData) => {
    if (!selectedFeature.value) return
    Object.assign(selectedFeature.value, updatedData)
  }

  // 添加本地新区域
  const addLocalFeature = (type, feature) => {
    if (type === 'storearea') storeareas.value.push(feature)
    else if (type === 'eventarea') eventareas.value.push(feature)
    else if (type === 'otherarea') otherareas.value.push(feature)
  }

  return {
    maps,
    currentMapId,
    currentMap,
    loading,
    storeareas,
    eventareas,
    otherareas,
    facilities,
    selectedType,
    selectedFeature,
    loadMaps,
    loadCurrentMap,
    selectFeature,
    updateLocalFeature,
    addLocalFeature
  }
}


